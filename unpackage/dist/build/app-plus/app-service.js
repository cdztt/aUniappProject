(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-service"],{"0174":function(e,t,n){"use strict";n.r(t);var r=n("7c91"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"0251":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useDefaultAdapter=t.useAdapters=t.RUNTIME=void 0;var s,a=o(n("fc76")),u=n("ea32");function c(e){for(var t=u.isArray(e)?e:[e],n=0,r=t;n<r.length;n++){var i=r[n],o=i.isMatch,s=i.genAdapter,a=i.runtime;if(o())return{adapter:s(),runtime:a}}}function l(){return{adapter:a.genAdapter(),runtime:s.WEB}}(function(e){e["WEB"]="web",e["WX_MP"]="wx_mp"})(s=t.RUNTIME||(t.RUNTIME={})),t.useAdapters=c,t.useDefaultAdapter=l},"0291":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.cloudbase=void 0;var r=n("fce3"),i=l(n("d749")),o=n("c87c"),s=n("b56d"),a=n("c9af"),u=n("051b"),c=n("e1ce");function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},d=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},y=r.adapters.useAdapters,g=r.adapters.useDefaultAdapter,v=r.adapters.RUNTIME,m=r.constants.ERRORS,b=r.constants.COMMUNITY_SITE_URL,w=r.utils.printWarn,E=r.helpers.catchErrorsDecorator,S={timeout:15e3,persistence:"session"},O=6e5,A=100,T={},I=function(){function e(e){this._config=e||this._config,this.authInstance=null}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"platform",{get:function(){return s.Platform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cache",{get:function(){return(0,a.getCacheByEnvId)(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCache",{get:function(){return(0,a.getLocalCache)(this._config.env)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"request",{get:function(){return(0,u.getRequestByEnvId)(this._config.env)},enumerable:!1,configurable:!0}),e.prototype.init=function(t){if(!t.env)throw new Error(JSON.stringify({code:m.INVALID_PARAMS,msg:"env must not be specified"}));if(s.Platform.adapter||this._useDefaultAdapter(),this.requestClient=new s.Platform.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:"["+(0,c.getSdkName)()+"][REQUEST TIMEOUT] request had been abort since didn't finished within"+t.timeout/1e3+"s"}),s.Platform.runtime!==v.WEB){if(!t.appSecret)throw new Error(JSON.stringify({code:m.INVALID_PARAMS,msg:"invalid appSecret"}));var n=s.Platform.adapter.getAppSign?s.Platform.adapter.getAppSign():"";if(t.appSign&&n&&t.appSign!==n)throw new Error(JSON.stringify({code:m.INVALID_PARAMS,msg:"invalid appSign"}));if(n&&(t.appSign=n),!t.appSign)throw new Error(JSON.stringify({code:m.INVALID_PARAMS,msg:"invalid appSign"}))}this._config=f(f({},S),t),this._config.timeout=this._formatTimeout(this._config.timeout);var r=this._config,i=r.env,o=r.persistence,l=r.debug,d=r.timeout,p=r.appSecret,h=r.appSign;(0,a.initCache)({env:i,persistence:o,debug:l,platformInfo:this.platform}),(0,u.initRequest)({env:i,region:t.region||"",timeout:d,appSecret:p,appSign:h}),t.region&&(0,c.setRegionLevelEndpoint)(i,t.region||"");var _=new e(this._config);return _.requestClient=this.requestClient,_},e.prototype.updateConfig=function(e){var t=e.persistence,n=e.debug;this._config.persistence=t,this._config.debug=n,(0,a.initCache)({env:this._config.env,persistence:t,debug:n,platformInfo:this.platform})},e.prototype.registerExtension=function(e){T[e.name]=e},e.prototype.invokeExtension=function(e,t){return h(this,void 0,void 0,(function(){var n;return _(this,(function(r){switch(r.label){case 0:if(n=T[e],!n)throw new Error(JSON.stringify({code:m.INVALID_PARAMS,msg:"extension:"+e+" must be registered before invoke"}));return[4,n.invoke(t,this)];case 1:return[2,r.sent()]}}))}))},e.prototype.useAdapters=function(e){var t=y(e)||{},n=t.adapter,r=t.runtime;n&&(s.Platform.adapter=n),r&&(s.Platform.runtime=r)},e.prototype.registerHook=function(t){(0,o.registerHook)(e,t)},e.prototype.registerComponent=function(t){(0,o.registerComponent)(e,t)},e.prototype.registerVersion=function(e){(0,c.setSdkVersion)(e)},e.prototype.registerSdkName=function(e){(0,c.setSdkName)(e)},e.prototype.registerEndPoint=function(e,t){(0,c.setEndPoint)(e,t)},e.prototype._useDefaultAdapter=function(){var e=g(),t=e.adapter,n=e.runtime;s.Platform.adapter=t,s.Platform.runtime=n},e.prototype._formatTimeout=function(e){switch(!0){case e>O:return w(m.INVALID_PARAMS,"timeout is greater than maximum value[10min]"),O;case e<A:return w(m.INVALID_PARAMS,"timeout is less than maximum value[100ms]"),A;default:return e}},d([E({mode:"sync",title:"Cloudbase \u521d\u59cb\u5316\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 cloudbase.init() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5982\u679c\u662f\u975e\u6d4f\u89c8\u5668\u73af\u5883\uff0c\u662f\u5426\u914d\u7f6e\u4e86\u5b89\u5168\u5e94\u7528\u6765\u6e90\uff08https://docs.cloudbase.net/api-reference/webv2/adapter.html#jie-ru-liu-cheng\uff09","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+b]}),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",e)],e.prototype,"init",null),d([E({title:"\u8c03\u7528\u6269\u5c55\u80fd\u529b\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 invokeExtension() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u88ab\u8c03\u7528\u7684\u6269\u5c55\u80fd\u529b\u662f\u5426\u5df2\u7ecf\u5b89\u88c5\u5e76\u901a\u8fc7 registerExtension() \u6ce8\u518c","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+b]}),p("design:type",Function),p("design:paramtypes",[String,Object]),p("design:returntype",Promise)],e.prototype,"invokeExtension",null),e}(),N=new I;t.cloudbase=N,N.useAdapters(i.default);var R=N;t.default=R},"051b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initRequest=S,t.getRequestByEnvId=O,t.CloudbaseRequest=void 0;var r=n("e1ce"),i=n("fce3"),o=n("0291"),s=n("c9af"),a=n("c5ec"),u=n("b56d"),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=i.constants.ERRORS,p=i.utils.genSeqId,h=i.utils.isFormData,_=i.utils.formatUrl,y=i.utils.createSign,g=i.adapters.RUNTIME,v=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"];function m(e,t,n){var r=e[t];e[t]=function(t){var i={},o={};n.forEach((function(n){var r=n.call(e,t),s=r.data,a=r.headers;Object.assign(i,s),Object.assign(o,a)}));var s=t.data;return s&&function(){if(h(s))for(var e in i)s.append(e,i[e]);else t.data=c(c({},s),i)}(),t.headers=c(c({},t.headers||{}),o),r.call(e,t)}}function b(){var e=p();return{data:{seqId:e},headers:{"X-SDK-Version":"@cloudbase/js-sdk/"+(0,r.getSdkVersion)(),"x-seqid":e}}}var w=function(){function e(e){this._throwWhenRequestFail=!1,this.config=e,this._reqClass=new u.Platform.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:"[@cloudbase/js-sdk] \u8bf7\u6c42\u5728"+this.config.timeout/1e3+"s\u5185\u672a\u5b8c\u6210\uff0c\u5df2\u4e2d\u65ad",restrictedMethods:["post"]}),this._throwWhenRequestFail=e.throw||!1,this._cache=(0,s.getCacheByEnvId)(this.config.env),this._localCache=(0,s.getLocalCache)(this.config.env),m(this._reqClass,"post",[b]),m(this._reqClass,"upload",[b]),m(this._reqClass,"download",[b])}return e.prototype.post=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this._reqClass.post(e)];case 1:return t=n.sent(),[2,t]}}))}))},e.prototype.upload=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this._reqClass.upload(e)];case 1:return t=n.sent(),[2,t]}}))}))},e.prototype.download=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this._reqClass.download(e)];case 1:return t=n.sent(),[2,t]}}))}))},e.prototype.refreshAccessToken=function(){return l(this,void 0,void 0,(function(){var e,t,n;return f(this,(function(r){switch(r.label){case 0:this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken()),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._refreshAccessTokenPromise];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),t=n,[3,4];case 4:if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return[2,e]}}))}))},e.prototype.getAccessToken=function(){return l(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c;return f(this,(function(l){switch(l.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,r=e.refreshTokenKey,[4,this._cache.getStoreAsync(r)];case 1:if(i=l.sent(),!i)throw new Error(JSON.stringify({code:d.OPERATION_FAIL,msg:"refresh token is not exist, your local data might be messed up, please retry after clear localStorage or sessionStorage"}));return[4,this._cache.getStoreAsync(t)];case 2:return o=l.sent(),a=Number,[4,this._cache.getStoreAsync(n)];case 3:return s=a.apply(void 0,[l.sent()]),u=!0,c=this._shouldRefreshAccessTokenHook,c?[4,this._shouldRefreshAccessTokenHook(o,s)]:[3,5];case 4:c=!l.sent(),l.label=5;case 5:return c&&(u=!1),o&&s&&!(s<Date.now())||!u?[3,7]:[4,this.refreshAccessToken()];case 6:return[2,l.sent()];case 7:return[2,{accessToken:o,accessTokenExpire:s}]}}))}))},e.prototype.request=function(e,t,n){return l(this,void 0,void 0,(function(){var i,o,s,a,l,d,p,h,m,b,w,E,S,O,A,T,I,N,R,P,C,L,D,B,M,x,j;return f(this,(function(f){switch(f.label){case 0:return i="x-tcb-trace_"+this.config.env,o="application/x-www-form-urlencoded",s=c({action:e,dataVersion:r.DATA_VERSION,env:this.config.env},t),-1!==v.indexOf(e)?[3,3]:(a=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(a)]);case 1:return l=f.sent(),l?(d=s,[4,this.getAccessToken()]):[3,3];case 2:d.access_token=f.sent().accessToken,f.label=3;case 3:if("storage.uploadFile"===e){for(h in p=new FormData,p)p.hasOwnProperty(h)&&void 0!==p[h]&&p.append(h,s[h]);o="multipart/form-data"}else for(h in o="application/json;charset=UTF-8",p={},s)void 0!==s[h]&&(p[h]=s[h]);return m={headers:{"content-type":o}},(null===n||void 0===n?void 0:n["onUploadProgress"])&&(m.onUploadProgress=n["onUploadProgress"]),this.config.region&&(m.headers["X-TCB-Region"]=this.config.region),b=this._localCache.getStore(i),b&&(m.headers["X-TCB-Trace"]=b),u.Platform.runtime!==g.WEB&&(w=this.config,E=w.appSign,S=w.appSecret,O=Date.now(),A=S.appAccessKey,T=S.appAccessKeyId,I=y({data:p,timestamp:O,appAccessKeyId:T,appSign:E},A),m.headers["X-TCB-App-Source"]="timestamp="+O+";appAccessKeyId="+T+";appSign="+E+";sign="+I),N=t.parse,R=t.inQuery,P=t.search,C={env:this.config.env},N&&(C.parse=!0),R&&(C=c(c({},R),C)),L=(0,r.getEndPoint)(),D=L.BASE_URL,B=L.PROTOCOL,M=_(B,D,C),P&&(M+=P),[4,this.post(c({url:M,data:p},m))];case 4:if(x=f.sent(),j=x.header&&x.header["x-tcb-trace"],j&&this._localCache.setStore(i,j),200!==Number(x.status)&&200!==Number(x.statusCode)||!x.data)throw new Error("network request error");return[2,x]}}))}))},e.prototype.send=function(e,t){return void 0===t&&(t={}),l(this,void 0,void 0,(function(){var n;return f(this,(function(r){switch(r.label){case 0:return[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 1:return n=r.sent(),"ACCESS_TOKEN_EXPIRED"!==n.data.code||-1!==v.indexOf(e)?[3,4]:[4,this.refreshAccessToken()];case 2:return r.sent(),[4,this.request(e,t,{onUploadProgress:t.onUploadProgress})];case 3:n=r.sent(),r.label=4;case 4:if(n.data.code&&this._throwWhenRequestFail)throw new Error(JSON.stringify({code:d.OPERATION_FAIL,msg:"["+n.data.code+"] "+n.data.message}));return[2,n.data]}}))}))},e.prototype._refreshAccessToken=function(){return l(this,void 0,void 0,(function(){var e,t,n,i,s,u,c,l,p,h,_,y,g,v;return f(this,(function(f){switch(f.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,i=e.refreshTokenKey,s=e.loginTypeKey,u=e.anonymousUuidKey,[4,this._cache.removeStoreAsync(t)];case 1:return f.sent(),[4,this._cache.removeStoreAsync(n)];case 2:return f.sent(),[4,this._cache.getStoreAsync(i)];case 3:if(c=f.sent(),!c)throw new Error(JSON.stringify({code:d.INVALID_OPERATION,msg:"not login"}));return l={refresh_token:c},[4,this.request("auth.fetchAccessTokenWithRefreshToken",l)];case 4:return p=f.sent(),p.data.code?(h=p.data.code,"SIGN_PARAM_INVALID"!==h&&"REFRESH_TOKEN_EXPIRED"!==h&&"INVALID_REFRESH_TOKEN"!==h?[3,11]:[4,this._cache.getStoreAsync(s)]):[3,12];case 5:return _=f.sent()===r.LOGINTYPE.ANONYMOUS,_&&"INVALID_REFRESH_TOKEN"===h?[4,this._cache.getStoreAsync(u)]:[3,9];case 6:return y=f.sent(),[4,this._cache.getStoreAsync(i)];case 7:return g=f.sent(),[4,this.send("auth.signInAnonymously",{anonymous_uuid:y,refresh_token:g})];case 8:return v=f.sent(),this._setRefreshToken(v.refresh_token),[2,this._refreshAccessToken()];case 9:return o.cloudbase.fire(a.EVENTS.LOGIN_STATE_EXPIRED),[4,this._cache.removeStoreAsync(i)];case 10:f.sent(),f.label=11;case 11:throw new Error(JSON.stringify({code:d.NETWORK_ERROR,msg:"refresh access_token failed\uff1a"+p.data.code}));case 12:return p.data.access_token?(o.cloudbase.fire(a.EVENTS.ACCESS_TOKEN_REFRESHD),[4,this._cache.setStoreAsync(t,p.data.access_token)]):[3,15];case 13:return f.sent(),[4,this._cache.setStoreAsync(n,p.data.access_token_expire+Date.now())];case 14:return f.sent(),[2,{accessToken:p.data.access_token,accessTokenExpire:p.data.access_token_expire}];case 15:return p.data.refresh_token?[4,this._cache.removeStoreAsync(i)]:[3,19];case 16:return f.sent(),[4,this._cache.setStoreAsync(i,p.data.refresh_token)];case 17:return f.sent(),[4,this._refreshAccessToken()];case 18:f.sent(),f.label=19;case 19:return[2]}}))}))},e.prototype._setRefreshToken=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i;return f(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return o.sent(),[4,this._cache.setStoreAsync(i,e)];case 3:return o.sent(),[2]}}))}))},e}();t.CloudbaseRequest=w;var E={};function S(e){E[e.env]=new w(c(c({},e),{throw:!0}))}function O(e){return E[e]}},"05a0":function(e,t,n){"use strict";n.r(t);var r=n("2cf5"),i=n("9443");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"0753":function(e,t,n){"use strict";n.r(t);var r=n("0ce5"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"07e1":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","tgl-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","tgl-item"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","tgl-select"),attrs:{_i:2}},[e._$s(3,"i",e.header)?n("text"):n("radio",{attrs:{value:e._$s(4,"a-value",e.group.groupId),checked:e._$s(4,"a-checked",e.selected),_i:4}})]),n("view",{staticClass:e._$s(5,"sc","tgl-id"),attrs:{_i:5}},[e._$s(6,"i",e.header)?n("text"):n("text",{class:e._$s(7,"c",{"tgl-selected":e.selected}),attrs:{_i:7}},[e._v(e._$s(7,"t0-0",e._s(e.group.groupId)))])]),n("view",{staticClass:e._$s(8,"sc","tgl-name"),attrs:{_i:8}},[e._$s(9,"i",e.header)?n("text"):n("text",{class:e._$s(10,"c",{"tgl-selected":e.selected}),attrs:{_i:10}},[e._v(e._$s(10,"t0-0",e._s(e.group.groupName)))])]),n("view",{staticClass:e._$s(11,"sc","tgl-create-time"),attrs:{_i:11}},[e._$s(12,"i",e.header)?n("text"):n("text",{class:e._$s(13,"c",{"tgl-selected":e.selected}),attrs:{_i:13}},[e._v(e._$s(13,"t0-0",e._s(e.group.createTime)))])]),n("view",{staticClass:e._$s(14,"sc","tgl-export-time"),attrs:{_i:14}},[e._$s(15,"i",e.header)?n("text"):n("text",{class:e._$s(16,"c",{"tgl-selected":e.selected}),attrs:{_i:16}},[e._v(e._$s(16,"t0-0",e._s(e.group.exportTime)))])])])])},o=[]},"0a86":function(e,t,n){"use strict";function r(e){return void 0===e&&(e=""),(e?e+"_":"")+ +new Date+"_"+Math.random()}function i(e){return"INIT_EVENT"===e.msgType}Object.defineProperty(t,"__esModule",{value:!0}),t.genRequestId=r,t.isInitEventMessage=i},"0ce5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("5c31"));function i(e){return e&&e.__esModule?e:{default:e}}var o={name:"UniIcons",props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16}},data:function(){return{icons:r.default}},methods:{_onClick:function(){this.$emit("click")}}};t.default=o},"0d4a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return l(e)||c(e,t)||a(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function l(e){if(Array.isArray(e))return e}function f(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){f(o,r,i,s,a,"next",e)}function a(e){f(o,r,i,s,a,"throw",e)}s(void 0)}))}}var p=uni.requireNativePlugin("K-ChooseFilesModule"),h={data:function(){return{host:"",port:0,uploadPercent:0,uploadState:""}},computed:{url:function(){return"http://".concat(this.host,":").concat(this.port,"/upload")}},onLoad:function(){this.host=uni.getStorageSync("upload_files_host")||"192.168.",this.port=uni.getStorageSync("upload_files_port")||55555},methods:{confirmHost:function(e){this.host=e.target.value,uni.hideKeyboard()},confirmPort:function(e){this.port=e.target.value,uni.hideKeyboard()},blurHost:function(e){this.host=e.target.value},blurPort:function(e){this.port=e.target.value},chooseFiles:function(){var e=this,t={btnText:"\u4f20\u8f93\u6587\u4ef6"};p.chooseFileAction(t,function(){var t=d(r.default.mark((function t(n){var i,s,a,u,c,l,f,d,p;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i=n.data.map((function(e){var t=e.split("/").slice(-1)[0],n=-1===t.lastIndexOf(".")?t.length:t.lastIndexOf("."),r=new Date(Date.now()+288e5).toISOString().slice(2,-5).replace(/:/g,"-"),i="".concat(t.slice(0,n),"_").concat(r).concat(t.slice(n));return{name:i,uri:"file://".concat(e)}})),s=[],a=0,u=5;a<i.length;a+=u)s.push(i.slice(a,a+u));e.uploadPercent=1,e.uploadState="\u8fdb\u5ea6\uff1a".concat(e.uploadPercent-1," %"),c=0,l=!0;case 6:if(!(c<s.length&&l)){t.next=17;break}return t.next=9,uni.uploadFile({url:e.url,files:s[c]});case 9:f=t.sent,d=o(f,2),d[0],p=d[1],p&&"ok"===JSON.parse(p.data).status?(e.uploadPercent=Math.ceil(100*(c+1)/s.length),e.uploadState="\u8fdb\u5ea6\uff1a".concat(e.uploadPercent-1," %"),100===e.uploadPercent&&(e.uploadPercent=0,e.uploadState="\u5b8c\u6210\uff01",uni.setStorage({key:"upload_files_host",data:e.host}),uni.setStorage({key:"upload_files_port",data:e.port}))):(l=!1,e.uploadPercent=0,e.uploadState="\u5931\u8d25\uff01");case 14:c++,t.next=6;break;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}};t.default=h},"0de9":function(e,t,n){"use strict";function r(e){var t=Object.prototype.toString.call(e);return t.substring(8,t.length-1)}function i(){return"string"===typeof __channelId__&&__channelId__}function o(e,t){switch(r(t)){case"Function":return"function() { [native code] }";default:return t}}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e].apply(console,n)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=t.shift();if(i())return t.push(t.pop().replace("at ","uni-app:///")),console[s].apply(console,t);var a=t.map((function(e){var t=Object.prototype.toString.call(e).toLowerCase();if("[object object]"===t||"[object array]"===t)try{e="---BEGIN:JSON---"+JSON.stringify(e,o)+"---END:JSON---"}catch(i){e=t}else if(null===e)e="---NULL---";else if(void 0===e)e="---UNDEFINED---";else{var n=r(e).toUpperCase();e="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+e+"---END:"+n+"---":String(e)}return e})),u="";if(a.length>1){var c=a.pop();u=a.join("---COMMA---"),0===c.indexOf(" at ")?u+=c:u+="---COMMA---"+c}else u=a[0];console[s](u)}n.r(t),n.d(t,"log",(function(){return s})),n.d(t,"default",(function(){return a}))},"12d9":function(e,t,n){"use strict";n.r(t);var r=n("f948"),i=n("d7b3");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,"21dec862",null,!1,r["a"],s);t["default"]=u.exports},1909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"uniPopupCalibrate",props:{sensorCalibrateArr:{type:Array,default:[]}},inject:["popup"],created:function(){this.popup.mkclick=!1},methods:{onOk:function(){var e=this;this.$emit("confirm",(function(){e.popup.close()}))},onAuto:function(){this.$emit("auto")}}};t.default=r},"19dc":function(e,t,n){"use strict";n.r(t);var r=n("f918"),i=n("f5a3");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"1a24":function(e,t,n){"use strict";function r(e){return new Promise((function(t,n){setTimeout((function(){t()}),e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.waitTime=r},"1c7f":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("a34a")),i=u(n("05a0")),o=n("69c5"),s=n("1a24"),a=u(n("a17b"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){c(o,r,i,s,a,"next",e)}function a(e){c(o,r,i,s,a,"throw",e)}s(void 0)}))}}var f=new a.default("0a","05","00"),d=uni.requireNativePlugin("Fvv-UniTTS");d.init((function(){}));var p=uni.createInnerAudioContext();p.src="../../static/gunshot.mp3";var h=230,_=370,y={components:{PeriTestList:i.default},data:function(){return{channel:"1",ip:"192.168.4.1",port:"333",linked:!1,count:8,countOfPeri:8,testList:[],group:null,firstFlowNum:1,noGunVoice:!1,hasSaved:!0,hasStarted:!1,scores:[],editable:!1,groupName:"",groupId:0}},computed:{hasFilled:function(){for(var e=0;e<this.testList.length;e++)if(this.testList[e].id)return!0;return!1}},onUnload:function(){this.$socket.disconnect(this.channel)},onLoad:function(t){var n=this;this.groupName=t.groupName,this.groupId=t.groupId;var r=uni.getStorageSync("sprint_peri_count");r&&(this.count=r),this.createTestList(),this.$socket.init(this.channel,this.ip,this.port),this.$socket.receivedStatus=function(t,r){"0"===r?(e("log","/////\u901a\u9053:"+t+"\u8fde\u63a5\u6210\u529f"," at pages/football/index.vue:187"),n.linked=!0):(e("log","*****\u901a\u9053:"+t+"\u8fde\u63a5\u5931\u8d25"," at pages/football/index.vue:191"),n.linked=!1)},this.$socket.receivedHexMsgCallBack=function(e,t){var r=Date.now(),i=new o.HandleHex(t,n.group,r);i.handle();var s=i.ch;if(n.testList[s].status=i.target.getPrintedStatus(),"run"===i.target.status&&"done"===i.target.tense&&(n.group.setMemberScore(s),n.testList[s].score=i.target.score,n.scores[s]=i.target.score),n.group.checkPrepareOver()){n.group.setGroupRun();var a=1e3*(1.5*Math.random()+1.5);d.speak({text:"\u9884\u5907"}),setTimeout((function(){n.noGunVoice||(p.play(),n.group.realStartTime=Date.now())}),a)}else n.group.checkRunOver()&&(n.group.setGroupWait(),d.speak({text:"\u7ed3\u675f"}))}},methods:{insertScoresToDB:function(){var t=this;this.testList.forEach((function(n){n.id&&n.score&&plus.sqlite.executeSql({name:"data1",sql:"insert into scores('groupId', 'personId', 'score') values(".concat(t.groupId,', "').concat(n.id,'", "').concat(n.score,'")'),success:function(){e("log","\u6210\u529f\u5199\u5165\u4e00\u6761\u6210\u7ee9"," at pages/football/index.vue:245")},fail:function(){e("log","\u5931\u8d25\u5199\u5165\u4e00\u6761\u6210\u7ee9"," at pages/football/index.vue:248")}})})),this.hasSaved=!0},getCount:function(e){var t=Number(e.target.value);Number.isNaN(t)||(this.count=t<1?1:t>8?8:t)},createTestList:function(){this.countOfPeri=this.count;for(var e=[],t=1;t<=this.countOfPeri;t++){var n={peri:t,id:"",status:"\u7b49\u5f85",score:""};e.push(n)}this.testList=e},createTestListAndSetStorage:function(){this.createTestList(),uni.setStorage({key:"sprint_peri_count",data:this.countOfPeri})},linkSocket:function(){this.$socket.init(this.channel,this.ip,this.port)},getFirstFlowNum:function(e){var t=Number(e.target.value);Number.isNaN(t)||t>0&&(this.firstFlowNum=t)},fillFlowNum:function(){this.insertScoresToDB(),this.testList[this.countOfPeri-1].id=this.firstFlowNum++,this.testList[this.countOfPeri-1].score="",this.testList[this.countOfPeri-1].status="\u7b49\u5f85"},manualSave:function(){this.insertScoresToDB(),this.testList[this.countOfPeri-1].id="",this.testList[this.countOfPeri-1].score="",this.testList[this.countOfPeri-1].status="\u7b49\u5f85"},reset:function(){if(this.group){this.group.setGroupWait(),this.noGunVoice=!0;for(var e=0;e<this.countOfPeri;e++)this.testList[e].score="",this.testList[e].status="\u7b49\u5f85";this.hasSaved=!0,d.speak({text:"\u72af\u89c4"})}},start:function(){var t=this;return l(r.default.mark((function n(){var i,a,u;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.group=null,t.hasSaved=!1,t.hasStarted=!0,t.group=new o.Group(t.testList),t.group.setGroupPrepare(),t.noGunVoice=!1,i=0;case 7:if("wait"===t.group.groupStatus){n.next=22;break}if(a=t.group.members[i++],"doing"!==a.tense){n.next=19;break}if(u=f.createInstruction("0".concat(a.ch),"f1"),t.$socket.sendBytes(t.channel,JSON.stringify(u)),"prepare"!==t.group.groupStatus){n.next=17;break}return n.next=15,(0,s.waitTime)(h);case 15:n.next=19;break;case 17:return n.next=19,(0,s.waitTime)(_);case 19:i===t.countOfPeri&&(i=0),n.next=7;break;case 22:e("log",t.scores," at pages/football/index.vue:359"),t.hasStarted=!1;case 24:case"end":return n.stop()}}),n)})))()}}};t.default=y}).call(this,n("0de9")["default"])},"1fb5":function(e,t,n){"use strict";t.byteLength=l,t.toByteArray=d,t.fromByteArray=_;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function l(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function f(e,t,n){return 3*(t+n)/4-n}function d(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(f(e,s,a)),l=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function p(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function h(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(p(r));return i.join("")}function _(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(h(e,a,a+s>u?u:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"20e6":function(e,t,n){"use strict";n.r(t);var r=n("3cc9"),i=n("226e");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,"efb9be72",null,!1,r["a"],s);t["default"]=u.exports},2107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WeixinAuthProvider=void 0;var r=n("3019"),i=n("fce3"),o=n("ad40"),s=n("f5a4"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=i.constants.getSdkName,p=i.constants.ERRORS,h=i.constants.COMMUNITY_SITE_URL,_=i.adapters.RUNTIME,y=i.utils.getQuery,g=i.utils.getHash,v=i.utils.removeParam,m=i.utils.printWarn,b=i.helpers.catchErrorsDecorator,w=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._runtime=t.runtime,o._appid=n,o._scope=r,o._state=i||"weixin",o}return a(t,e),t.prototype.signIn=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,m(p.OPERATION_FAIL,"API signIn has been deprecated, please use signInWithRedirect insteed")]}))}))},t.prototype.signInWithRedirect=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,this._redirect()]}))}))},t.prototype.getRedirectResult=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){return t=E(),t?[2,this._signInWithCode(t,e)]:[2,null]}))}))},t.prototype.getLinkRedirectResult=function(e){return void 0===e&&(e={}),l(this,void 0,void 0,(function(){var t,n,r,i,o,s;return f(this,(function(a){return t=e.withUnionId,n=void 0!==t&&t,r=E(),r?(i=this._appid,o=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),s=this._runtime===_.WX_MP?"1":"0",[2,this._request.send("auth.linkWithWeixinCode",{payload:{appid:i,loginType:o,code:r,hybridMiniapp:s,withUnionId:n}})]):[2,null]}))}))},t.prototype._redirect=function(){var e=v("code",location.href);e=v("state",e),e=encodeURIComponent(e);var t="//open.weixin.qq.com/connect/oauth2/authorize";"snsapi_login"===this._scope&&(t="//open.weixin.qq.com/connect/qrconnect");try{location.href=t+"?appid="+this._appid+"&redirect_uri="+e+"&response_type=code&scope="+this._scope+"&state="+this._state+"#wechat_redirect"}catch(n){throw new Error("["+d()+"]["+p.UNKOWN_ERROR+"]"+n)}},t.prototype._signInWithCode=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,a,u,c,l,d;return f(this,(function(f){switch(f.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,i=n.accessTokenExpireKey,a=n.refreshTokenKey,u=function(e){switch(e){case"snsapi_login":return"WECHAT-OPEN";default:return"WECHAT-PUBLIC"}}(this._scope),[4,this._getRefreshTokenByWXCode(this._appid,u,e,t)];case 1:return c=f.sent(),l=c.refreshToken,[4,this._cache.setStoreAsync(a,l)];case 2:return f.sent(),c.accessToken?[4,this._cache.setStoreAsync(r,c.accessToken)]:[3,4];case 3:f.sent(),f.label=4;case 4:return c.accessTokenExpire?[4,this._cache.setStoreAsync(i,String(c.accessTokenExpire+Date.now()))]:[3,6];case 5:f.sent(),f.label=6;case 6:return o.eventBus.fire(o.EVENTS.LOGIN_STATE_CHANGED),o.eventBus.fire(o.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:s.LOGINTYPE.WECHAT,persistence:this._config.persistence}),[4,this.refreshUserInfo()];case 7:return f.sent(),d=new o.LoginState({envId:this._config.env,cache:this._cache,request:this._request}),[4,d.checkLocalStateAsync()];case 8:return f.sent(),[2,d]}}))}))},t.prototype._getRefreshTokenByWXCode=function(e,t,n,r){return void 0===r&&(r={}),l(this,void 0,void 0,(function(){var i,o,s,a,u,c,l;return f(this,(function(f){return i=r.withUnionId,o=void 0!==i&&i,s=r.createUser,a=void 0===s||s,u="snsapi_base"!==this._scope&&(r.syncUserInfo||!1),c="auth.signIn",l=this._runtime===_.WX_MP?"1":"0",[2,this._request.send(c,{appid:e,loginType:t,hybridMiniapp:l,syncUserInfo:u,loginCredential:n,withUnionId:o,createUser:a}).then((function(e){if(e.code)throw new Error("["+d()+"]["+p.OPERATION_FAIL+"] failed login via wechat: "+e.code);if(e.refresh_token)return{refreshToken:e.refresh_token,accessToken:e.access_token,accessTokenExpire:e.access_token_expire};throw new Error("["+d()+"]["+p.OPERATION_FAIL+"] action:getJwt not return refreshToken")}))]}))}))},u([b({title:"\u8df3\u8f6c\u5fae\u4fe1\u516c\u4f17\u53f7\u6388\u6743\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().weixinAuthProvider().signInWithRedirect() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+h]}),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",Promise)],t.prototype,"signInWithRedirect",null),u([b({title:"\u5fae\u4fe1\u516c\u4f17\u53f7\u767b\u5f55\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().weixinAuthProvider().getRedirectResult() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u5fae\u4fe1\u516c\u4f17\u53f7\u767b\u5f55\u6388\u6743","  3 - \u5fae\u4fe1\u516c\u4f17\u53f7\u7684 AppId \u4e0e AppSecret \u914d\u7f6e\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+h]}),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",Promise)],t.prototype,"getRedirectResult",null),u([b({title:"\u83b7\u53d6\u5fae\u4fe1\u91cd\u5b9a\u5411\u7ed1\u5b9a\u7ed3\u679c",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().weixinAuthProvider().getLinkRedirectResult() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u5fae\u4fe1\u516c\u4f17\u53f7\u767b\u5f55\u6388\u6743","  3 - \u5fae\u4fe1\u516c\u4f17\u53f7\u7684 AppId \u4e0e AppSecret \u914d\u7f6e\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+h]}),c("design:type",Function),c("design:paramtypes",[Object]),c("design:returntype",Promise)],t.prototype,"getLinkRedirectResult",null),t}(r.AuthProvider);function E(){return y("code")||g("code")}t.WeixinAuthProvider=w},"226e":function(e,t,n){"use strict";n.r(t);var r=n("886d"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},2344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Command=void 0;var r=n("7e12"),i=n("86db"),o=n("950b"),s=n("2a13"),a=u(n("fae7"));function u(e){return e&&e.__esModule?e:{default:e}}var c={eq:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.EQ,[e])},neq:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.NEQ,[e])},lt:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.LT,[e])},lte:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.LTE,[e])},gt:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.GT,[e])},gte:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.GTE,[e])},in:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.IN,e)},nin:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.NIN,e)},all:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.ALL,e)},elemMatch:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.ELEM_MATCH,[e])},exists:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.EXISTS,[e])},size:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.SIZE,[e])},mod:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.MOD,[e])},geoNear:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.GEO_NEAR,[e])},geoWithin:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.GEO_WITHIN,[e])},geoIntersects:function(e){return new r.QueryCommand(r.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS,[e])},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.AND,n)},nor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.NOR,n)},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.OR,n)},not:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new i.LogicCommand(i.LOGIC_COMMANDS_LITERAL.NOT,n)},set:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.SET,[e])},remove:function(){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.REMOVE,[])},inc:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.INC,[e])},mul:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.MUL,[e])},push:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if((0,s.isObject)(t[0])&&t[0].hasOwnProperty("each")){var r=t[0];e={$each:r.each,$position:r.position,$sort:r.sort,$slice:r.slice}}else e=(0,s.isArray)(t[0])?t[0]:Array.from(t);return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.PUSH,e)},pull:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.PULL,e)},pullAll:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.PULL_ALL,e)},pop:function(){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.POP,[])},shift:function(){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.SHIFT,[])},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.isArray)(arguments[0])?arguments[0]:Array.from(arguments);return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.UNSHIFT,n)},addToSet:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.ADD_TO_SET,e)},rename:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.RENAME,[e])},bit:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.BIT,[e])},max:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.MAX,[e])},min:function(e){return new o.UpdateCommand(o.UPDATE_COMMANDS_LITERAL.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return(0,s.isString)(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new a.default},abs:function(e){return new l("abs",e)},add:function(e){return new l("add",e)},ceil:function(e){return new l("ceil",e)},divide:function(e){return new l("divide",e)},exp:function(e){return new l("exp",e)},floor:function(e){return new l("floor",e)},ln:function(e){return new l("ln",e)},log:function(e){return new l("log",e)},log10:function(e){return new l("log10",e)},mod:function(e){return new l("mod",e)},multiply:function(e){return new l("multiply",e)},pow:function(e){return new l("pow",e)},sqrt:function(e){return new l("sqrt",e)},subtract:function(e){return new l("subtract",e)},trunc:function(e){return new l("trunc",e)},arrayElemAt:function(e){return new l("arrayElemAt",e)},arrayToObject:function(e){return new l("arrayToObject",e)},concatArrays:function(e){return new l("concatArrays",e)},filter:function(e){return new l("filter",e)},in:function(e){return new l("in",e)},indexOfArray:function(e){return new l("indexOfArray",e)},isArray:function(e){return new l("isArray",e)},map:function(e){return new l("map",e)},range:function(e){return new l("range",e)},reduce:function(e){return new l("reduce",e)},reverseArray:function(e){return new l("reverseArray",e)},size:function(e){return new l("size",e)},slice:function(e){return new l("slice",e)},zip:function(e){return new l("zip",e)},and:function(e){return new l("and",e)},not:function(e){return new l("not",e)},or:function(e){return new l("or",e)},cmp:function(e){return new l("cmp",e)},eq:function(e){return new l("eq",e)},gt:function(e){return new l("gt",e)},gte:function(e){return new l("gte",e)},lt:function(e){return new l("lt",e)},lte:function(e){return new l("lte",e)},neq:function(e){return new l("ne",e)},cond:function(e){return new l("cond",e)},ifNull:function(e){return new l("ifNull",e)},switch:function(e){return new l("switch",e)},dateFromParts:function(e){return new l("dateFromParts",e)},dateFromString:function(e){return new l("dateFromString",e)},dayOfMonth:function(e){return new l("dayOfMonth",e)},dayOfWeek:function(e){return new l("dayOfWeek",e)},dayOfYear:function(e){return new l("dayOfYear",e)},isoDayOfWeek:function(e){return new l("isoDayOfWeek",e)},isoWeek:function(e){return new l("isoWeek",e)},isoWeekYear:function(e){return new l("isoWeekYear",e)},millisecond:function(e){return new l("millisecond",e)},minute:function(e){return new l("minute",e)},month:function(e){return new l("month",e)},second:function(e){return new l("second",e)},hour:function(e){return new l("hour",e)},week:function(e){return new l("week",e)},year:function(e){return new l("year",e)},literal:function(e){return new l("literal",e)},mergeObjects:function(e){return new l("mergeObjects",e)},objectToArray:function(e){return new l("objectToArray",e)},allElementsTrue:function(e){return new l("allElementsTrue",e)},anyElementTrue:function(e){return new l("anyElementTrue",e)},setDifference:function(e){return new l("setDifference",e)},setEquals:function(e){return new l("setEquals",e)},setIntersection:function(e){return new l("setIntersection",e)},setIsSubset:function(e){return new l("setIsSubset",e)},setUnion:function(e){return new l("setUnion",e)},concat:function(e){return new l("concat",e)},dateToString:function(e){return new l("dateToString",e)},indexOfBytes:function(e){return new l("indexOfBytes",e)},indexOfCP:function(e){return new l("indexOfCP",e)},split:function(e){return new l("split",e)},strLenBytes:function(e){return new l("strLenBytes",e)},strLenCP:function(e){return new l("strLenCP",e)},strcasecmp:function(e){return new l("strcasecmp",e)},substr:function(e){return new l("substr",e)},substrBytes:function(e){return new l("substrBytes",e)},substrCP:function(e){return new l("substrCP",e)},toLower:function(e){return new l("toLower",e)},toUpper:function(e){return new l("toUpper",e)},meta:function(e){return new l("meta",e)},addToSet:function(e){return new l("addToSet",e)},avg:function(e){return new l("avg",e)},first:function(e){return new l("first",e)},last:function(e){return new l("last",e)},max:function(e){return new l("max",e)},min:function(e){return new l("min",e)},push:function(e){return new l("push",e)},stdDevPop:function(e){return new l("stdDevPop",e)},stdDevSamp:function(e){return new l("stdDevSamp",e)},sum:function(e){return new l("sum",e)},let:function(e){return new l("let",e)}},project:{slice:function(e){return new f("slice",e)},elemMatch:function(e){return new f("elemMatch",e)}}};t.Command=c;var l=function(){function e(e,t){this["$"+e]=t}return e}(),f=function(){function e(e,t){this["$"+e]=t}return e}(),d=c;t.default=d},"246a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegExpConstructor=o,t.RegExp=void 0;var r=n("5d4c"),i=function(){function e(e){var t=e.regexp,n=e.options;if(!t)throw new TypeError("regexp must be a string");this.$regex=t,this.$options=n}return e.prototype.parse=function(){return{$regex:this.$regex,$options:this.$options}},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_REGEXP},enumerable:!0,configurable:!0}),e}();function o(e){return new i(e)}t.RegExp=i},"259d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Snapshot=void 0;var r=function(){function e(e){var t,n,r=e.id,i=e.docChanges,o=e.docs,s=e.msgType,a=e.type;Object.defineProperties(this,{id:{get:function(){return r},enumerable:!0},docChanges:{get:function(){return t||(t=JSON.parse(JSON.stringify(i))),t},enumerable:!0},docs:{get:function(){return n||(n=JSON.parse(JSON.stringify(o))),n},enumerable:!0},msgType:{get:function(){return s},enumerable:!0},type:{get:function(){return a},enumerable:!0}})}return e}();t.Snapshot=r},"267d":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("text",{staticClass:e._$s(0,"sc","uni-icons"),style:e._$s(0,"s",{color:e.color,"font-size":e.size+"px"}),attrs:{_i:0},on:{click:e._onClick}},[e._v(e._$s(0,"t0-0",e._s(e.icons[e.type])))])},o=[]},2794:function(e,t,n){"use strict";n.r(t);var r=n("267d"),i=n("0753");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,"37e596a8",null,!1,r["a"],s);t["default"]=u.exports},2842:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-popup-calibrate"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","uni-calibrate-title"),attrs:{_i:1}},[n("text",{class:e._$s(2,"c",["uni-calibrate-title-text","uni-popup__info"]),attrs:{_i:2}}),n("text",{class:e._$s(3,"c",["uni-calibrate-title-text","uni-popup__info"]),attrs:{_i:3}}),n("text",{class:e._$s(4,"c",["uni-calibrate-title-text","uni-popup__info"]),attrs:{_i:4}},[n("span",{staticClass:e._$s(5,"sc","calibrate-color"),attrs:{_i:5}})])]),n("view",{staticClass:e._$s(6,"sc","uni-calibrate-content"),attrs:{_i:6}},[n("text",{staticClass:e._$s(7,"sc","uni-calibrate-content-text"),attrs:{_i:7}}),n("text",{staticClass:e._$s(8,"sc","uni-calibrate-content-text"),attrs:{_i:8}}),n("text",{staticClass:e._$s(9,"sc","uni-calibrate-content-text calibrate-color"),attrs:{_i:9}})]),e._l(e._$s(10,"f",{forItems:e.sensorCalibrateArr}),(function(t,r,i,o){return n("view",{key:e._$s(10,"f",{forIndex:i,key:t.num}),staticClass:e._$s("10-"+o,"sc","uni-calibrate-content"),attrs:{_i:"10-"+o}},[n("text",{staticClass:e._$s("11-"+o,"sc","uni-calibrate-content-text"),attrs:{_i:"11-"+o}},[e._v(e._$s("11-"+o,"t0-0",e._s(t.num)))]),n("text",{staticClass:e._$s("12-"+o,"sc","uni-calibrate-content-text"),attrs:{_i:"12-"+o}},[e._v(e._$s("12-"+o,"t0-0",e._s(t.lastCalibrateTime)))]),n("text",{staticClass:e._$s("13-"+o,"sc","uni-calibrate-content-text calibrate-color"),attrs:{_i:"13-"+o}},[e._v(e._$s("13-"+o,"t0-0",e._s(t.currentCalibrateTime)))])])})),n("view",{staticClass:e._$s(14,"sc","uni-calibrate-button-group"),attrs:{_i:14}},[n("view",{staticClass:e._$s(15,"sc","uni-calibrate-button"),attrs:{_i:15}},[n("button",{staticClass:e._$s(16,"sc","cali-btn"),attrs:{_i:16},on:{click:e.onAuto}})]),n("view",{staticClass:e._$s(17,"sc","uni-calibrate-button"),attrs:{_i:17}},[n("button",{staticClass:e._$s(18,"sc","cali-btn"),attrs:{_i:18},on:{click:e.onOk}})])])],2)},o=[]},"2a13":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=t.isInternalObject=t.isRegExp=t.isDate=t.isArray=t.isFunction=t.isPromise=t.isNumber=t.isString=t.isObject=t.getType=void 0;var r=n("66a3"),i=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()};t.getType=i;var o=function(e){return"object"===i(e)};t.isObject=o;var s=function(e){return"string"===i(e)};t.isString=s;var a=function(e){return"number"===i(e)};t.isNumber=a;var u=function(e){return"promise"===i(e)};t.isPromise=u;var c=function(e){return"function"===typeof e};t.isFunction=c;var l=function(e){return Array.isArray(e)};t.isArray=l;var f=function(e){return"date"===i(e)};t.isDate=f;var d=function(e){return"regexp"===i(e)};t.isRegExp=d;var p=function(e){return e&&e._internalType instanceof r.InternalSymbol};t.isInternalObject=p;var h=function(e){if("object"!==typeof e||null===e)return!1;var t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};t.isPlainObject=h},"2a89":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunctions=g;var r=n("fce3"),i=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=r.constants.getSdkName,c=r.constants.ERRORS,l=r.constants.COMMUNITY_SITE_URL,f=r.utils.execCallback,d=r.helpers.catchErrorsDecorator,p="functions",h=function(){function e(){}return e.prototype.callFunction=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,l,d,h,_,y,g,v;return a(this,(function(a){switch(a.label){case 0:if(n=e.name,r=e.data,i=e.query,o=e.parse,s=e.search,!n)throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+p+".callFunction] invalid function name"}));try{l=r?JSON.stringify(r):""}catch(m){throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+p+".callFunction] invalid data"}))}d="functions.invokeFunction",h={inQuery:i,parse:o,search:s,function_name:n,request_data:l},_=this.request,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,_.send(d,h)];case 2:if(y=a.sent(),y.code)return[2,f(t,null,y)];if(g=y.data.response_data,o)return[2,f(t,null,{result:g,requestId:y.requestId})];try{return g=JSON.parse(y.data.response_data),[2,f(t,null,{result:g,requestId:y.requestId})]}catch(m){f(t,new Error("["+u()+"]["+c.INVALID_PARAMS+"]["+p+".callFunction] response data must be json"))}return[3,4];case 3:return v=a.sent(),f(t,v),[3,4];case 4:return[2]}}))}))},i([d({customInfo:{className:"Cloudbase",methodName:"callFunction"},title:"\u51fd\u6570\u8c03\u7528\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 callFunction() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u4e0b\u662f\u5426\u5b58\u5728\u6b64\u51fd\u6570","  3 - \u51fd\u6570\u5b89\u5168\u89c4\u5219\u662f\u5426\u9650\u5236\u4e86\u5f53\u524d\u767b\u5f55\u72b6\u6001\u8bbf\u95ee","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+l]}),o("design:type",Function),o("design:paramtypes",[Object,Function]),o("design:returntype",Promise)],e.prototype,"callFunction",null),e}(),_=new h,y={name:p,entity:{callFunction:_.callFunction}};try{cloudbase.registerComponent(y)}catch(v){}function g(t){try{t.registerComponent(y)}catch(v){e("warn",v," at node_modules/@cloudbase/functions/dist/esm/index.js:162")}}}).call(this,n("0de9")["default"])},"2ac1":function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,o="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,l=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/[\\^$.*+?()[\]{}|]/g,p=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,_="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,g=_||y||Function("return this")();function v(e,t){return null==e?void 0:e[t]}function m(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var b=Array.prototype,w=Function.prototype,E=Object.prototype,S=g["__core-js_shared__"],O=function(){var e=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),A=w.toString,T=E.hasOwnProperty,I=E.toString,N=RegExp("^"+A.call(T).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=g.Symbol,P=b.splice,C=ae(g,"Map"),L=ae(Object,"create"),D=R?R.prototype:void 0,B=D?D.toString:void 0;function M(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function x(){this.__data__=L?L(null):{}}function j(e){return this.has(e)&&delete this.__data__[e]}function k(e){var t=this.__data__;if(L){var n=t[e];return n===r?void 0:n}return T.call(t,e)?t[e]:void 0}function U(e){var t=this.__data__;return L?void 0!==t[e]:T.call(t,e)}function $(e,t){var n=this.__data__;return n[e]=L&&void 0===t?r:t,this}function Y(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function F(){this.__data__=[]}function q(e){var t=this.__data__,n=Z(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():P.call(t,n,1),!0}function G(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]}function W(e){return Z(this.__data__,e)>-1}function V(e,t){var n=this.__data__,r=Z(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function K(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function H(){this.__data__={hash:new M,map:new(C||Y),string:new M}}function J(e){return se(this,e)["delete"](e)}function z(e){return se(this,e).get(e)}function Q(e){return se(this,e).has(e)}function X(e,t){return se(this,e).set(e,t),this}function Z(e,t){var n=e.length;while(n--)if(ge(e[n][0],t))return n;return-1}function ee(e,t){t=ue(t,e)?[t]:oe(t);var n=0,r=t.length;while(null!=e&&n<r)e=e[pe(t[n++])];return n&&n==r?e:void 0}function te(e){if(!be(e)||le(e))return!1;var t=me(e)||m(e)?N:h;return t.test(he(e))}function ne(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var o=Array(i);while(++r<i)o[r]=e[r+t];return o}function re(e){if("string"==typeof e)return e;if(Ee(e))return B?B.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function ie(e,t){t=ue(t,e)?[t]:oe(t),e=fe(e,t);var n=pe(_e(t));return!(null!=e&&T.call(e,n))||delete e[n]}function oe(e){return ve(e)?e:de(e)}function se(e,t){var n=e.__data__;return ce(t)?n["string"==typeof t?"string":"hash"]:n.map}function ae(e,t){var n=v(e,t);return te(n)?n:void 0}function ue(e,t){if(ve(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ee(e))||(c.test(e)||!u.test(e)||null!=t&&e in Object(t))}function ce(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function le(e){return!!O&&O in e}function fe(e,t){return 1==t.length?e:ee(e,ne(t,0,-1))}M.prototype.clear=x,M.prototype["delete"]=j,M.prototype.get=k,M.prototype.has=U,M.prototype.set=$,Y.prototype.clear=F,Y.prototype["delete"]=q,Y.prototype.get=G,Y.prototype.has=W,Y.prototype.set=V,K.prototype.clear=H,K.prototype["delete"]=J,K.prototype.get=z,K.prototype.has=Q,K.prototype.set=X;var de=ye((function(e){e=Se(e);var t=[];return l.test(e)&&t.push(""),e.replace(f,(function(e,n,r,i){t.push(r?i.replace(p,"$1"):n||e)})),t}));function pe(e){if("string"==typeof e||Ee(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function he(e){if(null!=e){try{return A.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function _e(e){var t=e?e.length:0;return t?e[t-1]:void 0}function ye(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return r.cache=new(ye.Cache||K),r}function ge(e,t){return e===t||e!==e&&t!==t}ye.Cache=K;var ve=Array.isArray;function me(e){var t=be(e)?I.call(e):"";return t==o||t==s}function be(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function we(e){return!!e&&"object"==typeof e}function Ee(e){return"symbol"==typeof e||we(e)&&I.call(e)==a}function Se(e){return null==e?"":re(e)}function Oe(e,t){return null==e||ie(e,t)}e.exports=Oe}).call(this,n("c8ba"))},"2cf5":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","ptl-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","ptl-item"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","ptl-ch"),attrs:{_i:2}},[e._$s(3,"i",!e.header)?n("text",[n("text",{attrs:{_i:4},domProps:{textContent:e._s(e._$s(4,"v-text"," "+e.testListItem.peri+" "))}})]):n("text",{staticClass:e._$s(5,"sc","ptl-header"),attrs:{_i:5}})]),n("view",{staticClass:e._$s(6,"sc","ptl-status"),attrs:{_i:6}},[e._$s(7,"i",!e.header)?n("text",[e._v(e._$s(7,"t0-0",e._s(e.testListItem.status)))]):n("text",{staticClass:e._$s(8,"sc","ptl-header"),attrs:{_i:8}})]),n("view",{staticClass:e._$s(9,"sc","ptl-id"),attrs:{_i:9}},[e._$s(10,"i",!e.header)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.testListItem.id,expression:"testListItem.id"}],staticClass:e._$s(10,"sc","ptl-id-input"),attrs:{_i:10},domProps:{value:e._$s(10,"v-model",e.testListItem.id)},on:{confirm:e.hideKeyboard,input:function(t){t.target.composing||e.$set(e.testListItem,"id",t.target.value)}}}):n("text",{staticClass:e._$s(11,"sc","ptl-header"),attrs:{_i:11}})]),n("view",{staticClass:e._$s(12,"sc","ptl-name"),attrs:{_i:12}},[e._$s(13,"i",!e.header)?n("input",{staticClass:e._$s(13,"sc","ptl-name-input"),attrs:{_i:13}}):n("text",{staticClass:e._$s(14,"sc","ptl-header"),attrs:{_i:14}})]),n("view",{staticClass:e._$s(15,"sc","ptl-score"),attrs:{_i:15}},[e._$s(16,"i",!e.header)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.testListItem.score,expression:"testListItem.score"}],class:e._$s(16,"c",["ptl-score-input",{"ptl-score-input-edit":e.editable}]),attrs:{disabled:e._$s(16,"a-disabled",!e.editable),_i:16},domProps:{value:e._$s(16,"v-model",e.testListItem.score)},on:{input:function(t){t.target.composing||e.$set(e.testListItem,"score",t.target.value)}}}):n("view",{staticClass:e._$s(17,"sc","ptl-score-header"),attrs:{_i:17}},[n("text",{staticClass:e._$s(18,"sc","ptl-header"),attrs:{_i:18}}),n("button",{attrs:{_i:19},domProps:{textContent:e._s(e._$s(19,"v-text",e.isEditable?"\u9501\u5b9a":"\u7f16\u8f91"))},on:{click:e.switchEditable}})])]),n("view",{staticClass:e._$s(20,"sc","ptl-round"),attrs:{_i:20}},[e._$s(21,"i",!e.header)?n("text",[e._v(e._$s(21,"t0-0",e._s(e.testListItem.round)))]):n("text",{staticClass:e._$s(22,"sc","ptl-header"),attrs:{_i:22}})])])])},o=[]},"2ebd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPromiseCallback=void 0;var r=function(){var e;if(!Promise){e=function(){},e.promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};t.createPromiseCallback=r},"2f88":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:["header","testListItem","editable"],data:function(){return{isEditable:this.editable}},methods:{switchEditable:function(){this.isEditable=!this.isEditable,this.$emit("update:editable",this.isEditable)},hideKeyboard:function(){uni.hideKeyboard()}}};t.default=r},3019:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthProvider=void 0;var r=n("ad40"),i=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request}return e.prototype.checkLocalLoginState=function(){return i(this,void 0,void 0,(function(){var e,t,n,i,s,a;return o(this,(function(o){switch(o.label){case 0:return e=this._cache.keys,t=e.accessTokenKey,n=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return i=o.sent(),[4,this._cache.getStoreAsync(n)];case 2:return s=o.sent(),i?s&&s>Date.now()?(a=new r.LoginState({envId:this._config.env,cache:this._cache,request:this._request}),[4,a.checkLocalStateAsync()]):[3,4]:[3,7];case 3:return o.sent(),[2,a];case 4:return[4,this._cache.removeStoreAsync(t)];case 5:return o.sent(),[4,this._cache.removeStoreAsync(n)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},e.prototype.setRefreshToken=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(o){switch(o.label){case 0:return t=this._cache.keys,n=t.accessTokenKey,r=t.accessTokenExpireKey,i=t.refreshTokenKey,[4,this._cache.removeStoreAsync(n)];case 1:return o.sent(),[4,this._cache.removeStoreAsync(r)];case 2:return o.sent(),[4,this._cache.setStoreAsync(i,e)];case 3:return o.sent(),[2]}}))}))},e.prototype.setAccessToken=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return n=this._cache.keys,r=n.accessTokenKey,i=n.accessTokenExpireKey,[4,this._cache.setStoreAsync(r,e)];case 1:return o.sent(),[4,this._cache.setStoreAsync(i,t)];case 2:return o.sent(),[2]}}))}))},e.prototype.refreshUserInfo=function(){return i(this,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return e="auth.getUserInfo",[4,this._request.send(e,{})];case 1:return t=n.sent().data,[4,this.setLocalUserInfo(t)];case 2:return n.sent(),[2,t]}}))}))},e.prototype.setLocalUserInfo=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.setStoreAsync(t,e)];case 1:return n.sent(),[2]}}))}))},e}();t.AuthProvider=s},"324e":function(e,t,n){"use strict";n.r(t);var r=n("9c31"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},3285:function(e,t,n){"use strict";n.r(t);var r=n("07e1"),i=n("beba");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},3316:function(e,t,n){"use strict";n.r(t);var r=n("3776"),i=n("d58b");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"35d7":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.registerRealtime=a;var r=n("5f0c"),i=n("6d56"),o={target:"database",entity:function(){var e=this.platform,t=e.adapter,n=e.runtime;(0,i.setWsClass)(t.wsClass),(0,i.setRuntime)(n)}},s={name:"realtime",IIFE:!0,entity:function(){this.prototype.wsClientClass=r.RealtimeWebSocketClient}};try{cloudbase.registerComponent(s),cloudbase.registerHook(o)}catch(u){}function a(t){try{t.registerComponent(s),t.registerHook(o)}catch(u){e("warn",u," at node_modules/@cloudbase/realtime/dist/esm/index.js:29")}}}).call(this,n("0de9")["default"])},3647:function(e,t,n){"use strict";n.r(t);var r=n("1909"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},3688:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("729b"),t)},3776:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uniPopup:n("12d9").default,uniPopupDialog:n("20e6").default,uniPopupMessage:n("f37e").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","tgs-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","tgs-group-list"),attrs:{_i:1}},[n("test-group-list",{attrs:{header:!0,_i:2}}),n("radio-group",{attrs:{_i:3},on:{change:e.selectGroup}},e._l(e._$s(4,"f",{forItems:e.groups}),(function(t,r,i,o){return n("view",{key:e._$s(4,"f",{forIndex:i,key:r})},[n("test-group-list",{attrs:{group:t,selected:e.selectedIndex===r,_i:"5-"+o}})],1)})),0)],1),n("view",{staticClass:e._$s(6,"sc","tgs-delete-btn"),attrs:{_i:6}},[n("button",{attrs:{_i:7},on:{click:e.openDeleteGroupPopup}})]),n("view",{staticClass:e._$s(8,"sc","tgs-export-btn"),attrs:{_i:8}},[n("view",{staticClass:e._$s(9,"sc","tgs-export-btn-flex"),attrs:{_i:9}},[n("view",[n("button",{attrs:{_i:11},on:{click:e.exportFinalScores}})])])]),n("view",{staticClass:e._$s(12,"sc","tgs-create-btn"),attrs:{_i:12}},[n("button",{attrs:{_i:13},on:{click:e.openCreateGroupPopup}})]),n("view",{staticClass:e._$s(14,"sc","tgs-enter-test"),attrs:{_i:14}},[n("view",[n("text"),n("br"),n("view",[n("text",[e._v(e._$s(19,"t0-0",e._s(e.selectedGroupName)))])]),n("button",{attrs:{_i:20},on:{click:e.enterTest}})])]),n("uni-popup",{ref:"createGroupPopup",attrs:{type:"dialog",_i:21}},[n("uni-popup-dialog",{attrs:{type:"info",mode:"input",title:"\u65b0\u5efa\u5c0f\u7ec4",placeholder:"\u5728\u6b64\u8f93\u5165\u5c0f\u7ec4\u540d\u79f0",_i:22},on:{confirm:e.confirmCreateGroup}})],1),n("uni-popup",{ref:"deleteGroupPopup",attrs:{type:"dialog",_i:23}},[n("uni-popup-dialog",{attrs:{title:"\u5220\u9664\u5c0f\u7ec4\uff1f",_i:24},on:{confirm:e.confirmDeleteGroup}})],1),n("uni-popup",{ref:"exportSuccessPopup",attrs:{type:"message",_i:25}},[n("uni-popup-message",{attrs:{message:e.exportToastMsg,_i:26}})],1),n("uni-popup",{ref:"exportFailPopup",attrs:{type:"message",_i:27}},[n("uni-popup-message",{attrs:{type:"error",message:e.exportToastMsg,_i:28}})],1)],1)},o=[]},3942:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{serviceId:"",characteristicId:""}},onLoad:function(){uni.openBluetoothAdapter({success:function(t){e("log",t," at pages/bluetooth/index.vue:20")}}),uni.startBluetoothDevicesDiscovery({success:function(t){e("log",t," at pages/bluetooth/index.vue:25")}}),uni.onBluetoothDeviceFound((function(t){var n=t.devices[0].deviceId;e("log",n," at pages/bluetooth/index.vue:30"),uni.createBLEConnection({deviceId:n,success:function(t){e("log",t," at pages/bluetooth/index.vue:34"),uni.getBLEDeviceCharacteristics({deviceId:n,success:function(t){e("log",t," at pages/bluetooth/index.vue:44")},fail:function(t){e("log",t," at pages/bluetooth/index.vue:47")}})}})}))}};t.default=n}).call(this,n("0de9")["default"])},3976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineString=void 0;var r=n("5d4c"),i=n("ff18"),o=n("2a13"),s=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function e(e){if(!(0,o.isArray)(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(e.length<2)throw new Error('"points" must contain 2 points at least');e.forEach((function(e){if(!(e instanceof i.Point))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("LineString"!==e.type||!(0,o.isArray)(e.coordinates))return!1;try{for(var r=s(e.coordinates),i=r.next();!i.done;i=r.next()){var a=i.value;if(!(0,o.isNumber)(a[0])||!(0,o.isNumber)(a[1]))return!1}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},e.isClosed=function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_GEO_LINE_STRING},enumerable:!0,configurable:!0}),e}();t.LineString=a},"39ba":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMUNITY_SITE_URL=t.IS_DEBUG_MODE=t.getProtocol=t.setProtocol=t.getSdkName=t.setSdkName=void 0;var r="@cloudbase/js-sdk";function i(e){r=e}function o(){return r}t.setSdkName=i,t.getSdkName=o;var s="undefined"!==typeof location&&"http:"===location.protocol?"http:":"https:";function a(e){s=e}function u(){return s}t.setProtocol=a,t.getProtocol=u,t.IS_DEBUG_MODE=!1,t.COMMUNITY_SITE_URL="https://support.qq.com/products/148793"},"3aff":function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("39ba"),t),i(n("fb29"),t)},"3c0c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n("0291")),i=n("ad40"),o=n("2a89"),s=n("bffa"),a=n("35d7"),u=n("445e"),c=n("b954"),l=d(n("90a5"));function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function p(e){return e&&e.__esModule?e:{default:e}}var h=l.version;r.default.registerVersion(h);try{(0,i.registerAuth)(r.default),(0,o.registerFunctions)(r.default),(0,s.registerStorage)(r.default),(0,c.registerDatabase)(r.default),(0,a.registerRealtime)(r.default),(0,u.registerAnalytics)(r.default)}catch(y){}try{window.cloudbase=r.default}catch(y){}var _=r.default;t.default=_},"3cc9":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-popup-dialog"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","uni-dialog-title"),attrs:{_i:1}},[n("text",{staticClass:e._$s(2,"sc","uni-dialog-title-text"),class:e._$s(2,"c",["uni-popup__"+e.dialogType]),attrs:{_i:2}},[e._v(e._$s(2,"t0-0",e._s(e.title)))])]),n("view",{staticClass:e._$s(3,"sc","uni-dialog-content"),attrs:{_i:3}},[e._$s(4,"i","base"===e.mode)?n("text",{staticClass:e._$s(4,"sc","uni-dialog-content-text"),attrs:{_i:4}},[e._v(e._$s(4,"t0-0",e._s(e.content)))]):n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:e._$s(5,"sc","uni-dialog-input"),attrs:{type:e._$s(5,"a-type",e.inputType),placeholder:e._$s(5,"a-placeholder",e.placeholder),_i:5},domProps:{value:e._$s(5,"v-model",e.val)},on:{input:function(t){t.target.composing||(e.val=t.target.value)}}})]),n("view",{staticClass:e._$s(6,"sc","uni-dialog-button-group"),attrs:{_i:6}},[n("view",{staticClass:e._$s(7,"sc","uni-dialog-button"),attrs:{_i:7},on:{click:e.close}},[n("text",{staticClass:e._$s(8,"sc","uni-dialog-button-text"),attrs:{_i:8}})]),n("view",{staticClass:e._$s(9,"sc","uni-dialog-button uni-border-left"),attrs:{_i:9},on:{click:e.onOk}},[n("text",{class:e._$s(10,"c",["uni-dialog-button-text",{"uni-button-color":!e.plainConfirmButton}]),attrs:{_i:10}})])])])},o=[]},"3eab":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uf-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","uf-body"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","uf-tutorial"),attrs:{_i:2}},[n("text",[n("br"),n("text"),n("br"),n("br"),n("text")])]),n("view",[n("view",{staticClass:e._$s(10,"sc","uf-input"),attrs:{_i:10}},[n("text",{staticClass:e._$s(11,"sc","uf-input-label"),attrs:{_i:11}}),n("input",{staticClass:e._$s(12,"sc","uf-input-item"),attrs:{value:e._$s(12,"a-value",e.host),_i:12},on:{confirm:e.confirmHost,blur:e.blurHost}})]),n("view",{staticClass:e._$s(13,"sc","uf-input"),attrs:{_i:13}},[n("text",{staticClass:e._$s(14,"sc","uf-input-label"),attrs:{_i:14}}),n("input",{staticClass:e._$s(15,"sc","uf-input-item"),attrs:{value:e._$s(15,"a-value",e.port),_i:15},on:{confirm:e.confirmPort,blur:e.blurPort}})])]),n("view",{staticClass:e._$s(16,"sc","uf-progress"),attrs:{_i:16}},[n("view",{staticClass:e._$s(17,"sc","uf-progress-bar"),attrs:{_i:17}},[n("progress",{directives:[{name:"show",rawName:"v-show",value:e._$s(18,"v-show",e.uploadPercent),expression:"_$s(18,'v-show',uploadPercent)"}],attrs:{percent:e._$s(18,"a-percent",e.uploadPercent),_i:18}})]),n("view",[n("text",{staticClass:e._$s(20,"sc","uf-progress-txt"),attrs:{_i:20}},[e._v(e._$s(20,"t0-0",e._s(e.uploadState)))])])]),n("view",{staticClass:e._$s(21,"sc","uf-btn"),attrs:{_i:21}},[n("button",{attrs:{_i:22},on:{click:e.chooseFiles}})])])])},o=[]},"3fd2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAuthProvider=void 0;var r=n("fce3"),i=n("3019"),o=n("f5a4"),s=n("ad40"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=r.constants.ERRORS,p=r.constants.COMMUNITY_SITE_URL,h=r.utils.isString,_=r.helpers.catchErrorsDecorator,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.signIn=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i,a,u,c;return f(this,(function(l){switch(l.label){case 0:if(!h(e))throw new Error(JSON.stringify({code:d.INVALID_PARAMS,msg:"ticket must be a string"}));return t=this._cache.keys.refreshTokenKey,i=(r=this._request).send,a=["auth.signInWithTicket"],u={ticket:e},[4,this._cache.getStoreAsync(t)];case 1:return[4,i.apply(r,a.concat([(u.refresh_token=l.sent()||"",u)]))];case 2:return n=l.sent(),n.refresh_token?[4,this.setRefreshToken(n.refresh_token)]:[3,7];case 3:return l.sent(),[4,this._request.refreshAccessToken()];case 4:return l.sent(),s.eventBus.fire(s.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:o.LOGINTYPE.CUSTOM,persistence:this._config.persistence}),s.eventBus.fire(s.EVENTS.LOGIN_STATE_CHANGED),[4,this.refreshUserInfo()];case 5:return l.sent(),c=new s.LoginState({envId:this._config.env,cache:this._cache,request:this._request}),[4,c.checkLocalStateAsync()];case 6:return l.sent(),[2,c];case 7:throw new Error(JSON.stringify({code:d.OPERATION_FAIL,msg:"custom signIn failed"}))}}))}))},u([_({title:"\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u542f\u4e86\u81ea\u5b9a\u4e49\u767b\u5f55","  2 - \u8c03\u7528 auth().customAuthProvider().signIn() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  3 - ticket \u662f\u5426\u5f52\u5c5e\u4e8e\u5f53\u524d\u73af\u5883","  4 - \u521b\u5efa ticket \u7684\u81ea\u5b9a\u4e49\u767b\u5f55\u79c1\u94a5\u662f\u5426\u8fc7\u671f","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+p]}),c("design:type",Function),c("design:paramtypes",[String]),c("design:returntype",Promise)],t.prototype,"signIn",null),t}(i.AuthProvider);t.CustomAuthProvider=y},"41ac":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uniPopup:n("12d9").default,uniPopupDialog:n("20e6").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","sprint-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","sprint-status-bar"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","sprint-group-name"),attrs:{_i:2}},[n("text",[n("text",[e._v(e._$s(4,"t0-0",e._s(e.groupName)))])])]),n("view",{staticClass:e._$s(5,"sc","sprint-round"),attrs:{_i:5}},[n("button",{attrs:{_i:6},on:{click:e.nextLoop}},[e._v(e._$s(6,"t0-0",e._s(e.loopCount)))])]),n("view",{staticClass:e._$s(7,"sc","sprint-peri-count"),attrs:{_i:7}},[n("text"),n("input",{staticClass:e._$s(9,"sc","sprint-input-count"),attrs:{_i:9},on:{blur:e.getCount}}),n("button",{attrs:{_i:10},on:{click:e.createTestListAndSetStorage}})]),n("view",{staticClass:e._$s(11,"sc","sprint-link-status"),attrs:{_i:11}},[n("text"),n("view",{staticClass:e._$s(13,"sc","sprint-status-color"),class:e._$s(13,"c",{"sprint-off-status":!e.linked,"sprint-on-status":e.linked}),attrs:{_i:13}}),n("button",{attrs:{disabled:e._$s(14,"a-disabled",!!e.linked),_i:14},on:{click:e.linkSocket}})])]),n("view",{staticClass:e._$s(15,"sc","sprint-body-panel"),attrs:{_i:15}},[n("view",[n("peri-test-list",{attrs:{header:!0,editable:e.editable,_i:17},on:{"update:editable":function(t){e.editable=t}}}),e._l(e._$s(18,"f",{forItems:e.testList}),(function(t,r,i,o){return n("peri-test-list",{key:e._$s(18,"f",{forIndex:i,key:t.peri}),attrs:{testListItem:t,editable:e.editable,_i:"18-"+o}})}))],2),n("view",{staticClass:e._$s(19,"sc","sprint-control-panel"),attrs:{_i:19}},[n("view",{staticClass:e._$s(20,"sc","sprint-auto-fill"),attrs:{_i:20}},[e._$s(21,"i",1===e.loopCount)?n("view",{staticClass:e._$s(21,"sc","sprint-fill-id"),attrs:{_i:21}},[n("view",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.scanPool,expression:"scanPool"}],staticClass:e._$s(23,"sc","sprint-input-flow"),attrs:{_i:23},domProps:{value:e._$s(23,"v-model",e.scanPool)},on:{focus:e.scannerAutoInput,blur:e.clearScannerInterval,input:function(t){t.target.composing||(e.scanPool=t.target.value)}}})]),n("view",[n("input",{staticClass:e._$s(25,"sc","sprint-input-flow"),attrs:{_i:25},on:{blur:e.getFirstFlowNum}})]),n("view",{staticClass:e._$s(26,"sc","sprint-ctrl-btn"),attrs:{_i:26}},[n("button",{attrs:{disabled:e._$s(27,"a-disabled",e.hasStarted),_i:27},on:{click:e.fillFlowNum}})])]):n("view",{staticClass:e._$s(28,"sc","sprint-fill-id"),attrs:{_i:28}},[n("view",{staticClass:e._$s(29,"sc","sprint-ctrl-btn"),attrs:{_i:29}},[n("button",{attrs:{disabled:e._$s(30,"a-disabled",e.hasStarted),_i:30},on:{click:e.fillExistingId}})])])]),n("view",{staticClass:e._$s(31,"sc","sprint-ctrl-btn"),attrs:{_i:31}},[n("button",{attrs:{disabled:e._$s(32,"a-disabled",e.hasStarted),_i:32},on:{click:e.saveAndClear}})]),n("view",{staticClass:e._$s(33,"sc","sprint-ctrl-btn"),attrs:{_i:33}},[n("button",{attrs:{disabled:e._$s(34,"a-disabled",!e.hasStarted),_i:34},on:{click:e.reset}})]),n("view",{staticClass:e._$s(35,"sc","sprint-ctrl-btn"),attrs:{_i:35}},[n("button",{class:e._$s(36,"c",{"sprint-hidden":!e.askForRepeat}),attrs:{_i:36},on:{click:e.prepareRepeatTest}},[e._v(e._$s(36,"t0-0",e._s(e.repeatCount+1)))])]),n("view",{staticClass:e._$s(37,"sc","sprint-ctrl-btn"),attrs:{_i:37}},[n("text",{class:e._$s(38,"c",{"sprint-hidden":e.askForRepeat||!e.hasFilled}),attrs:{_i:38}},[e._v(e._$s(38,"t0-0",e._s(e.loopCount))+e._$s(38,"t0-1",e._s(e.repeatCount)))]),n("button",{attrs:{disabled:e._$s(39,"a-disabled",!e.hasSaved||!e.hasFilled),_i:39},on:{click:e.start}})])])]),n("uni-popup",{ref:"nextRoundPopup",attrs:{type:"dialog",_i:40}},[n("uni-popup-dialog",{attrs:{type:"info",title:e.nextRoundPopupTitle,content:"\u8fdb\u5165\u4e0b\u4e00\u8f6e\u6d4b\u8bd5\uff1f",_i:41},on:{confirm:e.confirmNextRound}})],1)],1)},o=[]},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"445e":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.registerAnalytics=g;var r=n("fce3"),i=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=r.constants.ERRORS,c=r.constants.COMMUNITY_SITE_URL,l=r.helpers.catchErrorsDecorator,f="analytics",d=["mall"];function p(e){if("Object"!==Object.prototype.toString.call(e).slice(8,-1))return!1;var t=e.report_data,n=e.report_type;return!1!==d.includes(n)&&("Object"===Object.prototype.toString.call(t).slice(8,-1)&&(!(void 0!==t.action_time&&!Number.isInteger(t.action_time))&&"string"===typeof t.action_type))}var h=function(){function e(){}return e.prototype.analytics=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,o;return a(this,(function(s){if(!p(e))throw new Error(JSON.stringify({code:u.INVALID_PARAMS,msg:"["+f+".analytics] invalid report data"}));return t="analytics.report",n=void 0===e.report_data.action_time?Math.floor(Date.now()/1e3):e.report_data.action_time,r={analytics_scene:e.report_type,analytics_data:Object.assign({},e.report_data,{action_time:n})},i={requestData:r},o=this.request,o.send(t,i),[2]}))}))},i([l({customInfo:{className:"Cloudbase",methodName:"analytics"},title:"\u4e0a\u62a5\u8c03\u7528\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 analytics() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+c]}),o("design:type",Function),o("design:paramtypes",[Object]),o("design:returntype",Promise)],e.prototype,"analytics",null),e}(),_=new h,y={name:f,entity:{analytics:_.analytics}};try{cloudbase.registerComponent(y)}catch(v){}function g(t){try{t.registerComponent(y)}catch(v){e("warn",v," at node_modules/@cloudbase/analytics/dist/esm/index.js:135")}}}).call(this,n("0de9")["default"])},"447a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ee16");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("b7fc");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},4594:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmailAuthProvider=void 0;var r=n("fce3"),i=n("3019"),o=n("f5a4"),s=n("ad40"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=r.utils.throwError,p=r.utils.isString,h=r.constants.ERRORS,_=r.constants.COMMUNITY_SITE_URL,y=r.helpers.catchErrorsDecorator,g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.signIn=function(e,t){return l(this,void 0,void 0,(function(){var n,r,i,a,u;return f(this,(function(c){switch(c.label){case 0:return p(e)||d(h.INVALID_PARAMS,"email must be a string"),n=this._cache.keys.refreshTokenKey,[4,this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(n)||""})];case 1:return r=c.sent(),i=r.refresh_token,a=r.access_token,u=r.access_token_expire,i?[4,this.setRefreshToken(i)]:[3,8];case 2:return c.sent(),a&&u?[4,this.setAccessToken(a,u)]:[3,4];case 3:return c.sent(),[3,6];case 4:return[4,this._request.refreshAccessToken()];case 5:c.sent(),c.label=6;case 6:return[4,this.refreshUserInfo()];case 7:return c.sent(),s.eventBus.fire(s.EVENTS.LOGIN_STATE_CHANGED),s.eventBus.fire(s.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:o.LOGINTYPE.EMAIL,persistence:this._config.persistence}),[2,new s.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 8:r.code?d(h.OPERATION_FAIL,"Email login fail["+r.code+"] "+r.message):d(h.OPERATION_FAIL,"Email login fail"),c.label=9;case 9:return[2]}}))}))},t.prototype.signUp=function(e,t){return l(this,void 0,void 0,(function(){return f(this,(function(n){return[2,this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})]}))}))},t.prototype.resetPassword=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return[2,this._request.send("auth.sendPasswordResetEmail",{email:e})]}))}))},t.prototype.resetPasswordWithToken=function(e,t){return l(this,void 0,void 0,(function(){return f(this,(function(n){return[2,this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})]}))}))},t.prototype.activate=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(t){return[2,this._request.send("auth.activateEndUserMail",{token:e})]}))}))},u([y({title:"\u90ae\u7bb1\u5bc6\u7801\u767b\u5f55\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().emailAuthProvider() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u90ae\u7bb1\u767b\u5f55","  3 - \u90ae\u7bb1\u5730\u5740\u4e0e\u5bc6\u7801\u662f\u5426\u5339\u914d","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+_]}),c("design:type",Function),c("design:paramtypes",[String,String]),c("design:returntype",Promise)],t.prototype,"signIn",null),u([y({title:"\u90ae\u7bb1\u6ce8\u518c\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().signUpWithEmailAndPassword() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u90ae\u7bb1\u767b\u5f55","  3 - \u6b64\u90ae\u7bb1\u5730\u5740\u662f\u5426\u5df2\u7ecf\u88ab\u5176\u4ed6\u7528\u6237\u5360\u7528","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+_]}),c("design:type",Function),c("design:paramtypes",[String,String]),c("design:returntype",Promise)],t.prototype,"signUp",null),u([y({title:"\u91cd\u7f6e\u5bc6\u7801\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().sendPasswordResetEmail() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u90ae\u7bb1\u767b\u5f55","  3 - \u6b64\u90ae\u7bb1\u5730\u5740\u662f\u5426\u5df2\u7ecf\u4e0e\u5f53\u524d\u7528\u6237\u7ed1\u5b9a","  4 - \u6b64\u90ae\u7bb1\u5730\u5740\u662f\u5426\u5df2\u7ecf\u88ab\u5176\u4ed6\u7528\u6237\u5360\u7528","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+_]}),c("design:type",Function),c("design:paramtypes",[String]),c("design:returntype",Promise)],t.prototype,"resetPassword",null),u([y({title:"\u91cd\u7f6e\u5bc6\u7801\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u90ae\u7bb1\u767b\u5f55","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+_]}),c("design:type",Function),c("design:paramtypes",[String,String]),c("design:returntype",Promise)],t.prototype,"resetPasswordWithToken",null),u([y({title:"\u90ae\u7bb1\u6fc0\u6d3b\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u90ae\u7bb1\u767b\u5f55","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+_]}),c("design:type",Function),c("design:paramtypes",[String]),c("design:returntype",Promise)],t.prototype,"activate",null),t}(i.AuthProvider);t.EmailAuthProvider=g},"4c98":function(e,t,n){"use strict";n.r(t);var r=n("b02f"),i=n("79b9");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"4e71":function(e,t,n){"use strict";n("edb3");var r=s(n("8bbf")),i=s(n("6a29")),o=s(n("8fdf"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.default.prototype.$socket=o.default,r.default.config.productionTip=!1,i.default.mpType="app";var l=new r.default(u({},i.default));l.$mount()},5342:function(e,t,n){"use strict";n.r(t);var r=n("8cc0"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},5463:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-popup-message"),class:e._$s(0,"c","uni-popup__"+[e.type]),attrs:{_i:0}},[n("text",{staticClass:e._$s(1,"sc","uni-popup-message-text"),class:e._$s(1,"c","uni-popup__"+[e.type]+"-text"),attrs:{_i:1}},[e._v(e._$s(1,"t0-0",e._s(e.message)))])])},o=[]},"55e2":function(e,t,n){(function(t,r){e.exports=r(n("9c77"))})(0,(function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],u=[];(function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}var r=2,i=0;while(i<64)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++})();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],f=n[6],d=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var h=c[p-15],_=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,y=c[p-2],g=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[p]=_+c[p-7]+g+c[p-16]}var v=a&l^~a&f,m=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),E=d+w+v+u[p]+c[p],S=b+m;d=f,f=l,l=a,a=s+E|0,s=o,o=i,i=r,r=E+S|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(l),n.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256}))},"58c7":function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CloudbaseCache=void 0;var s=n("447a"),a=n("ea32"),u=n("3aff"),c=function(e){function t(t){var n=e.call(this)||this;return n._root=t,t["tcbCacheObject"]||(t["tcbCacheObject"]={}),n}return r(t,e),t.prototype.setItem=function(e,t){this._root["tcbCacheObject"][e]=t},t.prototype.getItem=function(e){return this._root["tcbCacheObject"][e]},t.prototype.removeItem=function(e){delete this._root["tcbCacheObject"][e]},t.prototype.clear=function(){delete this._root["tcbCacheObject"]},t}(s.AbstractStorage);function l(e,t){switch(e){case"local":return t.localStorage?t.localStorage:(a.printWarn(u.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new c(t.root));case"none":return new c(t.root);case"session":return t.sessionStorage?t.sessionStorage:(a.printWarn(u.ERRORS.INVALID_PARAMS,"sessionStorage is not supported on current platform"),new c(t.root));default:return t.localStorage?t.localStorage:(a.printWarn(u.ERRORS.INVALID_PARAMS,"localStorage is not supported on current platform"),new c(t.root))}}var f=function(){function t(e){this.keys={};var t=e.persistence,n=e.platformInfo,r=void 0===n?{}:n,i=e.keys,o=void 0===i?{}:i,s=e.alwaysLocalKeys,a=void 0===s?[]:s;this._platformInfo=r,this._alwaysLocalKeys=a,this._storage||(this._persistence=r.adapter.primaryStorage||t,this._storage=l(this._persistence,r.adapter),this.keys=o)}return Object.defineProperty(t.prototype,"mode",{get:function(){return this._storage.mode||"sync"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"persistence",{get:function(){return this._persistence},enumerable:!1,configurable:!0}),t.prototype.updatePersistence=function(e){if("async"!==this.mode){if(e!==this._persistence){var t="local"===this._persistence;this._persistence=e;var n=l(e,this._platformInfo.adapter);for(var r in this.keys){var i=this.keys[r];if(!t||!this._alwaysLocalKeys.includes(r)){var o=this._storage.getItem(i);a.isUndefined(o)||a.isNull(o)||(n.setItem(i,o),this._storage.removeItem(i))}}this._storage=n}}else a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use updatePersistenceAsync insteed")},t.prototype.updatePersistenceAsync=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,s,u,c,f;return o(this,(function(o){switch(o.label){case 0:if(e===this._persistence)return[2];for(i in t="local"===this._persistence,this._persistence=e,n=l(e,this._platformInfo.adapter),r=[],this.keys)r.push(i);s=0,o.label=1;case 1:return s<r.length?(u=r[s],c=this.keys[u],t&&this._alwaysLocalKeys.includes(u)?[3,4]:[4,this._storage.getItem(c)]):[3,5];case 2:return f=o.sent(),a.isUndefined(f)||a.isNull(f)?[3,4]:(n.setItem(c,f),[4,this._storage.removeItem(c)]);case 3:o.sent(),o.label=4;case 4:return s++,[3,1];case 5:return this._storage=n,[2]}}))}))},t.prototype.setStore=function(e,t,n){if("async"!==this.mode){if(this._storage)try{var r={version:n||"localCachev1",content:t};this._storage.setItem(e,JSON.stringify(r))}catch(i){throw new Error(JSON.stringify({code:u.ERRORS.OPERATION_FAIL,msg:"["+u.getSdkName()+"]["+u.ERRORS.OPERATION_FAIL+"]setStore failed",info:i}))}}else a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use setStoreAsync insteed")},t.prototype.setStoreAsync=function(e,t,n){return i(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:if(!this._storage)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),r={version:n||"localCachev1",content:t},[4,this._storage.setItem(e,JSON.stringify(r))];case 2:return i.sent(),[3,4];case 3:return i.sent(),[2];case 4:return[2]}}))}))},t.prototype.getStore=function(t,n){var r;if("async"!==this.mode){try{if("undefined"!==typeof e&&(null===(r=Object({NODE_ENV:"production",VUE_APP_NAME:"\u6c47\u6d0b\u4f53\u6d4b",VUE_APP_PLATFORM:"app-plus",BASE_URL:"/"}))||void 0===r?void 0:r.tcb_token))return Object({NODE_ENV:"production",VUE_APP_NAME:"\u6c47\u6d0b\u4f53\u6d4b",VUE_APP_PLATFORM:"app-plus",BASE_URL:"/"}).tcb_token;if(!this._storage)return""}catch(s){return""}n=n||"localCachev1";var i=this._storage.getItem(t);if(!i)return"";if(i.indexOf(n)>=0){var o=JSON.parse(i);return o.content}return""}a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use getStoreAsync insteed")},t.prototype.getStoreAsync=function(t,n){var r;return i(this,void 0,void 0,(function(){var i,s;return o(this,(function(o){switch(o.label){case 0:try{if("undefined"!==typeof e&&(null===(r=Object({NODE_ENV:"production",VUE_APP_NAME:"\u6c47\u6d0b\u4f53\u6d4b",VUE_APP_PLATFORM:"app-plus",BASE_URL:"/"}))||void 0===r?void 0:r.tcb_token))return[2,Object({NODE_ENV:"production",VUE_APP_NAME:"\u6c47\u6d0b\u4f53\u6d4b",VUE_APP_PLATFORM:"app-plus",BASE_URL:"/"}).tcb_token];if(!this._storage)return[2,""]}catch(a){return[2,""]}return n=n||"localCachev1",[4,this._storage.getItem(t)];case 1:return i=o.sent(),i&&i.indexOf(n)>=0?(s=JSON.parse(i),[2,s.content]):[2,""]}}))}))},t.prototype.removeStore=function(e){"async"!==this.mode?this._storage.removeItem(e):a.printWarn(u.ERRORS.INVALID_OPERATION,"current platform's storage is asynchronous, please use removeStoreAsync insteed")},t.prototype.removeStoreAsync=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this._storage.removeItem(e)];case 1:return t.sent(),[2]}}))}))},t}();t.CloudbaseCache=f}).call(this,n("4362"))},"58da":function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.QueryType=t.UpdateOperatorList=t.OrderDirectionList=t.OperatorMap=t.Opeartor=t.WhereFilterOpList=t.FieldType=t.ErrorCode=void 0,t.ErrorCode=i,function(e){e["DocIDError"]="\u6587\u6863ID\u4e0d\u5408\u6cd5",e["CollNameError"]="\u96c6\u5408\u540d\u79f0\u4e0d\u5408\u6cd5",e["OpStrError"]="\u64cd\u4f5c\u7b26\u4e0d\u5408\u6cd5",e["DirectionError"]="\u6392\u5e8f\u5b57\u7b26\u4e0d\u5408\u6cd5",e["IntergerError"]="must be integer",e["QueryParamTypeError"]="\u67e5\u8be2\u53c2\u6570\u5fc5\u987b\u4e3a\u5bf9\u8c61",e["QueryParamValueError"]="\u67e5\u8be2\u53c2\u6570\u5bf9\u8c61\u503c\u4e0d\u80fd\u5747\u4e3aundefined"}(i||(t.ErrorCode=i={}));var o={String:"String",Number:"Number",Object:"Object",Array:"Array",Boolean:"Boolean",Null:"Null",GeoPoint:"GeoPoint",GeoLineString:"GeoLineString",GeoPolygon:"GeoPolygon",GeoMultiPoint:"GeoMultiPoint",GeoMultiLineString:"GeoMultiLineString",GeoMultiPolygon:"GeoMultiPolygon",Timestamp:"Date",Command:"Command",ServerDate:"ServerDate",BsonDate:"BsonDate"};t.FieldType=o;var s=["desc","asc"];t.OrderDirectionList=s;var a,u=["<","<=","==",">=",">"];t.WhereFilterOpList=u,t.Opeartor=a,function(e){e["lt"]="<",e["gt"]=">",e["lte"]="<=",e["gte"]=">=",e["eq"]="=="}(a||(t.Opeartor=a={}));var c=(r={},r[a.eq]="$eq",r[a.lt]="$lt",r[a.lte]="$lte",r[a.gt]="$gt",r[a.gte]="$gte",r);t.OperatorMap=c;var l,f=["$set","$inc","$mul","$unset","$push","$pop","$unshift","$shift","$currentDate","$each","$position"];t.UpdateOperatorList=f,t.QueryType=l,function(e){e["WHERE"]="WHERE",e["DOC"]="DOC"}(l||(t.QueryType=l={}))},"5c31":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={pulldown:"\ue588",refreshempty:"\ue461",back:"\ue471",forward:"\ue470",more:"\ue507","more-filled":"\ue537",scan:"\ue612",qq:"\ue264",weibo:"\ue260",weixin:"\ue261",pengyouquan:"\ue262",loop:"\ue565",refresh:"\ue407","refresh-filled":"\ue437",arrowthindown:"\ue585",arrowthinleft:"\ue586",arrowthinright:"\ue587",arrowthinup:"\ue584","undo-filled":"\ue7d6",undo:"\ue406",redo:"\ue405","redo-filled":"\ue7d9",bars:"\ue563",chatboxes:"\ue203",camera:"\ue301","chatboxes-filled":"\ue233","camera-filled":"\ue7ef","cart-filled":"\ue7f4",cart:"\ue7f5","checkbox-filled":"\ue442",checkbox:"\ue7fa",arrowleft:"\ue582",arrowdown:"\ue581",arrowright:"\ue583","smallcircle-filled":"\ue801",arrowup:"\ue580",circle:"\ue411","eye-filled":"\ue568","eye-slash-filled":"\ue822","eye-slash":"\ue823",eye:"\ue824","flag-filled":"\ue825",flag:"\ue508","gear-filled":"\ue532",reload:"\ue462",gear:"\ue502","hand-thumbsdown-filled":"\ue83b","hand-thumbsdown":"\ue83c","hand-thumbsup-filled":"\ue83d","heart-filled":"\ue83e","hand-thumbsup":"\ue83f",heart:"\ue840",home:"\ue500",info:"\ue504","home-filled":"\ue530","info-filled":"\ue534","circle-filled":"\ue441","chat-filled":"\ue847",chat:"\ue263","mail-open-filled":"\ue84d","email-filled":"\ue231","mail-open":"\ue84e",email:"\ue201",checkmarkempty:"\ue472",list:"\ue562","locked-filled":"\ue856",locked:"\ue506","map-filled":"\ue85c","map-pin":"\ue85e","map-pin-ellipse":"\ue864",map:"\ue364","minus-filled":"\ue440","mic-filled":"\ue332",minus:"\ue410",micoff:"\ue360",mic:"\ue302",clear:"\ue434",smallcircle:"\ue868",close:"\ue404",closeempty:"\ue460",paperclip:"\ue567",paperplane:"\ue503","paperplane-filled":"\ue86e","person-filled":"\ue131","contact-filled":"\ue130",person:"\ue101",contact:"\ue100","images-filled":"\ue87a",phone:"\ue200",images:"\ue87b",image:"\ue363","image-filled":"\ue877","location-filled":"\ue333",location:"\ue303","plus-filled":"\ue439",plus:"\ue409",plusempty:"\ue468","help-filled":"\ue535",help:"\ue505","navigate-filled":"\ue884",navigate:"\ue501","mic-slash-filled":"\ue892",search:"\ue466",settings:"\ue560",sound:"\ue590","sound-filled":"\ue8a1","spinner-cycle":"\ue465","download-filled":"\ue8a4","personadd-filled":"\ue132","videocam-filled":"\ue8af",personadd:"\ue102",upload:"\ue402","upload-filled":"\ue8b1",starhalf:"\ue463","star-filled":"\ue438",star:"\ue408",trash:"\ue401","phone-filled":"\ue230",compose:"\ue400",videocam:"\ue300","trash-filled":"\ue8dc",download:"\ue403","chatbubble-filled":"\ue232",chatbubble:"\ue202","cloud-download":"\ue8e4","cloud-upload-filled":"\ue8e5","cloud-upload":"\ue8e6","cloud-download-filled":"\ue8e9",headphones:"\ue8bf",shop:"\ue609"};t.default=r},"5d4c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={SYMBOL_UNSET_FIELD_NAME:!0,SYMBOL_UPDATE_COMMAND:!0,SYMBOL_QUERY_COMMAND:!0,SYMBOL_LOGIC_COMMAND:!0,SYMBOL_GEO_POINT:!0,SYMBOL_GEO_LINE_STRING:!0,SYMBOL_GEO_POLYGON:!0,SYMBOL_GEO_MULTI_POINT:!0,SYMBOL_GEO_MULTI_LINE_STRING:!0,SYMBOL_GEO_MULTI_POLYGON:!0,SYMBOL_SERVER_DATE:!0,SYMBOL_REGEXP:!0};t.SYMBOL_REGEXP=t.SYMBOL_SERVER_DATE=t.SYMBOL_GEO_MULTI_POLYGON=t.SYMBOL_GEO_MULTI_LINE_STRING=t.SYMBOL_GEO_MULTI_POINT=t.SYMBOL_GEO_POLYGON=t.SYMBOL_GEO_LINE_STRING=t.SYMBOL_GEO_POINT=t.SYMBOL_LOGIC_COMMAND=t.SYMBOL_QUERY_COMMAND=t.SYMBOL_UPDATE_COMMAND=t.SYMBOL_UNSET_FIELD_NAME=void 0;var i=s(n("66a3"));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var a=i.default.for("UNSET_FIELD_NAME");t.SYMBOL_UNSET_FIELD_NAME=a;var u=i.default.for("UPDATE_COMMAND");t.SYMBOL_UPDATE_COMMAND=u;var c=i.default.for("QUERY_COMMAND");t.SYMBOL_QUERY_COMMAND=c;var l=i.default.for("LOGIC_COMMAND");t.SYMBOL_LOGIC_COMMAND=l;var f=i.default.for("GEO_POINT");t.SYMBOL_GEO_POINT=f;var d=i.default.for("SYMBOL_GEO_LINE_STRING");t.SYMBOL_GEO_LINE_STRING=d;var p=i.default.for("SYMBOL_GEO_POLYGON");t.SYMBOL_GEO_POLYGON=p;var h=i.default.for("SYMBOL_GEO_MULTI_POINT");t.SYMBOL_GEO_MULTI_POINT=h;var _=i.default.for("SYMBOL_GEO_MULTI_LINE_STRING");t.SYMBOL_GEO_MULTI_LINE_STRING=_;var y=i.default.for("SYMBOL_GEO_MULTI_POLYGON");t.SYMBOL_GEO_MULTI_POLYGON=y;var g=i.default.for("SERVER_DATE");t.SYMBOL_SERVER_DATE=g;var v=i.default.for("REGEXP");t.SYMBOL_REGEXP=v},"5e6c":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uniIcons:n("2794").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","home-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","home-entries"),attrs:{_i:1}},[n("uni-icons",{attrs:{type:"flag",_i:2}}),n("text"),n("button",{attrs:{_i:4},on:{click:e.navToSprint50}})],1),n("view",{staticClass:e._$s(5,"sc","home-entries"),attrs:{_i:5}},[n("uni-icons",{attrs:{type:"gear",_i:6}}),n("text"),n("button",{attrs:{_i:8},on:{click:e.navToUploadFiles}})],1)])},o=[]},"5f07":function(e,t,n){"use strict";n.r(t);var r=n("0d4a"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"5f0c":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.RealtimeWebSocketClient=void 0;var r=n("7d59"),i=n("0a86"),o=n("9d09"),s=n("8897"),a=n("6d56"),u=n("8ce0"),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},p=3,h=5e3,_=1e4,y=5,g=1e4,v=2,m=2,b=5e3,w=function(){function t(t){var n=this;this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._wsReadySubsribers=[],this._wsResponseWait=new Map,this._rttObserved=[],this.send=function(e){return l(n,void 0,void 0,(function(){var t=this;return f(this,(function(n){return[2,new Promise((function(n,r){return l(t,void 0,void 0,(function(){var t,i,o,a,c,p,h,_=this;return f(this,(function(y){switch(y.label){case 0:i=!1,o=!1,a=function(e){i=!0,t&&clearTimeout(t),n(e)},c=function(e){o=!0,t&&clearTimeout(t),r(e)},e.timeout&&(t=setTimeout((function(){return l(_,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return i&&o?[3,2]:[4,(0,u.sleep)(0)];case 1:e.sent(),i&&o||c(new s.TimeoutError("wsclient.send timedout")),e.label=2;case 2:return[2]}}))}))}),e.timeout)),y.label=1;case 1:return y.trys.push([1,8,,9]),this._wsInitPromise?[4,this._wsInitPromise]:[3,3];case 2:y.sent(),y.label=3;case 3:if(!this._ws)return c(new Error("invalid state: ws connection not exists, can not send message")),[2];if(this._ws.readyState!==d.OPEN)return c(new Error("ws readyState invalid: "+this._ws.readyState+", can not send message")),[2];e.waitResponse&&this._wsResponseWait.set(e.msg.requestId,{resolve:a,reject:c,skipOnMessage:e.skipOnMessage}),y.label=4;case 4:return y.trys.push([4,6,,7]),[4,this._ws.send(JSON.stringify(e.msg))];case 5:return y.sent(),e.waitResponse||a(),[3,7];case 6:return p=y.sent(),p&&(c(p),e.waitResponse&&this._wsResponseWait.delete(e.msg.requestId)),[3,7];case 7:return[3,9];case 8:return h=y.sent(),c(h),[3,9];case 9:return[2]}}))}))}))]}))}))},this.closeAllClients=function(e){n._virtualWSClient.forEach((function(t){t.closeWithError(e)}))},this.pauseClients=function(e){(e||n._virtualWSClient).forEach((function(e){e.pause()}))},this.resumeClients=function(e){(e||n._virtualWSClient).forEach((function(e){e.resume()}))},this.initWebSocketConnection=function(t,r){return void 0===r&&(r=n._maxReconnect),l(n,void 0,void 0,(function(){var n=this;return f(this,(function(i){switch(i.label){case 0:if(t&&this._reconnectState)return[2];if(t&&(this._reconnectState=!0),this._wsInitPromise)return[2,this._wsInitPromise];t&&this.pauseClients(),this.close(o.CLOSE_EVENT_CODE.ReconnectWebSocket),this._wsInitPromise=new Promise((function(i,o){return l(n,void 0,void 0,(function(){var n,c,l,d=this;return f(this,(function(f){switch(f.label){case 0:return f.trys.push([0,6,,11]),[4,this.getWsSign()];case 1:return n=f.sent(),[4,new Promise((function(e){var t=n.wsUrl||"wss://tcb-ws.tencentcloudapi.com",r=(0,a.getWsClass)();d._ws=r?new r(t):new WebSocket(t),e()}))];case 2:return f.sent(),this._ws.connect?[4,this._ws.connect()]:[3,4];case 3:f.sent(),f.label=4;case 4:return[4,this.initWebSocketEvent()];case 5:return f.sent(),i(),t&&(this.resumeClients(),this._reconnectState=!1),[3,11];case 6:return c=f.sent(),e("error","[realtime] initWebSocketConnection connect fail",c," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:245"),r>0?(l=!0,this._wsInitPromise=void 0,l?[4,(0,u.sleep)(this._reconnectInterval)]:[3,8]):[3,9];case 7:f.sent(),t&&(this._reconnectState=!1),f.label=8;case 8:return i(this.initWebSocketConnection(t,r-1)),[3,10];case 9:o(c),t&&this.closeAllClients(new s.CloudSDKError({errCode:s.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:c})),f.label=10;case 10:return[3,11];case 11:return[2]}}))}))})),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this._wsInitPromise];case 2:return i.sent(),this._wsReadySubsribers.forEach((function(e){var t=e.resolve;return t()})),[3,5];case 3:return i.sent(),this._wsReadySubsribers.forEach((function(e){var t=e.reject;return t()})),[3,5];case 4:return this._wsInitPromise=void 0,this._wsReadySubsribers=[],[7];case 5:return[2]}}))}))},this.initWebSocketEvent=function(){return new Promise((function(t,r){if(!n._ws)throw new Error("can not initWebSocketEvent, ws not exists");var i=!1;n._ws.onopen=function(n){e("warn","[realtime] ws event: open",n," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:308"),i=!0,t()},n._ws.onerror=function(t){n._logins=new Map,i?(e("error","[realtime] ws event: error",t," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:319"),n.clearHeartbeat(),n._virtualWSClient.forEach((function(e){return e.closeWithError(new s.CloudSDKError({errCode:s.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:t}))}))):(e("error","[realtime] ws open failed with ws event: error",t," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:315"),r(t))},n._ws.onclose=function(t){switch(e("warn","[realtime] ws event: close",t," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:330"),n._logins=new Map,n.clearHeartbeat(),t.code){case o.CLOSE_EVENT_CODE.ReconnectWebSocket:break;case o.CLOSE_EVENT_CODE.NoRealtimeListeners:break;case o.CLOSE_EVENT_CODE.HeartbeatPingError:case o.CLOSE_EVENT_CODE.HeartbeatPongTimeoutError:case o.CLOSE_EVENT_CODE.NormalClosure:case o.CLOSE_EVENT_CODE.AbnormalClosure:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients((0,o.getWSCloseError)(t.code));break;case o.CLOSE_EVENT_CODE.NoAuthentication:n.closeAllClients((0,o.getWSCloseError)(t.code,t.reason));break;default:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients((0,o.getWSCloseError)(t.code))}},n._ws.onmessage=function(t){var r,i=t.data;n.heartbeat();try{r=JSON.parse(i)}catch(y){throw new Error("[realtime] onMessage parse res.data error: "+y)}if("ERROR"===r.msgType){var o=null;n._virtualWSClient.forEach((function(e){e.watchId===r.watchId&&(o=e)})),o&&o.listener.onError(r)}var a=n._wsResponseWait.get(r.requestId);if(a){try{"ERROR"===r.msgType?a.reject(new s.RealtimeErrorMessageError(r)):a.resolve(r)}catch(y){e("error","ws onMessage responseWaitSpec.resolve(msg) errored:",y," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:398")}finally{n._wsResponseWait.delete(r.requestId)}if(a.skipOnMessage)return}if("PONG"!==r.msgType){var u=r.watchId&&n._watchIdClientMap.get(r.watchId);if(u)u.onMessage(r);else switch(e("error","[realtime] no realtime listener found responsible for watchId "+r.watchId+": ",r," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:426"),r.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":u=n._queryIdClientMap.get(r.msgData.queryID),u&&u.onMessage(r);break;default:for(var c=0,l=Array.from(n._watchIdClientMap.entries());c<l.length;c++){var f=l[c],d=f[1];d.onMessage(r);break}}}else if(n._lastPingSendTS){var h=Date.now()-n._lastPingSendTS;if(h>_)return void e("warn","[realtime] untrusted rtt observed: "+h," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:411");n._rttObserved.length>=p&&n._rttObserved.splice(0,n._rttObserved.length-p+1),n._rttObserved.push(h)}},n.heartbeat()}))},this.isWSConnected=function(){return Boolean(n._ws&&n._ws.readyState===d.OPEN)},this.onceWSConnected=function(){return l(n,void 0,void 0,(function(){var e=this;return f(this,(function(t){return this.isWSConnected()?[2]:this._wsInitPromise?[2,this._wsInitPromise]:[2,new Promise((function(t,n){e._wsReadySubsribers.push({resolve:t,reject:n})}))]}))}))},this.webLogin=function(e,t){return l(n,void 0,void 0,(function(){var n,r,o,s,u,c,d,p,h=this;return f(this,(function(_){switch(_.label){case 0:if(!t)if(e){if(n=this._logins.get(e),n){if(n.loggedIn&&n.loginResult)return[2,n.loginResult];if(n.loggingInPromise)return[2,n.loggingInPromise]}}else if(r=this._logins.get(""),null===r||void 0===r?void 0:r.loggingInPromise)return[2,r.loggingInPromise];o=new Promise((function(e,t){return l(h,void 0,void 0,(function(){var n,r,o,s,u;return f(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,this.getWsSign()];case 1:return n=c.sent(),r={envId:n.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:""},o={watchId:void 0,requestId:(0,i.genRequestId)(),msgType:"LOGIN",msgData:r,exMsgData:{runtime:(0,a.getRuntime)(),signStr:n.signStr,secretVersion:n.secretVersion}},[4,this.send({msg:o,waitResponse:!0,skipOnMessage:!0,timeout:b})];case 2:return s=c.sent(),s.msgData.code?t(new Error(s.msgData.code+" "+s.msgData.message)):e({envId:n.envId}),[3,4];case 3:return u=c.sent(),t(u),[3,4];case 4:return[2]}}))}))})),s=e&&this._logins.get(e),u=Date.now(),s?(s.loggedIn=!1,s.loggingInPromise=o,s.loginStartTS=u):(s={loggedIn:!1,loggingInPromise:o,loginStartTS:u},this._logins.set(e||"",s)),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,o];case 2:if(c=_.sent(),d=e&&this._logins.get(e),d&&d===s&&d.loginStartTS===u)return s.loggedIn=!0,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=c,[2,c];if(d){if(d.loggedIn&&d.loginResult)return[2,d.loginResult];if(d.loggingInPromise)return[2,d.loggingInPromise];throw new Error("ws unexpected login info")}throw new Error("ws login info reset");case 3:throw p=_.sent(),s.loggedIn=!1,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=void 0,p;case 4:return[2]}}))}))},this.getWsSign=function(){return l(n,void 0,void 0,(function(){var e,t,n,r,i,o,s;return f(this,(function(u){switch(u.label){case 0:return this._wsSign&&this._wsSign.expiredTs>Date.now()?[2,this._wsSign]:(e=Date.now()+6e4,[4,this._context.appConfig.request.send("auth.wsWebSign",{runtime:(0,a.getRuntime)()})]);case 1:if(t=u.sent(),t.code)throw new Error("[tcb-js-sdk] \u83b7\u53d6\u5b9e\u65f6\u6570\u636e\u63a8\u9001\u767b\u5f55\u7968\u636e\u5931\u8d25: "+t.code);if(t.data)return n=t.data,r=n.signStr,i=n.wsUrl,o=n.secretVersion,s=n.envId,[2,{signStr:r,wsUrl:i,secretVersion:o,envId:s,expiredTs:e}];throw new Error("[tcb-js-sdk] \u83b7\u53d6\u5b9e\u65f6\u6570\u636e\u63a8\u9001\u767b\u5f55\u7968\u636e\u5931\u8d25")}}))}))},this.getWaitExpectedTimeoutLength=function(){return n._rttObserved.length?n._rttObserved.reduce((function(e,t){return e+t}))/n._rttObserved.length*1.5:h},this.ping=function(){return l(n,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return e={watchId:void 0,requestId:(0,i.genRequestId)(),msgType:"PING",msgData:null},[4,this.send({msg:e})];case 1:return t.sent(),[2]}}))}))},this.onWatchStart=function(e,t){n._queryIdClientMap.set(t,e)},this.onWatchClose=function(e,t){t&&n._queryIdClientMap.delete(t),n._watchIdClientMap.delete(e.watchId),n._virtualWSClient.delete(e),n._virtualWSClient.size||n.close(o.CLOSE_EVENT_CODE.NoRealtimeListeners)},this._maxReconnect=t.maxReconnect||y,this._reconnectInterval=t.reconnectInterval||g,this._context=t.context}return t.prototype.clearHeartbeat=function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)},t.prototype.close=function(e){this.clearHeartbeat(),this._ws&&(this._ws.close(e,o.CLOSE_EVENT_CODE_INFO[e].name),this._ws=void 0)},t.prototype.watch=function(e){this._ws||this._wsInitPromise||this.initWebSocketConnection(!1);var t=new r.VirtualWebSocketClient(c(c({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this._virtualWSClient.add(t),this._watchIdClientMap.set(t.watchId,t),t.listener},t.prototype.heartbeat=function(t){var n=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout((function(){return l(n,void 0,void 0,(function(){var t=this;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this._ws&&this._ws.readyState===d.OPEN?(this._lastPingSendTS=Date.now(),[4,this.ping()]):[2];case 1:return n.sent(),this._pingFailed=0,this._pongTimeoutId=setTimeout((function(){e("error","pong timed out"," at node_modules/@cloudbase/realtime/dist/esm/websocket-client.js:721"),t._pongMissed<m?(t._pongMissed++,t.heartbeat(!0)):t.initWebSocketConnection(!0)}),this._context.appConfig.realtimePongWaitTimeout),[3,3];case 2:return n.sent(),this._pingFailed<v?(this._pingFailed++,this.heartbeat()):this.close(o.CLOSE_EVENT_CODE.HeartbeatPingError),[3,3];case 3:return[2]}}))}))}),t?0:this._context.appConfig.realtimePingInterval)},t}();t.RealtimeWebSocketClient=w}).call(this,n("0de9")["default"])},"5f9e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={created:function(){"message"===this.type&&(this.maskShow=!1,this.childrenMsg=null)},methods:{customOpen:function(){this.childrenMsg&&this.childrenMsg.open()},customClose:function(){this.childrenMsg&&this.childrenMsg.close()}}};t.default=r},"605a":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","sprint-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","sprint-status-bar"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","sprint-group-name"),attrs:{_i:2}},[n("text",[n("text",[e._v(e._$s(4,"t0-0",e._s(e.groupName)))])])]),n("view",{staticClass:e._$s(5,"sc","sprint-peri-count"),attrs:{_i:5}},[n("text"),n("input",{staticClass:e._$s(7,"sc","sprint-input-count"),attrs:{_i:7},on:{blur:e.getCount}}),n("button",{attrs:{_i:8},on:{click:e.createTestListAndSetStorage}})]),n("view",{staticClass:e._$s(9,"sc","sprint-link-status"),attrs:{_i:9}},[n("text"),n("view",{staticClass:e._$s(11,"sc","sprint-status-color"),class:e._$s(11,"c",{"sprint-off-status":!e.linked,"sprint-on-status":e.linked}),attrs:{_i:11}}),n("button",{attrs:{disabled:e._$s(12,"a-disabled",!!e.linked),_i:12},on:{click:e.linkSocket}})])]),n("view",{staticClass:e._$s(13,"sc","sprint-body-panel"),attrs:{_i:13}},[n("view",[n("peri-test-list",{attrs:{header:!0,editable:e.editable,_i:15},on:{"update:editable":function(t){e.editable=t}}}),n("peri-test-list",{attrs:{testListItem:e.testList[e.countOfPeri-1],editable:e.editable,_i:16}})],1),n("view",{staticClass:e._$s(17,"sc","sprint-control-panel"),attrs:{_i:17}},[n("view",[n("input",{staticClass:e._$s(19,"sc","sprint-input-flow"),attrs:{_i:19},on:{blur:e.getFirstFlowNum}})]),n("view",{staticClass:e._$s(20,"sc","sprint-ctrl-btn"),attrs:{_i:20}},[n("button",{attrs:{disabled:e._$s(21,"a-disabled",e.hasStarted),_i:21},on:{click:e.fillFlowNum}})]),n("view",{staticClass:e._$s(22,"sc","sprint-ctrl-btn"),attrs:{_i:22}},[n("button",{attrs:{disabled:e._$s(23,"a-disabled",e.hasStarted),_i:23},on:{click:e.manualSave}})]),n("view",{staticClass:e._$s(24,"sc","sprint-ctrl-btn"),attrs:{_i:24}},[n("button",{attrs:{disabled:e._$s(25,"a-disabled",!e.hasStarted),_i:25},on:{click:e.reset}})]),n("view",{staticClass:e._$s(26,"sc","sprint-ctrl-btn"),attrs:{_i:26}},[n("button",{attrs:{disabled:e._$s(27,"a-disabled",!e.hasSaved||!e.hasFilled),_i:27},on:{click:e.start}})])])])])},o=[]},"611a":function(e,t,n){"use strict";n.r(t);var r=n("8a1c"),i=n("fb4c");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWsInstance=u,t.autoCount=t.sleep=void 0;var r=n("a60a"),i=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))};t.sleep=i;var o={},s=function(e){return void 0===e&&(e="any"),o[e]||(o[e]=0),o[e]++};t.autoCount=s;var a={};function u(e){if(!r.Db.wsClientClass)throw new Error("to use realtime you must import realtime module first");var t=e.config.env;return a[t]||(a[t]=new r.Db.wsClientClass({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:new r.Db.reqClass(e.config)}}})),a[t]}},"66a3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InternalSymbol=void 0;var r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=[],o={},s=function(){function e(e){Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:e}})}return e}(),a=function(e){function t(t,n){var r=this;if(n!==o)throw new TypeError("InternalSymbol cannot be constructed with new operator");return r=e.call(this,t)||this,r}return r(t,e),t.for=function(e){for(var n=0,r=i.length;n<r;n++)if(i[n].target===e)return i[n].instance;var s=new t(e,o);return i.push({target:e,instance:s}),s},t}(s);t.InternalSymbol=a;var u=a;t.default=u},"676d":function(e,t,n){(function(t,r){e.exports=r(n("9c77"))})(0,(function(e){(function(){var t=e,n=t.lib,r=n.Base,i=t.enc,o=i.Utf8,s=t.algo;s.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})})()}))},"681f":function(e,t,n){"use strict";n.r(t);var r=n("1c7f"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"69c5":function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.HandleHex=t.Group=void 0;var o=function(){function e(t,r,i){n(this,e),this.ch=t,this.peri=r,this.id=i,this.status="wait",this.tense="done",this.timer=new s,this.score=""}return i(e,[{key:"setStatusPrepare",value:function(){this.status="prepare"}},{key:"setStatusRun",value:function(){this.status="run"}},{key:"setStatusWait",value:function(){this.status="wait"}},{key:"setDone",value:function(){this.tense="done"}},{key:"setDoing",value:function(){this.tense="doing"}},{key:"getIdle",value:function(){return!this.id}},{key:"getPrintedStatus",value:function(){return"prepare"===this.status&&"done"===this.tense?"\u5c31\u7eea":"run"===this.status&&"doing"===this.tense?"\u8fdb\u884c":"run"===this.status&&"done"===this.tense?"\u5b8c\u6210":"\u7b49\u5f85"}},{key:"setScore",value:function(e){this.score=e}}]),e}(),s=function(){function e(){n(this,e),this.responseTime=0,this.realResponseTime=0,this.oldTriggerTime=0,this.newTriggerTime=0,this.RT_DELAY_TIME=140}return i(e,[{key:"setResponseTime",value:function(e){this.responseTime=e}},{key:"setRealResponseTime",value:function(e){this.realResponseTime=e}},{key:"setTriggerTime",value:function(e){this.oldTriggerTime=this.newTriggerTime,this.newTriggerTime=e}},{key:"getDelayTime",value:function(){return this.responseTime>=this.newTriggerTime?10*(this.responseTime-this.newTriggerTime)+this.RT_DELAY_TIME:10*(65535-this.newTriggerTime+this.responseTime)+this.RT_DELAY_TIME}}]),e}(),a=function(){function e(t){n(this,e),this.count=t.length;for(var r=[],i=0;i<t.length;i++)r.push(new o(i,t[i].peri,t[i].id));this.members=r,this.groupStatus="wait",this.realStartTime=0}return i(e,[{key:"setGroupPrepare",value:function(){this.members.forEach((function(e){e.getIdle()||(e.setStatusPrepare(),e.setDoing())})),this.groupStatus="prepare"}},{key:"checkPrepareOver",value:function(){if("prepare"===this.groupStatus){for(var e=0;e<this.count;e++)if(!this.members[e].getIdle()&&"doing"===this.members[e].tense)return!1;return!0}return!1}},{key:"setGroupRun",value:function(){this.members.forEach((function(e){e.getIdle()||(e.setStatusRun(),e.setDoing())})),this.groupStatus="run"}},{key:"checkRunOver",value:function(){if("run"===this.groupStatus){for(var e=0;e<this.count;e++)if(!this.members[e].getIdle()&&"doing"===this.members[e].tense)return!1;return!0}return!1}},{key:"setGroupWait",value:function(){this.members.forEach((function(e){e.getIdle()||e.setStatusWait()})),this.groupStatus="wait"}},{key:"setMemberScore",value:function(e){var t=this.members[e];if(!t.getIdle()){var n=t.timer.realResponseTime-t.timer.getDelayTime()-this.realStartTime,r=(n/1e3).toFixed(1);t.setScore(String(r))}}}]),e}();t.Group=a;var u=function(){function t(e,r,i){n(this,t),this.ch=parseInt(e.substring(6,8)),this.target=r.members[this.ch],this.f=e.substring(8,10).toLowerCase(),this.responseTime=parseInt(e.substring(10,14),16),this.triggerTime=parseInt(e.substring(14,18),16),this.nowTime=i}return i(t,[{key:"handle",value:function(){e("log",this.target.ch,this.responseTime,this.triggerTime,this.f," at utils/Process.js:176"),"f1"===this.f&&("prepare"===this.target.status&&"doing"===this.target.tense?(this.target.timer.setTriggerTime(this.triggerTime),this.target.setDone(),e("log","ready"," at utils/Process.js:181")):"run"===this.target.status&&"doing"===this.target.tense&&(this.target.timer.setTriggerTime(this.triggerTime),this.target.timer.newTriggerTime!==this.target.timer.oldTriggerTime&&(this.target.timer.setResponseTime(this.responseTime),this.target.timer.setRealResponseTime(this.nowTime),this.target.setDone(),e("log","trigger"," at utils/Process.js:190"))))}}]),t}();t.HandleHex=u}).call(this,n("0de9")["default"])},"69fb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:["header","group","selected"]};t.default=r},"6a29":function(e,t,n){"use strict";n.r(t);var r=n("5342");for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);var o,s,a,u,c=n("f0c5"),l=Object(c["a"])(r["default"],o,s,!1,null,null,null,!1,a,u);t["default"]=l.exports},"6ba2":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySerializer=void 0;var r=n("7e12"),i=n("86db"),o=n("5d4c"),s=n("2a13"),a=n("db47"),u=n("7069"),c=function(){function e(){}return e.encode=function(e){var t=new l;return t.encodeQuery(e)},e}();t.QuerySerializer=c;var l=function(){function t(){}return t.prototype.encodeQuery=function(e,t){var n;return(0,u.isConversionRequired)(e)?(0,i.isLogicCommand)(e)?this.encodeLogicCommand(e):(0,r.isQueryCommand)(e)?this.encodeQueryCommand(e):(n={},n[t]=this.encodeQueryObject(e),n):(0,s.isObject)(e)?this.encodeQueryObject(e):e},t.prototype.encodeRegExp=function(e){return{$regex:e.source,$options:e.flags}},t.prototype.encodeLogicCommand=function(e){var t,n,r,o,u,c,l,f=this;switch(e.operator){case i.LOGIC_COMMANDS_LITERAL.NOR:case i.LOGIC_COMMANDS_LITERAL.AND:case i.LOGIC_COMMANDS_LITERAL.OR:var d=(0,a.operatorToString)(e.operator),p=e.operands.map((function(t){return f.encodeQuery(t,e.fieldName)}));return t={},t[d]=p,t;case i.LOGIC_COMMANDS_LITERAL.NOT:d=(0,a.operatorToString)(e.operator);var h=e.operands[0];if((0,s.isRegExp)(h))return n={},n[e.fieldName]=(r={},r[d]=this.encodeRegExp(h),r),n;p=this.encodeQuery(h)[e.fieldName];return o={},o[e.fieldName]=(u={},u[d]=p,u),o;default:d=(0,a.operatorToString)(e.operator);if(1===e.operands.length){var _=this.encodeQuery(e.operands[0]);return c={},c[d]=_,c}p=e.operands.map(this.encodeQuery.bind(this));return l={},l[d]=p,l}},t.prototype.encodeQueryCommand=function(e){return(0,r.isComparisonCommand)(e),this.encodeComparisonCommand(e)},t.prototype.encodeComparisonCommand=function(e){var t,n,i,s,c,l,f,d,p;if(e.fieldName===o.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");var h=(0,a.operatorToString)(e.operator);switch(e.operator){case r.QUERY_COMMANDS_LITERAL.EQ:case r.QUERY_COMMANDS_LITERAL.NEQ:case r.QUERY_COMMANDS_LITERAL.LT:case r.QUERY_COMMANDS_LITERAL.LTE:case r.QUERY_COMMANDS_LITERAL.GT:case r.QUERY_COMMANDS_LITERAL.GTE:case r.QUERY_COMMANDS_LITERAL.ELEM_MATCH:case r.QUERY_COMMANDS_LITERAL.EXISTS:case r.QUERY_COMMANDS_LITERAL.SIZE:case r.QUERY_COMMANDS_LITERAL.MOD:return t={},t[e.fieldName]=(n={},n[h]=(0,u.encodeInternalDataType)(e.operands[0]),n),t;case r.QUERY_COMMANDS_LITERAL.IN:case r.QUERY_COMMANDS_LITERAL.NIN:case r.QUERY_COMMANDS_LITERAL.ALL:return i={},i[e.fieldName]=(s={},s[h]=(0,u.encodeInternalDataType)(e.operands),s),i;case r.QUERY_COMMANDS_LITERAL.GEO_NEAR:var _=e.operands[0];return c={},c[e.fieldName]={$nearSphere:{$geometry:_.geometry.toJSON(),$maxDistance:_.maxDistance,$minDistance:_.minDistance}},c;case r.QUERY_COMMANDS_LITERAL.GEO_WITHIN:_=e.operands[0];return l={},l[e.fieldName]={$geoWithin:{$geometry:_.geometry.toJSON()}},l;case r.QUERY_COMMANDS_LITERAL.GEO_INTERSECTS:_=e.operands[0];return f={},f[e.fieldName]={$geoIntersects:{$geometry:_.geometry.toJSON()}},f;default:return d={},d[e.fieldName]=(p={},p[h]=(0,u.encodeInternalDataType)(e.operands[0]),p),d}},t.prototype.encodeQueryObject=function(e){var t=(0,u.flattenQueryObject)(e);for(var n in t){var o=t[n];if((0,i.isLogicCommand)(o)){t[n]=o._setFieldName(n);var s=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,s,n)}else if((0,r.isComparisonCommand)(o)){t[n]=o._setFieldName(n);s=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,s,n)}else(0,u.isConversionRequired)(o)&&(t[n]=(0,u.encodeInternalDataType)(o))}return t},t.prototype.mergeConditionAfterEncode=function(t,n,r){for(var i in n[r]||delete t[r],n)t[i]?(0,s.isArray)(t[i])?t[i]=t[i].concat(n[i]):(0,s.isObject)(t[i])?(0,s.isObject)(n[i])?Object.assign(t,n):(e("warn","unmergable condition, query is object but condition is "+(0,s.getType)(n)+", can only overwrite",n,r," at node_modules/@cloudbase/database/dist/esm/serializer/query.js:214"),t[i]=n[i]):(e("warn","to-merge query is of type "+(0,s.getType)(t)+", can only overwrite",t,n,r," at node_modules/@cloudbase/database/dist/esm/serializer/query.js:219"),t[i]=n[i]):t[i]=n[i]},t}()}).call(this,n("0de9")["default"])},"6c20":function(e,t,n){"use strict";n.r(t);var r=n("3eab"),i=n("5f07");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"6d56":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWsClass=o,t.setWsClass=s,t.getRuntime=a,t.setRuntime=u;var r=null,i="web";function o(){return r}function s(e){r=e}function a(){return i}function u(e){i=e}},"6ef6":function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.activateEvent=t.addEventListener=t.CloudbaseEventEmitter=t.IErrorEvent=t.CloudbaseEvent=void 0;var o=n("ea32");function s(e,t,n){n[e]=n[e]||[],n[e].push(t)}function a(e,t,n){if(null===n||void 0===n?void 0:n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var u=function(){function e(e,t){this.data=t||null,this.name=e}return e}();t.CloudbaseEvent=u;var c=function(e){function t(t,n){var r=e.call(this,"error",{error:t,data:n})||this;return r.error=t,r}return r(t,e),t}(u);t.IErrorEvent=c;var l=function(){function t(){this._listeners={}}return t.prototype.on=function(e,t){return s(e,t,this._listeners),this},t.prototype.off=function(e,t){return a(e,t,this._listeners),this},t.prototype.fire=function(t,n){if(o.isInstanceOf(t,c))return e("error",t.error," at node_modules/@cloudbase/utilities/dist/libs/events.js:69"),this;var r=o.isString(t)?new u(t,n||{}):t,s=r.name;if(this._listens(s)){r.target=this;for(var a=this._listeners[s]?i(this._listeners[s]):[],l=0,f=a;l<f.length;l++){var d=f[l];d.call(this,r)}}return this},t.prototype._listens=function(e){return this._listeners[e]&&this._listeners[e].length>0},t}();t.CloudbaseEventEmitter=l;var f=new l;function d(e,t){f.on(e,t)}function p(e,t){void 0===t&&(t={}),f.fire(e,t)}function h(e,t){f.off(e,t)}t.addEventListener=d,t.activateEvent=p,t.removeEventListener=h}).call(this,n("0de9")["default"])},"6ff6":function(e,t,n){"use strict";n.r(t);var r=n("eb68"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},7069:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.flattenQueryObject=c,t.flattenObject=l,t.mergeConditionAfterEncode=f,t.isConversionRequired=d,t.encodeInternalDataType=p,t.decodeInternalDataType=h;var r=n("2a13"),i=n("9727"),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};function u(e,t,n,i){var s=o({},e);for(var c in e)if(!/^\$/.test(c)){var l=e[c];if(l&&(0,r.isObject)(l)&&!t(l)){if(i.indexOf(l)>-1)throw new Error("Cannot convert circular structure to JSON");var f=a(n,[c]),d=a(i,[l]),p=u(l,t,f,d);s[c]=p;var h=!1;for(var _ in p)/^\$/.test(_)?h=!0:(s[c+"."+_]=p[_],delete s[c][_]);h||delete s[c]}}return s}function c(e){return u(e,d,[],[e])}function l(e){return u(e,(function(e){return!1}),[],[e])}function f(t,n,i){for(var o in n[i]||delete t[i],n)t[o]?(0,r.isArray)(t[o])?t[o].push(n[o]):(0,r.isObject)(t[o])?(0,r.isObject)(n[o])?Object.assign(t[o],n[o]):(e("warn","unmergable condition, query is object but condition is "+(0,r.getType)(n)+", can only overwrite",n,i," at node_modules/@cloudbase/database/dist/esm/serializer/common.js:91"),t[o]=n[o]):(e("warn","to-merge query is of type "+(0,r.getType)(t)+", can only overwrite",t,n,i," at node_modules/@cloudbase/database/dist/esm/serializer/common.js:96"),t[o]=n[o]):t[o]=n[o]}function d(e){return(0,r.isInternalObject)(e)||(0,r.isDate)(e)||(0,r.isRegExp)(e)}function p(e){return(0,i.serialize)(e)}function h(e){return(0,i.deserialize)(e)}}).call(this,n("0de9")["default"])},7259:function(e,t,n){"use strict";n.r(t);var r=n("5e6c"),i=n("7c54");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"729b":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.catchErrorsDecorator=void 0;var o=n("ea32"),s=n("3aff"),a=!1;"undefined"!==typeof navigator&&navigator.userAgent&&(a=-1!==navigator.userAgent.indexOf("Firefox"));var u=a?/(\.js\/)?__decorate(\$\d+)?<@.*\d$/:/(\/\w+\.js\.)?__decorate(\$\d+)?\s*\(.*\)$/,c=/https?\:\/\/.+\:\d*\/.*\.js\:\d+\:\d+/;function l(e){var t=e.mode,n=void 0===t?"async":t,a=e.customInfo,u=void 0===a?{}:a,c=e.title,l=e.messages,p=void 0===l?[]:l;return function(e,t,a){if(s.IS_DEBUG_MODE){var l=u.className||e.constructor.name,h=u.methodName||t,_=a.value,y=f(new Error);a.value="sync"===n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=d({err:new Error,className:l,methodName:h,sourceLink:y});try{return _.apply(this,e)}catch(u){var r=u,i=u.message,s={title:c||l+"."+h+" failed",content:[{type:"error",body:u}]};if(i&&/^\{.*\}$/.test(i)){var a=JSON.parse(i);s.subtitle=i,a.code&&(r=n||u,s.content=p.map((function(e){return{type:"info",body:e}})))}throw o.printGroupLog(s),r}}:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,s,a,u;return i(this,(function(i){switch(i.label){case 0:t=d({err:new Error,className:l,methodName:h,sourceLink:y}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,_.apply(this,e)];case 2:return[2,i.sent()];case 3:throw n=i.sent(),r=n,s=n.message,a={title:c||l+"."+h+" failed",content:[{type:"error",body:n}]},s&&/^\{.*\}$/.test(s)&&(u=JSON.parse(s),a.subtitle=u,u.code&&(r=t||n,a.content=p.map((function(e){return{type:"info",body:e}})))),o.printGroupLog(a),r;case 4:return[2]}}))}))}}}}function f(e){var t="",n=e.stack.split("\n"),r=n.findIndex((function(e){return u.test(e)}));if(-1!==r){var i=c.exec(n[r+1]||"");t=i?i[0]:""}return t}function d(e){var t=e.err,n=e.className,r=e.methodName,i=e.sourceLink;if(!i)return null;var o,s=t.stack.split("\n"),u=a?/^catchErrorsDecorator\/<\/descriptor.value@.*\d$/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]\\s*\\(.*\\)$"),l=a?/^catchErrorsDecorator\/<\/descriptor.value/:new RegExp(n+"\\.descriptor.value\\s*\\[as\\s"+r+"\\]"),f=s.findIndex((function(e){return u.test(e)}));if(-1!==f){var d=s.filter((function(e,t){return t>f}));d.unshift(s[f].replace(l,n+"."+r).replace(c,i)),o=new Error,o.stack=(a?"@debugger":"Error")+"\n"+d.join("\n")}return o}t.catchErrorsDecorator=l},7418:function(e,t,n){"use strict";n.r(t);var r=n("605a"),i=n("681f");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"76d1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerDateConstructor=o,t.ServerDate=void 0;var r=n("5d4c"),i=function(){function e(e){var t=(void 0===e?{}:e).offset,n=void 0===t?0:t;this.offset=n}return Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_SERVER_DATE},enumerable:!0,configurable:!0}),e.prototype.parse=function(){return{$date:{offset:this.offset}}},e}();function o(e){return new i(e)}t.ServerDate=i},"79b9":function(e,t,n){"use strict";n.r(t);var r=n("3942"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"7c54":function(e,t,n){"use strict";n.r(t);var r=n("a144"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"7c91":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"uniPopupSetting",data:function(){return{lane:[1,2,3,4,5,6,7,8],lanePickerIndex:7,timeout:[15,25,35,45,55,65],timeoutPickerIndex:0}},props:{max_lane:{type:Number,default:8},timeout_value:{type:Number,default:15}},inject:["popup"],created:function(){this.popup.mkclick=!1},mounted:function(){this.lanePickerIndex=this.lane.indexOf(this.max_lane),this.timeoutPickerIndex=this.timeout.indexOf(this.timeout_value)},computed:{maxLane:function(){return this.lane[this.lanePickerIndex]},timeoutValue:function(){return this.timeout[this.timeoutPickerIndex]}},methods:{onLanePickerChange:function(e){this.lanePickerIndex=e.target.value},onTimeoutPickerChange:function(e){this.timeoutPickerIndex=e.target.value},onCancel:function(){this.popup.close()},onOk:function(){var e=this;this.$emit("confirm",(function(){e.popup.close()}),this.maxLane,this.timeoutValue)}}};t.default=r},"7d59":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualWebSocketClient=void 0;var r=f(n("91d5")),i=f(n("2ac1")),o=f(n("cd3f")),s=n("0a86"),a=n("a263"),u=n("259d"),c=n("8897"),l=n("8ce0");function f(e){return e&&e.__esModule?e:{default:e}}var d,p=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},_=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};(function(e){e["LOGGINGIN"]="LOGGINGIN",e["INITING"]="INITING",e["REBUILDING"]="REBUILDING",e["ACTIVE"]="ACTIVE",e["ERRORED"]="ERRORED",e["CLOSING"]="CLOSING",e["CLOSED"]="CLOSED",e["PAUSED"]="PAUSED",e["RESUMING"]="RESUMING"})(d||(d={}));var y=100,g=2,v=2,m=1e4,b=1e4,w=1e4,E=function(){function t(t){var n=this;this.watchStatus=d.INITING,this._login=function(e,t){return p(n,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return this.watchStatus=d.LOGGINGIN,[4,this.login(e,t)];case 1:return n=r.sent(),this.envId||(this.envId=n.envId),[2,n]}}))}))},this.initWatch=function(t){return p(n,void 0,void 0,(function(){var n,r=this;return h(this,(function(i){switch(i.label){case 0:if(this._initWatchPromise)return[2,this._initWatchPromise];this._initWatchPromise=new Promise((function(n,i){return p(r,void 0,void 0,(function(){var r,o,a,c,l,f,p,_,y,v,m;return h(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),this.watchStatus===d.PAUSED?(e("log","[realtime] initWatch cancelled on pause"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:106"),[2,n()]):[4,this._login(this.envId,t)];case 1:return r=h.sent().envId,this.watchStatus===d.PAUSED?(e("log","[realtime] initWatch cancelled on pause"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:113"),[2,n()]):(this.watchStatus=d.INITING,o={watchId:this.watchId,requestId:(0,s.genRequestId)(),msgType:"INIT_WATCH",msgData:{envId:r,collName:this.collectionName,query:this.query,limit:this.limit,orderBy:this.orderBy}},[4,this.send({msg:o,waitResponse:!0,skipOnMessage:!0,timeout:b})]);case 2:if(a=h.sent(),c=a.msgData,l=c.events,f=c.currEvent,this.sessionInfo={queryID:a.msgData.queryID,currentEventId:f-1,currentDocs:[]},l.length>0){for(p=0,_=l;p<_.length;p++)y=_[p],y.ID=f;this.handleServerEvents(a)}else this.sessionInfo.currentEventId=f,v=new u.Snapshot({id:f,docChanges:[],docs:[],type:"init"}),this.listener.onChange(v),this.scheduleSendACK();return this.onWatchStart(this,this.sessionInfo.queryID),this.watchStatus=d.ACTIVE,this._availableRetries.INIT_WATCH=g,n(),[3,4];case 3:return m=h.sent(),this.handleWatchEstablishmentError(m,{operationName:"INIT_WATCH",resolve:n,reject:i}),[3,4];case 4:return[2]}}))}))})),n=!1,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this._initWatchPromise];case 2:return i.sent(),n=!0,[3,4];case 3:return this._initWatchPromise=void 0,[7];case 4:return e("log","[realtime] initWatch "+(n?"success":"fail")," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:191"),[2]}}))}))},this.rebuildWatch=function(t){return p(n,void 0,void 0,(function(){var n,r=this;return h(this,(function(i){switch(i.label){case 0:if(this._rebuildWatchPromise)return[2,this._rebuildWatchPromise];this._rebuildWatchPromise=new Promise((function(n,i){return p(r,void 0,void 0,(function(){var r,o,a,u;return h(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),this.watchStatus===d.PAUSED?(e("log","[realtime] rebuildWatch cancelled on pause"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:212"),[2,n()]):[4,this._login(this.envId,t)];case 1:if(r=c.sent().envId,!this.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");return this.watchStatus===d.PAUSED?(e("log","[realtime] rebuildWatch cancelled on pause"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:222"),[2,n()]):(this.watchStatus=d.REBUILDING,o={watchId:this.watchId,requestId:(0,s.genRequestId)(),msgType:"REBUILD_WATCH",msgData:{envId:r,collName:this.collectionName,queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:o,waitResponse:!0,skipOnMessage:!1,timeout:w})]);case 2:return a=c.sent(),this.handleServerEvents(a),this.watchStatus=d.ACTIVE,this._availableRetries.REBUILD_WATCH=g,n(),[3,4];case 3:return u=c.sent(),this.handleWatchEstablishmentError(u,{operationName:"REBUILD_WATCH",resolve:n,reject:i}),[3,4];case 4:return[2]}}))}))})),n=!1,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this._rebuildWatchPromise];case 2:return i.sent(),n=!0,[3,4];case 3:return this._rebuildWatchPromise=void 0,[7];case 4:return e("log","[realtime] rebuildWatch "+(n?"success":"fail")," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:275"),[2]}}))}))},this.handleWatchEstablishmentError=function(e,t){return p(n,void 0,void 0,(function(){var n,r,i,o=this;return h(this,(function(s){return n="INIT_WATCH"===t.operationName,r=function(){o.closeWithError(new c.CloudSDKError({errCode:n?c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:e})),t.reject(e)},i=function(e){o.useRetryTicket(t.operationName)?n?(o._initWatchPromise=void 0,t.resolve(o.initWatch(e))):(o._rebuildWatchPromise=void 0,t.resolve(o.rebuildWatch(e))):r()},this.handleCommonError(e,{onSignError:function(){return i(!0)},onTimeoutError:function(){return i(!1)},onNotRetryableError:r,onCancelledError:t.reject,onUnknownError:function(){return p(o,void 0,void 0,(function(){var e,n=this;return h(this,(function(r){switch(r.label){case 0:return r.trys.push([0,8,,9]),e=function(){return p(n,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.pause(),[4,this.onceWSConnected()];case 1:return e.sent(),i(!0),[2]}}))}))},this.isWSConnected()?[3,2]:[4,e()];case 1:return r.sent(),[3,7];case 2:return[4,(0,l.sleep)(y)];case 3:return r.sent(),this.watchStatus!==d.PAUSED?[3,4]:(t.reject(new c.CancelledError(t.operationName+" cancelled due to pause after unknownError")),[3,7]);case 4:return this.isWSConnected()?[3,6]:[4,e()];case 5:return r.sent(),[3,7];case 6:i(!1),r.label=7;case 7:return[3,9];case 8:return r.sent(),i(!0),[3,9];case 9:return[2]}}))}))}}),[2]}))}))},this.closeWatch=function(){return p(n,void 0,void 0,(function(){var e,t,n;return h(this,(function(r){switch(r.label){case 0:if(e=this.sessionInfo?this.sessionInfo.queryID:"",this.watchStatus!==d.ACTIVE)return this.watchStatus=d.CLOSED,this.onWatchClose(this,e),[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),this.watchStatus=d.CLOSING,t={watchId:this.watchId,requestId:(0,s.genRequestId)(),msgType:"CLOSE_WATCH",msgData:null},[4,this.send({msg:t})];case 2:return r.sent(),this.sessionInfo=void 0,this.watchStatus=d.CLOSED,[3,5];case 3:return n=r.sent(),this.closeWithError(new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:n})),[3,5];case 4:return this.onWatchClose(this,e),[7];case 5:return[2]}}))}))},this.scheduleSendACK=function(){n.clearACKSchedule(),n._ackTimeoutId=setTimeout((function(){n._waitExpectedTimeoutId?n.scheduleSendACK():n.sendACK()}),m)},this.clearACKSchedule=function(){n._ackTimeoutId&&clearTimeout(n._ackTimeoutId)},this.sendACK=function(){return p(n,void 0,void 0,(function(){var t,n,r;return h(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.watchStatus!==d.ACTIVE?(this.scheduleSendACK(),[2]):this.sessionInfo?(t={watchId:this.watchId,requestId:(0,s.genRequestId)(),msgType:"CHECK_LAST",msgData:{queryID:this.sessionInfo.queryID,eventID:this.sessionInfo.currentEventId}},[4,this.send({msg:t})]):(e("warn","[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:437"),[2]);case 1:return i.sent(),this.scheduleSendACK(),[3,3];case 2:if(n=i.sent(),(0,c.isRealtimeErrorMessageError)(n))switch(r=n.payload,r.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return this.rebuildWatch(),[2];case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return this.closeWithError(new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.msgData.code})),[2];default:break}return this._availableRetries.CHECK_LAST&&this._availableRetries.CHECK_LAST>0?(this._availableRetries.CHECK_LAST--,this.scheduleSendACK()):this.closeWithError(new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:n})),[3,3];case 3:return[2]}}))}))},this.handleCommonError=function(e,t){if((0,c.isRealtimeErrorMessageError)(e)){var n=e.payload;switch(n.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return void t.onNotRetryableError(e);default:return void t.onNotRetryableError(e)}}else{if((0,c.isTimeoutError)(e))return void t.onTimeoutError(e);if((0,c.isCancelledError)(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_"+ +new Date+"_"+Math.random(),this.envId=t.envId,this.collectionName=t.collectionName,this.query=t.query,this.limit=t.limit,this.orderBy=t.orderBy,this.send=t.send,this.login=t.login,this.isWSConnected=t.isWSConnected,this.onceWSConnected=t.onceWSConnected,this.getWaitExpectedTimeoutLength=t.getWaitExpectedTimeoutLength,this.onWatchStart=t.onWatchStart,this.onWatchClose=t.onWatchClose,this.debug=t.debug,this._availableRetries={INIT_WATCH:g,REBUILD_WATCH:g,CHECK_LAST:v},this.listener=new a.RealtimeListener({close:this.closeWatch,onChange:t.onChange,onError:t.onError,debug:this.debug,virtualClient:this}),this.initWatch()}return t.prototype.onMessage=function(t){var n=this;switch(this.watchStatus){case d.PAUSED:if("ERROR"!==t.msgType)return;break;case d.LOGGINGIN:case d.INITING:case d.REBUILDING:return void e("warn","[realtime listener] internal non-fatal error: unexpected message received while "+this.watchStatus," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:573");case d.CLOSED:return void e("warn","[realtime listener] internal non-fatal error: unexpected message received when the watch has closed"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:577");case d.ERRORED:return void e("warn","[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:581")}if(this.sessionInfo)switch(this.scheduleSendACK(),t.msgType){case"NEXT_EVENT":e("warn","nextevent "+t.msgData.currEvent+" ignored",t," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:592"),this.handleServerEvents(t);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<t.msgData.currEvent&&(this.sessionInfo.expectEventId=t.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((function(){n.rebuildWatch()}),this.getWaitExpectedTimeoutLength()),e("log","[realtime] waitExpectedTimeoutLength "+this.getWaitExpectedTimeoutLength()," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:603"));break;case"ERROR":this.closeWithError(new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:t.msgData.code+" - "+t.msgData.message}));break;default:e("warn","[realtime listener] virtual client receive unexpected msg "+t.msgType+": ",t," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:615");break}else e("warn","[realtime listener] internal non-fatal error: sessionInfo not found while message is received."," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:586")},t.prototype.closeWithError=function(t){this.watchStatus=d.ERRORED,this.clearACKSchedule(),this.listener.onError(t),this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),e("log","[realtime] client closed ("+this.collectionName+" "+this.query+") (watchId "+this.watchId+")"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:625")},t.prototype.pause=function(){this.watchStatus=d.PAUSED,e("log","[realtime] client paused ("+this.collectionName+" "+this.query+") (watchId "+this.watchId+")"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:629")},t.prototype.resume=function(){return p(this,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:this.watchStatus=d.RESUMING,e("log","[realtime] client resuming with "+(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH")+" ("+this.collectionName+" "+this.query+") ("+this.watchId+")"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:638"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.sessionInfo?this.rebuildWatch():this.initWatch()];case 2:return n.sent(),e("log","[realtime] client successfully resumed ("+this.collectionName+" "+this.query+") ("+this.watchId+")"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:645"),[3,4];case 3:return t=n.sent(),e("error","[realtime] client resume failed ("+this.collectionName+" "+this.query+") ("+this.watchId+")",t," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:649"),[3,4];case 4:return[2]}}))}))},t.prototype.useRetryTicket=function(t){return!!(this._availableRetries[t]&&this._availableRetries[t]>0)&&(this._availableRetries[t]--,e("log","[realtime] "+t+" use a retry ticket, now only "+this._availableRetries[t]+" retry left"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:660"),!0)},t.prototype.handleServerEvents=function(t){return p(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.scheduleSendACK(),[4,this._handleServerEvents(t)];case 1:return r.sent(),this._postHandleServerEventsValidityCheck(t),[3,3];case 2:throw n=r.sent(),e("error","[realtime listener] internal non-fatal error: handle server events failed with error: ",n," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:680"),n;case 3:return[2]}}))}))},t.prototype._handleServerEvents=function(t){return p(this,void 0,void 0,(function(){var n,s,a,l,f,d,p,y,g,v,m,b;return h(this,(function(w){switch(w.label){case 0:if(n=t.requestId,s=t.msgData.events,a=t.msgType,!s.length||!this.sessionInfo)return[2];l=this.sessionInfo;try{f=s.map(S)}catch(E){return this.closeWithError(new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:E})),[2]}d=_(l.currentDocs),p=!1,y=function(s,y){var v,m,b,w,E,S,O,A,T,I,N;return h(this,(function(h){switch(h.label){case 0:return v=f[s],l.currentEventId>=v.id?(!f[s-1]||v.id>f[s-1].id?e("warn","[realtime] duplicate event received, cur "+l.currentEventId+" but got "+v.id," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:720"):e("error","[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId "+n+")"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:723"),[2,"continue"]):[3,1];case 1:if(l.currentEventId!==v.id-1)return[3,2];switch(v.dataType){case"update":if(!v.doc)switch(v.queueType){case"update":case"dequeue":if(m=d.find((function(e){return e._id===v.docId})),m){if(S=(0,o.default)(m),v.updatedFields)for(E in v.updatedFields)(0,r.default)(S,E,v.updatedFields[E]);if(v.removedFields)for(b=0,w=v.removedFields;b<w.length;b++)E=w[b],(0,i.default)(S,E);v.doc=S}else e("error","[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated."," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:751");break;case"enqueue":throw O=new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '+t.requestId+")"}),g.closeWithError(O),O;default:break}break;case"replace":if(!v.doc)throw O=new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '+t.requestId+")"}),g.closeWithError(O),O;break;case"remove":S=d.find((function(e){return e._id===v.docId})),S?v.doc=S:e("error","[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:787");break;case"limit":if(!v.doc)switch(v.queueType){case"dequeue":S=d.find((function(e){return e._id===v.docId})),S?v.doc=S:e("error","[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated."," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:800");break;case"enqueue":throw O=new c.CloudSDKError({errCode:c.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '+t.requestId+")"}),g.closeWithError(O),O;default:break}break}switch(v.queueType){case"init":p?d.push(v.doc):(p=!0,d=[v.doc]);break;case"enqueue":d.push(v.doc);break;case"dequeue":A=d.findIndex((function(e){return e._id===v.docId})),A>-1?d.splice(A,1):e("error","[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:841");break;case"update":A=d.findIndex((function(e){return e._id===v.docId})),A>-1?d[A]=v.doc:e("error","[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:851");break}return(s===y-1||f[s+1]&&f[s+1].id!==v.id)&&(T=_(d),I=f.slice(0,s+1).filter((function(e){return e.id===v.id})),g.sessionInfo.currentEventId=v.id,g.sessionInfo.currentDocs=d,N=new u.Snapshot({id:v.id,docChanges:I,docs:T,msgType:a}),g.listener.onChange(N)),[3,4];case 2:return e("warn","[realtime listener] event received is out of order, cur "+g.sessionInfo.currentEventId+" but got "+v.id," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:874"),[4,g.rebuildWatch()];case 3:return h.sent(),[2,{value:void 0}];case 4:return[2]}}))},g=this,v=0,m=f.length,w.label=1;case 1:return v<m?[5,y(v,m)]:[3,4];case 2:if(b=w.sent(),"object"===typeof b)return[2,b.value];w.label=3;case 3:return v++,[3,1];case 4:return[2]}}))}))},t.prototype._postHandleServerEventsValidityCheck=function(t){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<t.msgData.currEvent&&e("warn","[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:912")):e("error","[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur"," at node_modules/@cloudbase/realtime/dist/esm/virtual-websocket-client.js:904")},t.prototype.clearWaitExpectedEvent=function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)},t}();function S(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}t.VirtualWebSocketClient=E}).call(this,n("0de9")["default"])},"7e12":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isQueryCommand=S,t.isKnownQueryCommand=O,t.isComparisonCommand=A,t.default=t.QueryCommand=t.QUERY_COMMANDS_LITERAL=t.MOD=t.SIZE=t.EXISTS=t.ELEM_MATCH=t.ALL=t.NIN=t.IN=t.LTE=t.LT=t.GTE=t.GT=t.NEQ=t.EQ=void 0;var r=n("86db"),i=n("5d4c"),o=n("bc0d"),s=n("2a13"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u="eq";t.EQ=u;var c="neq";t.NEQ=c;var l="gt";t.GT=l;var f="gte";t.GTE=f;var d="lt";t.LT=d;var p="lte";t.LTE=p;var h="in";t.IN=h;var _="nin";t.NIN=_;var y="all";t.ALL=y;var g="elemMatch";t.ELEM_MATCH=g;var v="exists";t.EXISTS=v;var m="size";t.SIZE=m;var b,w="mod";t.MOD=w,t.QUERY_COMMANDS_LITERAL=b,function(e){e["EQ"]="eq",e["NEQ"]="neq",e["GT"]="gt",e["GTE"]="gte",e["LT"]="lt",e["LTE"]="lte",e["IN"]="in",e["NIN"]="nin",e["ALL"]="all",e["ELEM_MATCH"]="elemMatch",e["EXISTS"]="exists",e["SIZE"]="size",e["MOD"]="mod",e["GEO_NEAR"]="geoNear",e["GEO_WITHIN"]="geoWithin",e["GEO_INTERSECTS"]="geoIntersects"}(b||(t.QUERY_COMMANDS_LITERAL=b={}));var E=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.operator=t,o._internalType=i.SYMBOL_QUERY_COMMAND,o}return a(t,e),t.prototype.toJSON=function(){var e,t;switch(this.operator){case b.IN:case b.NIN:return e={},e["$"+this.operator]=this.operands,e;default:return t={},t["$"+this.operator]=this.operands[0],t}},t.prototype._setFieldName=function(e){var n=new t(this.operator,this.operands,e);return n},t.prototype.eq=function(e){var n=new t(b.EQ,[e],this.fieldName);return this.and(n)},t.prototype.neq=function(e){var n=new t(b.NEQ,[e],this.fieldName);return this.and(n)},t.prototype.gt=function(e){var n=new t(b.GT,[e],this.fieldName);return this.and(n)},t.prototype.gte=function(e){var n=new t(b.GTE,[e],this.fieldName);return this.and(n)},t.prototype.lt=function(e){var n=new t(b.LT,[e],this.fieldName);return this.and(n)},t.prototype.lte=function(e){var n=new t(b.LTE,[e],this.fieldName);return this.and(n)},t.prototype.in=function(e){var n=new t(b.IN,e,this.fieldName);return this.and(n)},t.prototype.nin=function(e){var n=new t(b.NIN,e,this.fieldName);return this.and(n)},t.prototype.geoNear=function(e){if(!(e.geometry instanceof o.Point))throw new TypeError('"geometry" must be of type Point. Received type '+typeof e.geometry);if(void 0!==e.maxDistance&&!(0,s.isNumber)(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '+typeof e.maxDistance);if(void 0!==e.minDistance&&!(0,s.isNumber)(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '+typeof e.minDistance);var n=new t(b.GEO_NEAR,[e],this.fieldName);return this.and(n)},t.prototype.geoWithin=function(e){if(!(e.geometry instanceof o.MultiPolygon)&&!(e.geometry instanceof o.Polygon))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '+typeof e.geometry);var n=new t(b.GEO_WITHIN,[e],this.fieldName);return this.and(n)},t.prototype.geoIntersects=function(e){if(!(e.geometry instanceof o.Point)&&!(e.geometry instanceof o.LineString)&&!(e.geometry instanceof o.Polygon)&&!(e.geometry instanceof o.MultiPoint)&&!(e.geometry instanceof o.MultiLineString)&&!(e.geometry instanceof o.MultiPolygon))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '+typeof e.geometry);var n=new t(b.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)},t}(r.LogicCommand);function S(e){return e&&e instanceof E&&e._internalType===i.SYMBOL_QUERY_COMMAND}function O(e){return S(e)&&e.operator.toUpperCase()in b}function A(e){return S(e)}t.QueryCommand=E;var T=E;t.default=T},"7f91":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"UniPopupMessage",props:{type:{type:String,default:"success"},message:{type:String,default:""},duration:{type:Number,default:3e3}},inject:["popup"],data:function(){return{}},created:function(){this.popup.childrenMsg=this},methods:{open:function(){var e=this;0!==this.duration&&(clearTimeout(this.popuptimer),this.popuptimer=setTimeout((function(){e.popup.close()}),this.duration))},close:function(){clearTimeout(this.popuptimer)}}};t.default=r},8036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPolygon=void 0;var r=n("5d4c"),i=n("2a13"),o=n("bf67"),s=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function e(e){var t,n;if(!(0,i.isArray)(e))throw new TypeError('"polygons" must be of type Polygon[]. Received type '+typeof e);if(0===e.length)throw new Error("MultiPolygon must contain 1 polygon at least");try{for(var r=s(e),a=r.next();!a.done;a=r.next()){var u=a.value;if(!(u instanceof o.Polygon))throw new TypeError('"polygon" must be of type Polygon[]. Received type '+typeof u+"[]")}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.polygons=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))},t},e.prototype.toJSON=function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}},e.validate=function(e){var t,n,r,o,a,u;if("MultiPolygon"!==e.type||!(0,i.isArray)(e.coordinates))return!1;try{for(var c=s(e.coordinates),l=c.next();!l.done;l=c.next()){var f=l.value;try{for(var d=(r=void 0,s(f)),p=d.next();!p.done;p=d.next()){var h=p.value;try{for(var _=(a=void 0,s(h)),y=_.next();!y.done;y=_.next()){var g=y.value;if(!(0,i.isNumber)(g[0])||!(0,i.isNumber)(g[1]))return!1}}catch(v){a={error:v}}finally{try{y&&!y.done&&(u=_.return)&&u.call(_)}finally{if(a)throw a.error}}}}catch(m){r={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}catch(b){t={error:b}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_GEO_POLYGON},enumerable:!0,configurable:!0}),e}();t.MultiPolygon=a},"80d0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionReference=void 0;var r=n("fcfe"),i=n("e8bb"),o=s(n("fae7"));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e){function t(t,n){return e.call(this,t,n)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!==typeof e&&"number"!==typeof e)throw new Error("docId\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u6216\u6570\u5b57");return new r.DocumentReference(this._db,this._coll,e)},t.prototype.add=function(e,t){var n=new r.DocumentReference(this._db,this._coll,void 0);return n.create(e,t)},t.prototype.aggregate=function(){return new o.default(this._db,this._coll)},t}(i.Query);t.CollectionReference=u},"86db":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLogicCommand=f,t.isKnownLogicCommand=d,t.default=t.LogicCommand=t.LOGIC_COMMANDS_LITERAL=t.NOR=t.NOT=t.OR=t.AND=void 0;var r=n("5d4c"),i=n("7e12"),o="and";t.AND=o;var s="or";t.OR=s;var a="not";t.NOT=a;var u,c="nor";t.NOR=c,t.LOGIC_COMMANDS_LITERAL=u,function(e){e["AND"]="and",e["OR"]="or",e["NOT"]="not",e["NOR"]="nor"}(u||(t.LOGIC_COMMANDS_LITERAL=u={}));var l=function(){function e(e,t,n){if(this._internalType=r.SYMBOL_LOGIC_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||r.SYMBOL_UNSET_FIELD_NAME,this.fieldName!==r.SYMBOL_UNSET_FIELD_NAME)if(Array.isArray(t)){t=t.slice(),this.operands=t;for(var o=0,s=t.length;o<s;o++){var a=t[o];(f(a)||(0,i.isQueryCommand)(a))&&(t[o]=a._setFieldName(this.fieldName))}}else{a=t;(f(a)||(0,i.isQueryCommand)(a))&&(t=a._setFieldName(this.fieldName))}}return e.prototype._setFieldName=function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n})),r=new e(this.operator,n,t);return r},e.prototype.and=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(u.AND,r,this.fieldName)},e.prototype.or=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return r.unshift(this),new e(u.OR,r,this.fieldName)},e}();function f(e){return e&&e instanceof l&&e._internalType===r.SYMBOL_LOGIC_COMMAND}function d(e){return f&&e.operator.toUpperCase()in u}t.LogicCommand=l;var p=l;t.default=p},"872f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateSerializer=void 0;var r=n("950b"),i=n("5d4c"),o=n("2a13"),s=n("db47"),a=n("7069"),u=function(){function e(){}return e.encode=function(t){var n=new e;return n.encodeUpdate(t)},e.prototype.encodeUpdate=function(e){return(0,r.isUpdateCommand)(e)?this.encodeUpdateCommand(e):"object"===(0,o.getType)(e)?this.encodeUpdateObject(e):e},e.prototype.encodeUpdateCommand=function(e){if(e.fieldName===i.SYMBOL_UNSET_FIELD_NAME)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.PUSH:case r.UPDATE_COMMANDS_LITERAL.PULL:case r.UPDATE_COMMANDS_LITERAL.PULL_ALL:case r.UPDATE_COMMANDS_LITERAL.POP:case r.UPDATE_COMMANDS_LITERAL.SHIFT:case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:case r.UPDATE_COMMANDS_LITERAL.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}},e.prototype.encodeFieldUpdateCommand=function(e){var t,n,i,o,a=(0,s.operatorToString)(e.operator);switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.REMOVE:return t={},t[a]=(n={},n[e.fieldName]="",n),t;default:return i={},i[a]=(o={},o[e.fieldName]=e.operands[0],o),i}},e.prototype.encodeArrayUpdateCommand=function(e){var t,n,i,u,c,l,f,d,p,h,_=(0,s.operatorToString)(e.operator);switch(e.operator){case r.UPDATE_COMMANDS_LITERAL.PUSH:var y=void 0;return y=(0,o.isArray)(e.operands)?{$each:e.operands.map(a.encodeInternalDataType)}:e.operands,t={},t[_]=(n={},n[e.fieldName]=y,n),t;case r.UPDATE_COMMANDS_LITERAL.UNSHIFT:y={$each:e.operands.map(a.encodeInternalDataType),$position:0};return i={},i[_]=(u={},u[e.fieldName]=y,u),i;case r.UPDATE_COMMANDS_LITERAL.POP:return c={},c[_]=(l={},l[e.fieldName]=1,l),c;case r.UPDATE_COMMANDS_LITERAL.SHIFT:return f={},f[_]=(d={},d[e.fieldName]=-1,d),f;default:return p={},p[_]=(h={},h[e.fieldName]=(0,a.encodeInternalDataType)(e.operands),h),p}},e.prototype.encodeUpdateObject=function(e){var t=(0,a.flattenQueryObject)(e);for(var n in t)if(!/^\$/.test(n)){var i=t[n];if((0,r.isUpdateCommand)(i)){t[n]=i._setFieldName(n);var o=this.encodeUpdateCommand(t[n]);(0,a.mergeConditionAfterEncode)(t,o,n)}else{t[n]=i=(0,a.encodeInternalDataType)(i);var s=new r.UpdateCommand(r.UPDATE_COMMANDS_LITERAL.SET,[i],n);o=this.encodeUpdateCommand(s);(0,a.mergeConditionAfterEncode)(t,o,n)}}return t},e}();t.UpdateSerializer=u},"877b":function(e,t,n){"use strict";n.r(t);var r=n("df8f"),i=n("6ff6");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"886d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"uniPopupDialog",props:{inputType:{type:String,default:"text"},value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:"\u8bf7\u8f93\u5165\u5185\u5bb9"},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:"\u63d0\u793a"},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},plainConfirmButton:{type:Boolean,default:!1}},data:function(){return{dialogType:"error",val:""}},inject:["popup"],watch:{type:function(e){this.dialogType=e},mode:function(e){"input"===e&&(this.dialogType="info")},value:function(e){this.val=e}},created:function(){this.popup.mkclick=!1,"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},methods:{onOk:function(){var e=this;this.$emit("confirm",(function(){e.popup.close(),"input"===e.mode&&(e.val=e.value)}),"input"===this.mode?this.val:"")},close:function(){var e=this;this.beforeClose?this.$emit("close",(function(){e.popup.close()})):this.popup.close()}}};t.default=r},8897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_CODE=t.CloudSDKError=t.isCancelledError=t.CancelledError=t.isTimeoutError=t.TimeoutError=t.isRealtimeErrorMessageError=t.RealtimeErrorMessageError=void 0;var r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){function t(t){var n=e.call(this,"Watch Error "+JSON.stringify(t.msgData)+" (requestid: "+t.requestId+")")||this;return n.isRealtimeErrorMessageError=!0,n.payload=t,n}return r(t,e),t}(Error);t.RealtimeErrorMessageError=i;var o=function(e){return null===e||void 0===e?void 0:e.isRealtimeErrorMessageError};t.isRealtimeErrorMessageError=o;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="timeout",t.payload=null,t.generic=!0,t}return r(t,e),t}(Error);t.TimeoutError=s;var a=function(e){return"timeout"===e.type};t.isTimeoutError=a;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cancelled",t.payload=null,t.generic=!0,t}return r(t,e),t}(Error);t.CancelledError=u;var c=function(e){return"cancelled"===e.type};t.isCancelledError=c;var l=function(e){function t(t){var n=e.call(this,t.errMsg)||this;return n.errCode="UNKNOWN_ERROR",Object.defineProperties(n,{message:{get:function(){return"errCode: "+this.errCode+" "+(f[this.errCode]||"")+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e}}}),n.errCode=t.errCode||"UNKNOWN_ERROR",n.errMsg=t.errMsg,n}return r(t,e),Object.defineProperty(t.prototype,"message",{get:function(){return"errCode: "+this.errCode+" | errMsg: "+this.errMsg},set:function(e){this.errMsg=e},enumerable:!1,configurable:!0}),t}(Error);t.CloudSDKError=l;var f={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"};t.ERR_CODE=f},8981:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uniIcons:n("2794").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","uni-popup-setting"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","uni-popup-setting-picker"),attrs:{_i:1}},[n("view"),n("view",{staticClass:e._$s(3,"sc","picker-row"),attrs:{_i:3}},[n("text",{staticClass:e._$s(4,"sc","picker-col"),attrs:{_i:4}}),n("view",{staticClass:e._$s(5,"sc","picker-col"),attrs:{_i:5}},[n("picker",{attrs:{range:e._$s(6,"a-range",e.lane),value:e._$s(6,"a-value",e.lanePickerIndex),_i:6},on:{change:e.onLanePickerChange}},[n("view",[n("text",{staticClass:e._$s(8,"sc","picker-value"),attrs:{_i:8}},[e._v(e._$s(8,"t0-0",e._s(e.maxLane)))]),n("uni-icons",{attrs:{type:"arrowdown",_i:9}})],1)])])])]),n("view",[n("view"),n("view",{staticClass:e._$s(12,"sc","picker-row"),attrs:{_i:12}},[n("text",{staticClass:e._$s(13,"sc","picker-col"),attrs:{_i:13}}),n("view",{staticClass:e._$s(14,"sc","picker-col"),attrs:{_i:14}},[n("picker",{attrs:{range:e._$s(15,"a-range",e.timeout),value:e._$s(15,"a-value",e.timeoutPickerIndex),_i:15},on:{change:e.onTimeoutPickerChange}},[n("view",[n("text",{staticClass:e._$s(17,"sc","picker-value"),attrs:{_i:17}},[e._v(e._$s(17,"t0-0",e._s(e.timeoutValue)))]),n("uni-icons",{attrs:{type:"arrowdown",_i:18}})],1)])])])]),n("view",{staticClass:e._$s(19,"sc","btn-row"),attrs:{_i:19}},[n("view",[n("button",{attrs:{_i:21},on:{click:e.onCancel}})]),n("view",[n("button",{attrs:{_i:23},on:{click:e.onOk}})])])])},o=[]},"8a1c":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uniPopup:n("12d9").default,uniPopupSetting:n("a72c").default,uniPopupCalibrate:n("9b7b").default,uniPopupDialog:n("20e6").default,uniPopupMessage:n("f37e").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","sprint-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","sprint-status-bar"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","sprint-group-name"),attrs:{_i:2}},[n("text",[n("text",[e._v(e._$s(4,"t0-0",e._s(e.groupName)))])])]),n("view",[n("button",{attrs:{disabled:e._$s(6,"a-disabled",2===e.systemState||!e.hasSaved),_i:6},on:{click:e.openSettingPopup}})]),n("view",[n("button",{staticClass:e._$s(8,"sc","cali-btn"),attrs:{disabled:e._$s(8,"a-disabled",2===e.systemState||!e.linked||!e.hasSaved),_i:8},on:{click:e.openCalibratePopup}})]),n("view",{staticClass:e._$s(9,"sc","sprint-status-btn"),attrs:{_i:9}},[n("view",{staticClass:e._$s(10,"sc","sprint-status-color"),class:e._$s(10,"c",{"sprint-off-status":!e.linked,"sprint-on-status":e.linked}),attrs:{_i:10}}),n("button",{attrs:{disabled:e._$s(11,"a-disabled",!!e.linked),_i:11},on:{click:function(t){return e.$socket.init(e.channel,e.ip,e.port)}}})])]),n("view",{staticClass:e._$s(12,"sc","sprint-body-panel"),attrs:{_i:12}},[n("view",{staticClass:e._$s(13,"sc","sprint-test-list"),attrs:{_i:13}},[n("sprint-test-list",{attrs:{header:!0,resultEditable:e.resultEditable,systemState:e.systemState,hasSaved:e.hasSaved,_i:14},on:{"update-resultEditable":function(t){e.resultEditable=t},"scanner-input":e.handleScannerInput,"scanner-start":e.startScanner}}),e._l(e._$s(15,"f",{forItems:e.testList}),(function(t,r,i,o){return n("sprint-test-list",{key:e._$s(15,"f",{forIndex:i,key:t.sensorNum}),attrs:{testListItem:t,resultEditable:e.resultEditable,hasSaved:e.hasSaved,_i:"15-"+o},on:{"selected-row":e.handleSelectedRowId}})}))],2),n("view",{staticClass:e._$s(16,"sc","sprint-control-panel"),attrs:{_i:16}},[n("view",{staticClass:e._$s(17,"sc","sprint-ctrl-btn"),attrs:{_i:17}},[n("button",{attrs:{disabled:e._$s(18,"a-disabled",2===e.systemState),_i:18},on:{click:e.fillFlowNum}})]),n("view",{staticClass:e._$s(19,"sc","sprint-ctrl-btn"),attrs:{_i:19}},[n("button",{attrs:{disabled:e._$s(20,"a-disabled",2===e.systemState),_i:20},on:{click:e.saveAndClear}})]),n("view",{staticClass:e._$s(21,"sc","sprint-ctrl-btn"),attrs:{_i:21}},[n("button",{attrs:{disabled:e._$s(22,"a-disabled",!(2===e.systemState||!e.hasSaved)),_i:22},on:{click:e.openResetPopup}})]),n("view",{staticClass:e._$s(23,"sc","sprint-ctrl-btn"),attrs:{_i:23}},[n("button",{attrs:{disabled:e._$s(24,"a-disabled",2===e.systemState||!e.hasFilledPersonId||!e.hasSaved||!e.linked),_i:24},on:{click:e.startTest}})])])]),n("uni-popup",{ref:"settingPopup",attrs:{type:"setting",_i:25}},[n("uni-popup-setting",{attrs:{max_lane:e.countOfSensor,timeout_value:e.RUN_TIMEOUT/1e3,_i:26},on:{confirm:e.confirmSetting}})],1),n("uni-popup",{ref:"calibratePopup",attrs:{type:"calibrate",_i:27}},[n("uni-popup-calibrate",{attrs:{sensorCalibrateArr:e.sensorCalibrateArr,_i:28},on:{confirm:e.confirmCalibrate,auto:e.autoCalibrate}})],1),n("uni-popup",{ref:"resetPopup",attrs:{type:"dialog",_i:29}},[n("uni-popup-dialog",{attrs:{title:"\u91cd\u7f6e",content:"\u91cd\u7f6e\u4f1a\u6e05\u7a7a\u4f46\u4e0d\u4f1a\u4fdd\u5b58\u672c\u6b21\u7ed3\u679c;\n\t\t\t\u4f1a\u4fdd\u7559\u4e2a\u4eba\u7f16\u53f7,\u4ee5\u4fbf\u91cd\u65b0\u6d4b\u8bd5",plainConfirmButton:!0,_i:30},on:{confirm:e.confirmReset}})],1),n("uni-popup",{ref:"notSavedPopup",attrs:{type:"message",_i:31}},[n("uni-popup-message",{attrs:{type:"error",message:"\u6709\u6210\u7ee9\u672a\u4fdd\u5b58!",_i:32}})],1)],1)},o=[]},"8bbf":function(e,t){e.exports=Vue},"8cc0":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={onLaunch:function(){e("log","App Launch"," at App.vue:4"),plus.io.resolveLocalFileSystemURL("/storage/emulated/0",(function(t){t.getDirectory("-\u6c47\u6d0b\u4f53\u6d4b",{create:!0},(function(){e("log","\u6210\u529f\u521b\u5efa\u6587\u4ef6\u5939"," at App.vue:10")}),(function(){e("log","\u5931\u8d25\u521b\u5efa\u6587\u4ef6\u5939"," at App.vue:12")}))}),(function(){e("log","\u5931\u8d25\u6253\u5f00\u5e73\u677f\u6839\u76ee\u5f55"," at App.vue:14")}))},onShow:function(){e("log","App Show"," at App.vue:17")},onHide:function(){e("log","App Hide"," at App.vue:20")}};t.default=n}).call(this,n("0de9")["default"])},"8ce0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;var r=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))};t.sleep=r},"8fdf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={TCPSocket:null,receivedStatus:function(){},receivedMsgCallBack:function(){},receivedHexMsgCallBack:function(){},init:function(e,t,n,i){r.TCPSocket=uni.requireNativePlugin("Aimer-TCPPlugin"),r.connect(e,t,n,i)},connect:function(e,t,n,i){r.TCPSocket.connect({channel:e,charsetname:i,ip:t,port:n},(function(t){t.status&&r.receivedStatus(e,t.status),t.receivedMsg&&r.receivedMsgCallBack(e,t.receivedMsg),t.receivedHexMsg&&r.receivedHexMsgCallBack(e,t.receivedHexMsg)}))},send:function(e,t,n){r.TCPSocket.send({channel:e,charsetname:n,message:t})},sendBytes:function(e,t){r.TCPSocket.sendBytes({channel:e,bytesMessage:t})},disconnect:function(e){r.TCPSocket.disconnect({channel:e})}},i=r;t.default=i},"90a5":function(e){e.exports=JSON.parse('{"name":"@cloudbase/js-sdk","version":"1.4.1","description":"cloudbase javascript sdk","main":"dist/index.cjs.js","module":"dist/index.esm.js","miniprogram":"miniprogram_dist","typings":"./index.d.ts","scripts":{"lint":"eslint --fix \\"./src/**/*.ts\\" \\"./database/**/*.ts\\"","build":"rm -rf dist/ && gulp build","build:cdn":"gulp cdn","build:miniapp":"gulp miniapp","build:e2e":"rm -rf dist/ && NODE_ENV=e2e gulp e2e"},"publishConfig":{"access":"public"},"repository":{"type":"git","url":"https://github.com/TencentCloudBase/cloudbase-js-sdk"},"keywords":["tcb","cloudbase","Cloudbase","serverless","Serverless","javascript","JavaScript"],"files":["miniprogram_dist","**/dist/","/index.d.ts","**/package.json"],"components":["app","auth","database","functions","storage"],"author":"","license":"ISC","dependencies":{"@cloudbase/analytics":"^1.0.1-alpha.0","@cloudbase/app":"^1.2.6","@cloudbase/auth":"^1.3.6","@cloudbase/database":"0.9.18-next","@cloudbase/functions":"^1.2.5-alpha.0","@cloudbase/realtime":"^1.1.3","@cloudbase/storage":"^1.2.5-alpha.0","@cloudbase/types":"^1.1.2","@cloudbase/utilities":"^1.2.5-alpha.0"},"devDependencies":{"@babel/core":"^7.9.0","@babel/plugin-proposal-class-properties":"^7.8.3","@babel/plugin-transform-runtime":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@typescript-eslint/eslint-plugin":"^3.8.0","@typescript-eslint/parser":"^3.8.0","awesome-typescript-loader":"^5.2.1","babel-loader":"^8.1.0","eslint":"^7.6.0","eslint-config-alloy":"^3.7.4","gulp":"^4.0.2","gulp-clean":"^0.4.0","gulp-rename":"^2.0.0","gulp-sourcemaps":"^2.6.5","gulp-typescript":"^6.0.0-alpha.1","json-loader":"^0.5.7","merge-stream":"^2.0.0","package-json-cleanup-loader":"^1.0.3","typescript":"^3.8.3","webpack":"4.41.3","webpack-cli":"^3.3.11","webpack-node-externals":"^1.7.2","webpack-stream":"^5.2.1","webpack-visualizer-plugin":"^0.1.11"},"browserslist":["last 2 version","> 1%","not dead","chrome 53"],"gitHead":"ec8b299bf34b54f791ce62712b85fad443a7046a"}')},9152:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=h,s/=256,c-=8);e[n+p-h]|=128*_}},"91d5":function(e,t,n){(function(t){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,o=9007199254740991,s="[object Function]",a="[object GeneratorFunction]",u="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/[\\^$.*+?()[\]{}|]/g,h=/\\(\\)?/g,_=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,m=g||v||Function("return this")();function b(e,t){return null==e?void 0:e[t]}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}var E=Array.prototype,S=Function.prototype,O=Object.prototype,A=m["__core-js_shared__"],T=function(){var e=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),I=S.toString,N=O.hasOwnProperty,R=O.toString,P=RegExp("^"+I.call(N).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=m.Symbol,L=E.splice,D=ue(m,"Map"),B=ue(Object,"create"),M=C?C.prototype:void 0,x=M?M.toString:void 0;function j(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function k(){this.__data__=B?B(null):{}}function U(e){return this.has(e)&&delete this.__data__[e]}function $(e){var t=this.__data__;if(B){var n=t[e];return n===r?void 0:n}return N.call(t,e)?t[e]:void 0}function Y(e){var t=this.__data__;return B?void 0!==t[e]:N.call(t,e)}function F(e,t){var n=this.__data__;return n[e]=B&&void 0===t?r:t,this}function q(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function G(){this.__data__=[]}function W(e){var t=this.__data__,n=ne(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():L.call(t,n,1),!0}function V(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]}function K(e){return ne(this.__data__,e)>-1}function H(e,t){var n=this.__data__,r=ne(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function J(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function z(){this.__data__={hash:new j,map:new(D||q),string:new j}}function Q(e){return ae(this,e)["delete"](e)}function X(e){return ae(this,e).get(e)}function Z(e){return ae(this,e).has(e)}function ee(e,t){return ae(this,e).set(e,t),this}function te(e,t,n){var r=e[t];N.call(e,t)&&ge(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ne(e,t){var n=e.length;while(n--)if(ge(e[n][0],t))return n;return-1}function re(e){if(!be(e)||de(e))return!1;var t=me(e)||w(e)?P:_;return t.test(_e(e))}function ie(e,t,n,r){if(!be(e))return e;t=le(t,e)?[t]:se(t);var i=-1,o=t.length,s=o-1,a=e;while(null!=a&&++i<o){var u=he(t[i]),c=n;if(i!=s){var l=a[u];c=r?r(l,u,a):void 0,void 0===c&&(c=be(l)?l:ce(t[i+1])?[]:{})}te(a,u,c),a=a[u]}return e}function oe(e){if("string"==typeof e)return e;if(Ee(e))return x?x.call(e):"";var t=e+"";return"0"==t&&1/e==-i?"-0":t}function se(e){return ve(e)?e:pe(e)}function ae(e,t){var n=e.__data__;return fe(t)?n["string"==typeof t?"string":"hash"]:n.map}function ue(e,t){var n=b(e,t);return re(n)?n:void 0}function ce(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||y.test(e))&&e>-1&&e%1==0&&e<t}function le(e,t){if(ve(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ee(e))||(l.test(e)||!c.test(e)||null!=t&&e in Object(t))}function fe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function de(e){return!!T&&T in e}j.prototype.clear=k,j.prototype["delete"]=U,j.prototype.get=$,j.prototype.has=Y,j.prototype.set=F,q.prototype.clear=G,q.prototype["delete"]=W,q.prototype.get=V,q.prototype.has=K,q.prototype.set=H,J.prototype.clear=z,J.prototype["delete"]=Q,J.prototype.get=X,J.prototype.has=Z,J.prototype.set=ee;var pe=ye((function(e){e=Se(e);var t=[];return f.test(e)&&t.push(""),e.replace(d,(function(e,n,r,i){t.push(r?i.replace(h,"$1"):n||e)})),t}));function he(e){if("string"==typeof e||Ee(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}function _e(e){if(null!=e){try{return I.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ye(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var r=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s),s};return r.cache=new(ye.Cache||J),r}function ge(e,t){return e===t||e!==e&&t!==t}ye.Cache=J;var ve=Array.isArray;function me(e){var t=be(e)?R.call(e):"";return t==s||t==a}function be(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function we(e){return!!e&&"object"==typeof e}function Ee(e){return"symbol"==typeof e||we(e)&&R.call(e)==u}function Se(e){return null==e?"":oe(e)}function Oe(e,t,n){return null==e?e:ie(e,t,n)}e.exports=Oe}).call(this,n("c8ba"))},9443:function(e,t,n){"use strict";n.r(t);var r=n("2f88"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"950b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUpdateCommand=s,t.isKnownUpdateCommand=a,t.default=t.UpdateCommand=t.UPDATE_COMMANDS_LITERAL=void 0;var r,i=n("5d4c");t.UPDATE_COMMANDS_LITERAL=r,function(e){e["SET"]="set",e["REMOVE"]="remove",e["INC"]="inc",e["MUL"]="mul",e["PUSH"]="push",e["PULL"]="pull",e["PULL_ALL"]="pullAll",e["POP"]="pop",e["SHIFT"]="shift",e["UNSHIFT"]="unshift",e["ADD_TO_SET"]="addToSet",e["BIT"]="bit",e["RENAME"]="rename",e["MAX"]="max",e["MIN"]="min"}(r||(t.UPDATE_COMMANDS_LITERAL=r={}));var o=function(){function e(e,t,n){this._internalType=i.SYMBOL_UPDATE_COMMAND,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=n||i.SYMBOL_UNSET_FIELD_NAME}return e.prototype._setFieldName=function(t){var n=new e(this.operator,this.operands,t);return n},e}();function s(e){return e&&e instanceof o&&e._internalType===i.SYMBOL_UPDATE_COMMAND}function a(e){return s(e)&&e.operator.toUpperCase()in r}t.UpdateCommand=o;var u=o;t.default=u},"96cf":function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"===typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{l=t.regeneratorRuntime=c?e.exports:{},l.wrap=b;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",_={},y={};y[s]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(L([])));v&&v!==r&&i.call(v,s)&&(y=v);var m=O.prototype=E.prototype=Object.create(y);S.prototype=m.constructor=O,O.constructor=S,O[u]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(m),e},l.awrap=function(e){return{__await:e}},A(T.prototype),T.prototype[a]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,r){var i=new T(b(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(m),m[u]="Generator",m[s]=function(){return this},m.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return a.type="throw",a.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),_}}}function b(e,t,n,r){var i=t&&t.prototype instanceof E?t:E,o=Object.create(i.prototype),s=new C(r||[]);return o._invoke=I(e,n,s),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function E(){}function S(){}function O(){}function A(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){function t(n,r,o,s){var a=w(e[n],e,r);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,o,s)}),(function(e){t("throw",e,o,s)})):Promise.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return t("throw",e,o,s)}))}s(a.arg)}var n;function r(e,r){function i(){return new Promise((function(n,i){t(e,r,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=r}function I(e,t,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return D()}n.method=i,n.arg=o;while(1){var s=n.delegate;if(s){var a=N(s,n);if(a){if(a===_)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=w(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===_)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}function N(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,N(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,_;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,_):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function L(e){if(e){var t=e[s];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){while(++r<e.length)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:D}}function D(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},9727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=l,t.deserialize=d;var r=n("5d4c"),i=n("2a13"),o=n("bc0d"),s=n("76d1"),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},u=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e};function l(e){return f(e,[e])}function f(e,t){if(!(0,i.isInternalObject)(e)){if((0,i.isDate)(e))return{$date:+e};if((0,i.isRegExp)(e))return{$regex:e.source,$options:e.flags};if((0,i.isArray)(e))return e.map((function(e){if(t.indexOf(e)>-1)throw new Error("Cannot convert circular structure to JSON");return f(e,c(t,[e]))}));if((0,i.isObject)(e)){var n=a({},e);for(var o in n){if(t.indexOf(n[o])>-1)throw new Error("Cannot convert circular structure to JSON");n[o]=f(n[o],c(t,[n[o]]))}return n}return e}switch(e._internalType){case r.SYMBOL_GEO_POINT:return e.toJSON();case r.SYMBOL_SERVER_DATE:return e.parse();case r.SYMBOL_REGEXP:return e.parse();default:return e.toJSON?e.toJSON():e}}function d(e){var t=a({},e);for(var n in t)switch(n){case"$date":switch((0,i.getType)(t[n])){case"number":return new Date(t[n]);case"object":return new s.ServerDate(t[n])}break;case"type":switch(t.type){case"Point":if((0,i.isArray)(t.coordinates)&&(0,i.isNumber)(t.coordinates[0])&&(0,i.isNumber)(t.coordinates[1]))return new o.Point(t.coordinates[0],t.coordinates[1]);break}break}return e}},"98c1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionReference=void 0;var r=n("d8ff"),i=n("dfa5"),o=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._coll},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if("string"!==typeof e&&"number"!==typeof e)throw new Error("docId\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u6216\u6570\u5b57");return new r.DocumentReference(this._transaction,this._coll,e)},t.prototype.add=function(e){var t;void 0!==e._id&&(t=e._id);var n=new r.DocumentReference(this._transaction,this._coll,t);return n.create(e)},t}(i.Query);t.CollectionReference=s},"98c3":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("a34a")),i=o(n("877b"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=uni.requireNativePlugin("Fvv-UniTTS");f.init((function(){}));var d=uni.createInnerAudioContext();d.src="../../static/falingqiang.mp3";var p={components:{SprintTestList:i.default},data:function(){return{channel:"1",ip:"192.168.4.1",port:"333",groupName:"",groupId:0,systemState:0,testStartAppTime:0,sensorCalibrateArr:null,countOfSensor:null,maxCountOfSensor:8,testList:[{sensorNum:"",printedState:"",personId:"",examResult:""}],linked:!1,hasSaved:!0,resultEditable:!1,firstFlowNum:1,scannerInputCursor:0,runTimeout:null,RUN_TIMEOUT:null,ADJUST_TIME:3400,countOfPerson:0,countOfComplete:0,sendInterval:null,sendDone:!1,foulDetective:!1}},computed:{timeoutResult:function(){return(this.RUN_TIMEOUT/1e3).toFixed(1)},hasFilledPersonId:function(){var e,t=u(this.testList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.personId)return!0}}catch(r){t.e(r)}finally{t.f()}return!1}},onBackPress:function(e){return 0!==this.systemState||(0!==this.systemState||this.hasSaved?void 0:(this.$refs.notSavedPopup.open(),!0))},onUnload:function(){this.$socket.disconnect(this.channel),this.$socket.receivedMsgCallBack=function(){}},onLoad:function(t){var n=this;this.groupName=t.groupName,this.groupId=Number(t.groupId),this.initLaneAndTimeout(),this.initSensorCalibrateArr(),this.createTestList(),this.$socket.init(this.channel,this.ip,this.port),this.$socket.receivedStatus=function(t,r){"0"===r?(e("log","/////\u901a\u9053:"+t+"\u8fde\u63a5\u6210\u529f"," at pages/sprint50/index.vue:256"),n.linked=!0):(e("log","*****\u901a\u9053:"+t+"\u8fde\u63a5\u5931\u8d25"," at pages/sprint50/index.vue:260"),n.linked=!1)},this.$socket.receivedMsgCallBack=function(e,t){var r;if(1===n.systemState&&(r=Date.now()),0!==n.systemState){var i=Number(t.substring(0,1));if(i<=n.countOfSensor){var o=n.testList[i-1],s=Number(t.substring(1));if(1===n.systemState){o.calibrateMcuTime=s,o.calibrateAppTime=r,f.speak({text:"".concat(i)});var a=new Date(r+288e5).toISOString().slice(5,-8);n.sensorCalibrateArr[i-1].currentCalibrateTime=a,n.sendDone=!0}else 2===n.systemState?i?("\u6d4b\u8bd5"===o.printedState&&(o.testEndMcuTime=s,n.calcExamResult(o),o.printedState="\u5b8c\u6210",n.countOfComplete++),n.countOfComplete===n.countOfPerson&&(clearTimeout(n.runTimeout),n.finishTest())):n.foulDetective&&n.openResetPopup():3===n.systemState&&(o.testEndMcuTime=s,n.calcExamResult(o),n.sendDone=!0)}}}},methods:{calcExamResult:function(e){var t=e.testEndMcuTime-(this.testStartAppTime-e.calibrateAppTime+e.calibrateMcuTime)-this.ADJUST_TIME;e.examResult=(Math.round(t/100)/10).toFixed(1)},trimSpace:function(e){return String(e).replace(/\s/g,"")},startScanner:function(){this.scannerInputCursor=0,this.clearTestList()},handleSelectedRowId:function(e,t){var n=this.testList[e-1];"focus"===t?n.personId="":"blur"===t&&(n.personId=this.trimSpace(n.personId))},handleScannerInput:function(e){this.scannerInputCursor<this.countOfSensor&&(this.testList[this.scannerInputCursor].personId=e,this.scannerInputCursor++)},openSettingPopup:function(){this.$refs.settingPopup.open()},confirmSetting:function(e,t,n){this.countOfSensor=t,this.RUN_TIMEOUT=1e3*n,this.createTestList(),uni.setStorage({key:"sprint_sensor_count",data:this.countOfSensor}),uni.setStorage({key:"sprint_timeout",data:this.RUN_TIMEOUT}),e()},sendMsg:function(e){var t=this;return this.sendDone=!1,new Promise((function(n){t.$socket.send(t.channel,e);var r=4;t.sendInterval=setInterval((function(){t.sendDone||0===r?(clearInterval(t.sendInterval),n()):(t.$socket.send(t.channel,e),r--)}),500)}))},openCalibratePopup:function(){this.systemState=1,this.$refs.calibratePopup.open(),f.speak({text:"\u6821\u51c6"})},confirmCalibrate:function(e){var t=this;this.systemState=0,this.sensorCalibrateArr.forEach((function(e,n){e.currentCalibrateTime&&(e.lastCalibrateTime=e.currentCalibrateTime,e.currentCalibrateTime="",e.calibrateMcuTime=t.testList[n].calibrateMcuTime,e.calibrateAppTime=t.testList[n].calibrateAppTime)})),uni.setStorage({key:"sensor_calibrate_arr",data:this.sensorCalibrateArr}),e()},autoCalibrate:function(){var e=this;return a(r.default.mark((function t(){var n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=1;case 1:if(!(n<=e.countOfSensor)){t.next=7;break}return t.next=4,e.sendMsg("".concat(n,"1"));case 4:n++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})))()},insertScoresToDb:function(){var t=this,n=new Date(Date.now()+288e5).toISOString().slice(0,-5);this.testList.forEach((function(r){r.personId&&r.examResult&&plus.sqlite.executeSql({name:"data",sql:"insert into scores('groupId', 'personId', 'score', 'testTime') values(".concat(t.groupId,', "').concat(r.personId,'", "').concat(r.examResult,'", "').concat(n,'")'),success:function(){e("log","\u6210\u529f\u5199\u5165\u4e00\u6761\u6210\u7ee9"," at pages/sprint50/index.vue:470")},fail:function(){e("log","\u5931\u8d25\u5199\u5165\u4e00\u6761\u6210\u7ee9"," at pages/sprint50/index.vue:473")}})}))},saveAndClear:function(){this.hasSaved||(this.insertScoresToDb(),this.hasSaved=!0),this.clearTestList(),this.clearCountOfRunner()},clearTestList:function(){this.testList.forEach((function(e){e.printedState="\u7a7a\u95f2",e.personId="",e.examResult=""}))},createTestList:function(){for(var e=[],t=0;t<this.countOfSensor;t++){var n={sensorNum:t+1,printedState:"\u7a7a\u95f2",personId:"",examResult:"",calibrateMcuTime:this.sensorCalibrateArr[t].calibrateMcuTime,calibrateAppTime:this.sensorCalibrateArr[t].calibrateAppTime,testEndMcuTime:0};e.push(n)}this.testList=e},initSensorCalibrateArr:function(){var e=uni.getStorageSync("sensor_calibrate_arr");if(e)this.sensorCalibrateArr=e;else{for(var t=[],n=1;n<=this.maxCountOfSensor;n++){var r={num:n,lastCalibrateTime:"",currentCalibrateTime:"",calibrateMcuTime:0,calibrateAppTime:0};t.push(r)}this.sensorCalibrateArr=t}},initLaneAndTimeout:function(){var e=uni.getStorageSync("sprint_sensor_count"),t=uni.getStorageSync("sprint_timeout");this.countOfSensor=e||this.maxCountOfSensor,this.RUN_TIMEOUT=t||15e3},fillFlowNum:function(){var e=this;if(this.countOfSensor>1){var t=this.testList[0].personId;if(t){var n=1,r=!1;while(n<this.countOfSensor&&!r)this.testList[n].personId&&(r=!0),n++;r||Number.isInteger(Number(t))&&(this.firstFlowNum=Number(t))}}this.saveAndClear(),this.testList.forEach((function(t){t.personId=e.firstFlowNum,e.firstFlowNum++}))},openResetPopup:function(){this.$refs.resetPopup.open()},confirmReset:function(e){this.reset(),this.clearCountOfRunner(),e()},reset:function(){clearTimeout(this.runTimeout),this.systemState=0,this.hasSaved=!0,this.testList.forEach((function(e){e.printedState="\u7a7a\u95f2",String(e.examResult).startsWith("00")||(e.examResult="")}))},clearCountOfRunner:function(){this.countOfComplete=0,this.countOfPerson=0},finishTest:function(){var e=this;return a(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.systemState=0,e.hasSaved=!1,t.next=4,e.checkAndResend();case 4:e.testList.forEach((function(t){var n=Number(t.examResult);(n<0||n>=e.timeoutResult)&&(t.examResult=-1)})),f.speak({text:"\u7ed3\u675f"});case 6:case"end":return t.stop()}}),t)})))()},checkAndResend:function(){var e=this;return a(r.default.mark((function t(){var n,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.systemState=3,n=0;case 2:if(!(n<e.countOfSensor)){t.next=10;break}if(i=e.testList[n].examResult,!(i<0||i>=e.timeoutResult)){t.next=7;break}return t.next=7,e.sendMsg(n+1);case 7:n++,t.next=2;break;case 10:e.systemState=0;case 11:case"end":return t.stop()}}),t)})))()},startTest:function(){var e=this;this.systemState=2,this.foulDetective=!0,d.play(),this.testStartAppTime=Date.now(),setTimeout((function(){e.foulDetective=!1}),this.ADJUST_TIME),this.runTimeout=setTimeout((function(){2===e.systemState&&(e.testList.forEach((function(t){"\u6d4b\u8bd5"===t.printedState&&(t.examResult=e.timeoutResult,t.printedState="\u5b8c\u6210")})),e.finishTest())}),this.RUN_TIMEOUT+this.ADJUST_TIME),this.testList.forEach((function(t){t.personId&&(e.countOfPerson++,t.examResult?(t.printedState="\u5b8c\u6210",e.countOfComplete++):t.printedState="\u6d4b\u8bd5")}))}}};t.default=p}).call(this,n("0de9")["default"])},"9aee":function(e,t,n){"use strict";n.r(t);var r=n("c9bd"),i=n("9b2b");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"9b2b":function(e,t,n){"use strict";n.r(t);var r=n("fd8f"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"9b4c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UsernameAuthProvider=void 0;var r=n("3019"),i=n("ad40"),o=n("f5a4"),s=n("fce3"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=s.utils.printWarn,p=s.constants.ERRORS,h=s.constants.COMMUNITY_SITE_URL,_=s.helpers.catchErrorsDecorator,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.signIn=function(e,t){return l(this,void 0,void 0,(function(){var n,r,s,a,u,c,l,h,_;return f(this,(function(f){switch(f.label){case 0:if("string"!==typeof e)throw new Error(JSON.stringify({code:p.INVALID_PARAMS,msg:"username must be a string"}));return"string"!==typeof t&&(t="",d(p.INVALID_PARAMS,"password is empty")),n=this._cache.keys.refreshTokenKey,a=(s=this._request).send,u=["auth.signIn"],c={loginType:o.LOGINTYPE.USERNAME,username:e,password:t},[4,this._cache.getStoreAsync(n)];case 1:return[4,a.apply(s,u.concat([(c.refresh_token=f.sent()||"",c)]))];case 2:return r=f.sent(),l=r.refresh_token,h=r.access_token_expire,_=r.access_token,l?[4,this.setRefreshToken(l)]:[3,9];case 3:return f.sent(),_&&h?[4,this.setAccessToken(_,h)]:[3,5];case 4:return f.sent(),[3,7];case 5:return[4,this._request.refreshAccessToken()];case 6:f.sent(),f.label=7;case 7:return[4,this.refreshUserInfo()];case 8:return f.sent(),i.eventBus.fire(i.EVENTS.LOGIN_STATE_CHANGED),i.eventBus.fire(i.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:o.LOGINTYPE.USERNAME,persistence:this._config.persistence}),[2,new i.LoginState({envId:this._config.env,cache:this._cache,request:this._request})];case 9:throw r.code?new Error(JSON.stringify({code:p.OPERATION_FAIL,msg:"login by username failed:["+r.code+"] "+r.message})):new Error(JSON.stringify({code:p.OPERATION_FAIL,msg:"login by username failed"}));case 10:return[2]}}))}))},u([_({title:"\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().signInWithUsernameAndPassword() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55","  3 - \u7528\u6237\u540d\u5bc6\u7801\u662f\u5426\u5339\u914d","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+h]}),c("design:type",Function),c("design:paramtypes",[String,String]),c("design:returntype",Promise)],t.prototype,"signIn",null),t}(r.AuthProvider);t.UsernameAuthProvider=y},"9b7b":function(e,t,n){"use strict";n.r(t);var r=n("2842"),i=n("3647");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,"3e037f46",null,!1,r["a"],s);t["default"]=u.exports},"9c31":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("a34a")),i=u(n("05a0")),o=n("69c5"),s=n("1a24"),a=u(n("a17b"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){c(o,r,i,s,a,"next",e)}function a(e){c(o,r,i,s,a,"throw",e)}s(void 0)}))}}var f=new a.default("0a","05","00"),d=uni.requireNativePlugin("Fvv-UniTTS");d.init((function(){}));var p=uni.createInnerAudioContext();p.src="../../static/gunshot.mp3";var h=230,_=370,y={components:{PeriTestList:i.default},data:function(){return{channel:"1",ip:"192.168.4.1",port:"333",linked:!1,count:8,countOfPeri:8,testList:[],group:null,foul:!1,hasSaved:!0,hasStarted:!1,editable:!1,groupName:"",groupId:0,forceQuit:!1,loopCount:1,repeatCount:1,askForRepeat:!1,firstFlowNum:1,personIds:[],personIdCursor:0,scanPool:"",scannerInterval:""}},computed:{hasFilled:function(){for(var e=0;e<this.testList.length;e++)if(this.testList[e].id)return!0;return!1},getRound:function(){return"".concat(this.loopCount).concat(this.repeatCount)},nextRoundPopupTitle:function(){return"\u8be5\u5c0f\u7ec4\u5171 ".concat(this.personIds.length," \u4eba")}},onUnload:function(){this.$socket.disconnect(this.channel),this.$socket.receivedHexMsgCallBack=function(){},this.forceQuit=!0,this.clearScannerInterval()},onLoad:function(t){var n=this;this.groupName=t.groupName,this.groupId=Number(t.groupId);var r=uni.getStorageSync("sprint_peri_count");r&&(this.count=r),this.createTestList(),this.$socket.init(this.channel,this.ip,this.port),this.$socket.receivedStatus=function(t,r){"0"===r?(e("log","/////\u901a\u9053:"+t+"\u8fde\u63a5\u6210\u529f"," at pages/oldSprint/index.vue:264"),n.linked=!0):(e("log","*****\u901a\u9053:"+t+"\u8fde\u63a5\u5931\u8d25"," at pages/oldSprint/index.vue:268"),n.linked=!1)},this.$socket.receivedHexMsgCallBack=function(e,t){var r=Date.now(),i=new o.HandleHex(t,n.group,r);i.handle();var s=i.ch;if(n.testList[s].status=i.target.getPrintedStatus(),"run"===i.target.status&&"done"===i.target.tense&&(n.group.setMemberScore(s),n.testList[s].score=i.target.score,n.testList[s].round=n.getRound),n.group.checkPrepareOver()){n.group.setGroupRun();var a=1e3*(1.5*Math.random()+1.5);d.speak({text:"\u9884\u5907"}),setTimeout((function(){n.foul||(p.play(),n.group.realStartTime=Date.now())}),a)}else n.group.checkRunOver()&&(n.group.setGroupWait(),d.speak({text:"\u7ed3\u675f"}))}},methods:{scannerAutoInput:function(){var t=this;this.saveAndClear(),this.scanPool="",this.$nextTick((function(){if(!t.scannerInterval){var n=1,r=1,i=0;t.scannerInterval=setInterval((function(){var o=t.scanPool.length;e("log","scanner input focus",o," at pages/oldSprint/index.vue:323"),o>0&&o===n?r++:r=1,r>2&&(i<t.testList.length&&(t.testList[i].id=t.scanPool,t.scanPool=""),i++,i===t.testList.length&&t.clearScannerInterval()),n=o}),300)}}))},clearScannerInterval:function(){e("log","stop scanner"," at pages/oldSprint/index.vue:346"),clearInterval(this.scannerInterval),this.scannerInterval=""},insertScoresToDB:function(){var t=this,n=new Date(Date.now()+288e5).toISOString().slice(0,-5);this.testList.forEach((function(r){r.id&&r.score&&plus.sqlite.executeSql({name:"data",sql:"insert into scores('groupId', 'personId', 'score', 'round', 'testTime') values(".concat(t.groupId,', "').concat(r.id,'", "').concat(r.score,'", "').concat(t.getRound,'", "').concat(n,'")'),success:function(){e("log","\u6210\u529f\u5199\u5165\u4e00\u6761\u6210\u7ee9"," at pages/oldSprint/index.vue:361")},fail:function(){e("log","\u5931\u8d25\u5199\u5165\u4e00\u6761\u6210\u7ee9"," at pages/oldSprint/index.vue:363")}})})),this.hasSaved=!0,this.askForRepeat=!1},fetchGroupPersonId:function(){var t=this;plus.sqlite.selectSql({name:"data",sql:"select distinct personId from scores where groupId = ".concat(this.groupId," order by _id"),success:function(n){e("log","\u6210\u529f\u83b7\u53d6\u5c0f\u7ec4\u4e2a\u4eba\u7f16\u53f7"," at pages/oldSprint/index.vue:377"),t.personIds=n.map((function(e){return e.personId}))},fail:function(){e("log","\u5931\u8d25\u83b7\u53d6\u5c0f\u7ec4\u4e2a\u4eba\u7f16\u53f7"," at pages/oldSprint/index.vue:380")}})},nextLoop:function(){this.fetchGroupPersonId(),this.$refs.nextRoundPopup.open()},confirmNextRound:function(e){this.saveAndClear(),this.loopCount++,this.personIdCursor=0,e()},getCount:function(e){var t=Number(e.target.value);Number.isNaN(t)||(this.count=t<1?1:t>8?8:t)},createTestList:function(){this.countOfPeri=this.count;for(var e=[],t=1;t<=this.countOfPeri;t++){var n={peri:t,id:"",status:"\u7b49\u5f85",score:"",round:""};e.push(n)}this.testList=e},createTestListAndSetStorage:function(){this.createTestList(),uni.setStorage({key:"sprint_peri_count",data:this.countOfPeri})},linkSocket:function(){this.$socket.init(this.channel,this.ip,this.port)},getFirstFlowNum:function(e){var t=Number(e.target.value);Number.isNaN(t)||t>0&&(this.firstFlowNum=t)},fillFlowNum:function(){this.insertScoresToDB();for(var e=0;e<this.countOfPeri;e++)this.testList[e].id=this.firstFlowNum++,this.clearScore(e);this.repeatCount=1},fillExistingId:function(){this.insertScoresToDB();for(var e=0;e<this.countOfPeri;e++)this.personIdCursor<this.personIds.length?this.testList[e].id=this.personIds[this.personIdCursor++]:this.testList[e].id="",this.clearScore(e);this.repeatCount=1},saveAndClear:function(){this.insertScoresToDB();for(var e=0;e<this.countOfPeri;e++)this.testList[e].id="",this.clearScore(e);this.repeatCount=1},prepareRepeatTest:function(){this.insertScoresToDB();for(var e=0;e<this.countOfPeri;e++)this.clearScore(e);this.repeatCount++},reset:function(){if(this.group){this.foul=!0,this.group.setGroupWait();for(var e=0;e<this.countOfPeri;e++)this.clearScore(e);this.hasSaved=!0,d.speak({text:"\u72af\u89c4"})}},clearScore:function(e){this.testList[e].score="",this.testList[e].round="",this.testList[e].status="\u7b49\u5f85"},start:function(){var e=this;return l(r.default.mark((function t(){var n,i,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.group=null,e.hasSaved=!1,e.hasStarted=!0,e.group=new o.Group(e.testList),e.group.setGroupPrepare(),e.foul=!1,n=0;case 7:if("wait"===e.group.groupStatus||e.forceQuit){t.next=22;break}if(i=e.group.members[n++],"doing"!==i.tense){t.next=19;break}if(a=f.createInstruction("0".concat(i.ch),"f1"),e.$socket.sendBytes(e.channel,JSON.stringify(a)),"prepare"!==e.group.groupStatus){t.next=17;break}return t.next=15,(0,s.waitTime)(h);case 15:t.next=19;break;case 17:return t.next=19,(0,s.waitTime)(_);case 19:n===e.countOfPeri&&(n=0),t.next=7;break;case 22:e.hasStarted=!1,e.foul||(e.askForRepeat=!0);case 24:case"end":return t.stop()}}),t)})))()}}};t.default=y}).call(this,n("0de9")["default"])},"9c51":function(e,t,n){"use strict";n.r(t);var r=n("41ac"),i=n("324e");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},"9c77":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base=function(){return{extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){t=t;var n=987654321,r=4294967295;return function(){n=36969*(65535&n)+(n>>16)&r,t=18e3*(65535&t)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,i+=.5,i*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=4*o,u=i/a;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var c=u*o,l=e.min(4*c,i);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(r,f);var d=r.splice(0,c);n.sigBytes-=l}return new s.init(d,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e}))},"9cd4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new Map([["oldSprint",{nameZh:"\u800150\u7c73",unit:"\u79d2",code:"0",prefer:"min"}],["sprint50",{nameZh:"50\u7c73\u8dd1",unit:"\u79d2",code:"1",prefer:"min"}]]),i=r;t.default=i},"9d09":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWSCloseError=t.CLOSE_EVENT_CODE=t.CLOSE_EVENT_CODE_INFO=void 0;var r,i=n("8897"),o={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}};t.CLOSE_EVENT_CODE_INFO=o,t.CLOSE_EVENT_CODE=r,function(e){e[e["NormalClosure"]=1e3]="NormalClosure",e[e["GoingAway"]=1001]="GoingAway",e[e["ProtocolError"]=1002]="ProtocolError",e[e["UnsupportedData"]=1003]="UnsupportedData",e[e["NoStatusReceived"]=1005]="NoStatusReceived",e[e["AbnormalClosure"]=1006]="AbnormalClosure",e[e["InvalidFramePayloadData"]=1007]="InvalidFramePayloadData",e[e["PolicyViolation"]=1008]="PolicyViolation",e[e["MessageTooBig"]=1009]="MessageTooBig",e[e["MissingExtension"]=1010]="MissingExtension",e[e["InternalError"]=1011]="InternalError",e[e["ServiceRestart"]=1012]="ServiceRestart",e[e["TryAgainLater"]=1013]="TryAgainLater",e[e["BadGateway"]=1014]="BadGateway",e[e["TLSHandshake"]=1015]="TLSHandshake",e[e["ReconnectWebSocket"]=3e3]="ReconnectWebSocket",e[e["NoRealtimeListeners"]=3001]="NoRealtimeListeners",e[e["HeartbeatPingError"]=3002]="HeartbeatPingError",e[e["HeartbeatPongTimeoutError"]=3003]="HeartbeatPongTimeoutError",e[e["NoAuthentication"]=3050]="NoAuthentication"}(r||(t.CLOSE_EVENT_CODE=r={}));var s=function(e,t){var n=o[e],r=n?n.name+", code "+e+", reason "+(t||n.description):"code "+e;return new i.CloudSDKError({errCode:i.ERR_CODE.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:r})};t.getWSCloseError=s},"9e09":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("9aee")),i=o(n("eb19"));function o(e){return e&&e.__esModule?e:{default:e}}var s={name:"UniPopup",components:{uniTransition:r.default},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},provide:function(){return{popup:this}},mixins:[i.default],watch:{type:{handler:function(e){this[this.config[e]]()},immediate:!0},maskClick:function(e){this.mkclick=e}},data:function(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:"top"}},created:function(){this.mkclick=this.maskClick,this.animation?this.duration=300:this.duration=0},methods:{clear:function(e){e.stopPropagation()},open:function(){var e=this;this.showPopup=!0,this.$nextTick((function(){new Promise((function(t){clearTimeout(e.timer),e.timer=setTimeout((function(){e.showTrans=!0,e.$nextTick((function(){t()}))}),50)})).then((function(t){clearTimeout(e.msgtimer),e.msgtimer=setTimeout((function(){e.customOpen&&e.customOpen()}),100),e.$emit("change",{show:!0,type:e.type})}))}))},close:function(e){var t=this;this.showTrans=!1,this.$nextTick((function(){t.$emit("change",{show:!1,type:t.type}),clearTimeout(t.timer),t.customOpen&&t.customClose(),t.timer=setTimeout((function(){t.showPopup=!1}),300)}))},onTap:function(){this.mkclick&&this.close()},top:function(){this.popupstyle="top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0}},bottom:function(){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0}},center:function(){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"}}}};t.default=s},a144:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("9cd4"));function i(e){return e&&e.__esModule?e:{default:e}}var o={methods:{navToUploadFiles:function(){uni.navigateTo({url:"../uploadFiles/index"})},navToUploadFilesViaCloud:function(){uni.navigateTo({url:"../uploadFilesViaCloud/index"})},navToSprint100:function(){uni.navigateTo({url:"../newSprint/index"})},navToSprint200:function(){uni.navigateTo({url:"../newSprint/index"})},initDirectoryNavigateTo:function(t){plus.io.resolveLocalFileSystemURL("/storage/emulated/0/-\u6c47\u6d0b\u4f53\u6d4b",(function(n){n.getDirectory(r.default.get(t).nameZh,{create:!0},(function(n){n.getDirectory("\u5bfc\u51fa",{create:!0},(function(){e("log","\u6210\u529f\u65b0\u5efa\u5bfc\u51fa\u6587\u4ef6\u5939"," at pages/index/index.vue:107")}),(function(){e("log","\u5931\u8d25\u65b0\u5efa\u5bfc\u51fa\u6587\u4ef6\u5939"," at pages/index/index.vue:109")})),uni.navigateTo({url:"../testGroupSetting/index?fitnessItemName=".concat(t)})}),(function(){e("log","\u5931\u8d25\u65b0\u5efa\u6d4b\u8bd5\u9879\u76ee\u6587\u4ef6\u5939"," at pages/index/index.vue:115")}))}),(function(){e("log","\u5931\u8d25\u6253\u5f00\u5e94\u7528\u6587\u4ef6\u5939"," at pages/index/index.vue:116")}))},navToOldSprint:function(){this.initDirectoryNavigateTo("oldSprint")},navToSprint50:function(){this.initDirectoryNavigateTo("sprint50")}}};t.default=o}).call(this,n("0de9")["default"])},a17b:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(t,n,i){r(this,e),this.ch=t,this.prj=n,this.mst=i}return o(e,[{key:"createInstruction",value:function(e,t){var n=parseInt(this.ch,16)^parseInt(this.prj,16)^parseInt(this.mst,16)^parseInt(e,16)^parseInt(t,16),r=[];r.push(this.ch,this.prj,this.mst,e,t);for(var i=0;i<26;i++)r.push("00");return r.push(n.toString(16)),r}}]),e}();t.default=s},a263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RealtimeListener=void 0;var r=function(){function e(e){this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return e.virtualClient}})}return e}();t.RealtimeListener=r},a34a:function(e,t,n){e.exports=n("bbdd")},a60a:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CollectionReference",{enumerable:!0,get:function(){return i.CollectionReference}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return d.Query}}),Object.defineProperty(t,"DocumentReference",{enumerable:!0,get:function(){return p.DocumentReference}}),t.Db=void 0;var r=_(n("bc0d")),i=n("80d0"),o=n("2344"),s=n("76d1"),a=n("246a"),u=n("cb9b"),c=n("86db"),l=n("7e12"),f=n("950b"),d=n("e8bb"),p=n("fcfe");function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function _(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var y=function(){function e(e){this.config=e,this.Geo=r,this.serverDate=s.ServerDateConstructor,this.command=o.Command,this.RegExp=a.RegExpConstructor,this.startTransaction=u.startTransaction,this.runTransaction=u.runTransaction,this.logicCommand=c.LogicCommand,this.updateCommand=f.UpdateCommand,this.queryCommand=l.QueryCommand}return e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new i.CollectionReference(this,e)},e.prototype.createCollection=function(t){var n=new e.reqClass(this.config),r={collectionName:t};return n.send("database.addCollection",r)},e}();t.Db=y},a72c:function(e,t,n){"use strict";n.r(t);var r=n("8981"),i=n("0174");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],s);t["default"]=u.exports},a974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validate=void 0;var r=n("58da"),i=n("cc9e"),o=function(){function e(){}return e.isGeopoint=function(e,t){if(i.Util.whichType(t)!==r.FieldType.Number)throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0},e.isInteger=function(e,t){if(!Number.isInteger(t))throw new Error(e+r.ErrorCode.IntergerError);return!0},e.isFieldOrder=function(e){if(-1===r.OrderDirectionList.indexOf(e))throw new Error(r.ErrorCode.DirectionError);return!0},e.isFieldPath=function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0},e.isOperator=function(e){if(-1===r.WhereFilterOpList.indexOf(e))throw new Error(r.ErrorCode.OpStrError);return!0},e.isCollName=function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(r.ErrorCode.CollNameError);return!0},e.isDocID=function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(r.ErrorCode.DocIDError);return!0},e}();t.Validate=o},ad40:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.registerAuth=P,t.registerProvider=C,Object.defineProperty(t,"AuthProvider",{enumerable:!0,get:function(){return u.AuthProvider}}),t.eventBus=t.EVENTS=t.Auth=t.LoginState=void 0;var r=n("fce3"),i=n("2107"),o=n("e37d"),s=n("3fd2"),a=n("f5a4"),u=n("3019"),c=n("4594"),l=n("9b4c"),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},d=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},y=r.events.CloudbaseEventEmitter,g=r.adapters.RUNTIME,v=r.utils.printWarn,m=r.utils.throwError,b=r.constants.ERRORS,w=r.constants.COMMUNITY_SITE_URL,E=r.helpers.catchErrorsDecorator,S="auth",O=new y;t.eventBus=O;var A=function(){function e(e){var t=e.cache,n=e.request;this._cache=t,this._request=n,this._setUserInfo()}return e.prototype.checkLocalInfo=function(){return h(this,void 0,void 0,(function(){return _(this,(function(e){return this.uid=this._getLocalUserInfo("uid"),this.loginType=this._getLocalUserInfo("loginType"),this.openid=this._getLocalUserInfo("wxOpenId"),this.wxOpenId=this._getLocalUserInfo("wxOpenId"),this.wxPublicId=this._getLocalUserInfo("wxPublicId"),this.unionId=this._getLocalUserInfo("wxUnionId"),this.qqMiniOpenId=this._getLocalUserInfo("qqMiniOpenId"),this.customUserId=this._getLocalUserInfo("customUserId"),this.nickName=this._getLocalUserInfo("nickName"),this.gender=this._getLocalUserInfo("gender"),this.avatarUrl=this._getLocalUserInfo("avatarUrl"),this.email=this._getLocalUserInfo("email"),this.hasPassword=Boolean(this._getLocalUserInfo("hasPassword")),this.location={country:this._getLocalUserInfo("country"),province:this._getLocalUserInfo("province"),city:this._getLocalUserInfo("city")},[2]}))}))},e.prototype.checkLocalInfoAsync=function(){return h(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c,l,f,d,p,h,y;return _(this,(function(_){switch(_.label){case 0:return e=this,[4,this._getLocalUserInfoAsync("uid")];case 1:return e.uid=_.sent(),t=this,[4,this._getLocalUserInfoAsync("loginType")];case 2:return t.loginType=_.sent(),n=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 3:return n.openid=_.sent(),r=this,[4,this._getLocalUserInfoAsync("wxOpenId")];case 4:return r.wxOpenId=_.sent(),i=this,[4,this._getLocalUserInfoAsync("wxPublicId")];case 5:return i.wxPublicId=_.sent(),o=this,[4,this._getLocalUserInfoAsync("wxUnionId")];case 6:return o.unionId=_.sent(),s=this,[4,this._getLocalUserInfoAsync("qqMiniOpenId")];case 7:return s.qqMiniOpenId=_.sent(),a=this,[4,this._getLocalUserInfoAsync("customUserId")];case 8:return a.customUserId=_.sent(),u=this,[4,this._getLocalUserInfoAsync("nickName")];case 9:return u.nickName=_.sent(),c=this,[4,this._getLocalUserInfoAsync("gender")];case 10:return c.gender=_.sent(),l=this,[4,this._getLocalUserInfoAsync("avatarUrl")];case 11:return l.avatarUrl=_.sent(),f=this,[4,this._getLocalUserInfoAsync("email")];case 12:return f.email=_.sent(),d=this,p=Boolean,[4,this._getLocalUserInfoAsync("hasPassword")];case 13:return d.hasPassword=p.apply(void 0,[_.sent()]),h=this,y={},[4,this._getLocalUserInfoAsync("country")];case 14:return y.country=_.sent(),[4,this._getLocalUserInfoAsync("province")];case 15:return y.province=_.sent(),[4,this._getLocalUserInfoAsync("city")];case 16:return h.location=(y.city=_.sent(),y),[2]}}))}))},e.prototype.linkWithTicket=function(e){if("string"!==typeof e)throw new Error("ticket must be string");return this._request.send("auth.linkWithTicket",{ticket:e})},e.prototype.linkWithRedirect=function(e){e.signInWithRedirect()},e.prototype.getLinkedUidList=function(){return h(this,void 0,void 0,(function(){var e,t,n,r,i,o;return _(this,(function(s){switch(s.label){case 0:return[4,this._request.send("auth.getLinkedUidList",{})];case 1:for(e=s.sent().data,t=!1,n=e.users,r=0,i=n;r<i.length;r++)if(o=i[r],o.wxOpenId&&o.wxPublicId){t=!0;break}return[2,{users:n,hasPrimaryUid:t}]}}))}))},e.prototype.setPrimaryUid=function(e){return this._request.send("auth.setPrimaryUid",{uid:e})},e.prototype.unlink=function(e){return this._request.send("auth.unlink",{platform:e})},e.prototype.update=function(e){return h(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return _(this,(function(u){switch(u.label){case 0:return t=e.nickName,n=e.gender,r=e.avatarUrl,i=e.province,o=e.country,s=e.city,[4,this._request.send("auth.updateUserInfo",{nickName:t,gender:n,avatarUrl:r,province:i,country:o,city:s})];case 1:return a=u.sent().data,this._setLocalUserInfo(a),[2]}}))}))},e.prototype.updatePassword=function(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})},e.prototype.updateEmail=function(e){return this._request.send("auth.updateEmail",{newEmail:e})},e.prototype.updateUsername=function(e){return"string"!==typeof e&&m(b.INVALID_PARAMS,"username must be a string"),this._request.send("auth.updateUsername",{username:e})},e.prototype.refresh=function(){return h(this,void 0,void 0,(function(){var e,t;return _(this,(function(n){switch(n.label){case 0:return e="auth.getUserInfo",[4,this._request.send(e,{})];case 1:return t=n.sent().data,this._setLocalUserInfo(t),[2,t]}}))}))},e.prototype._getLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);return n[e]},e.prototype._getLocalUserInfoAsync=function(e){return h(this,void 0,void 0,(function(){var t,n;return _(this,(function(r){switch(r.label){case 0:return t=this._cache.keys.userInfoKey,[4,this._cache.getStoreAsync(t)];case 1:return n=r.sent(),[2,n[e]]}}))}))},e.prototype._setUserInfo=function(){var e=this,t=this._cache.keys.userInfoKey,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((function(t){e[t]=n[t]})),this.location={country:n["country"],province:n["province"],city:n["city"]}},e.prototype._setLocalUserInfo=function(e){var t=this._cache.keys.userInfoKey;this._cache.setStore(t,e),this._setUserInfo()},d([E({title:"\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u767b\u5f55\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.linkWithTicket() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u6b64\u8d26\u6237\u662f\u5426\u5df2\u7ecf\u7ed1\u5b9a\u81ea\u5b9a\u4e49\u767b\u5f55","  3 - ticket \u53c2\u6570\u662f\u5426\u5f52\u5c5e\u5f53\u524d\u73af\u5883","  4 - \u521b\u5efa ticket \u7684\u81ea\u5b9a\u4e49\u767b\u5f55\u79c1\u94a5\u662f\u5426\u8fc7\u671f","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],e.prototype,"linkWithTicket",null),d([E({title:"\u7ed1\u5b9a\u7b2c\u4e09\u65b9\u767b\u5f55\u65b9\u5f0f\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.linkWithRedirect() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u6b64\u8d26\u6237\u662f\u5426\u5df2\u7ecf\u7ed1\u5b9a\u6b64\u7b2c\u4e09\u65b9","  3 - \u6b64\u7b2c\u4e09\u65b9\u662f\u5426\u5df2\u7ecf\u6388\u6743","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",void 0)],e.prototype,"linkWithRedirect",null),d([E({title:"\u83b7\u53d6\u8d26\u6237\u5217\u8868\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.getLinkedUidList() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],e.prototype,"getLinkedUidList",null),d([E({title:"\u8bbe\u7f6e\u5fae\u4fe1\u4e3b\u8d26\u53f7\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.setPrimaryUid() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",void 0)],e.prototype,"setPrimaryUid",null),d([E({title:"\u63a5\u89e6\u7ed1\u5b9a\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.unlink() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u8d26\u6237\u662f\u5426\u5df2\u7ecf\u4e0e\u6b64\u767b\u5f55\u65b9\u5f0f\u89e3\u7ed1","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",void 0)],e.prototype,"unlink",null),d([E({title:"\u66f4\u65b0\u7528\u6237\u4fe1\u606f\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.update() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u7528\u6237\u4fe1\u606f\u4e2d\u662f\u5426\u5305\u542b\u975e\u6cd5\u503c","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[Object]),p("design:returntype",Promise)],e.prototype,"update",null),d([E({title:"\u66f4\u65b0\u5bc6\u7801\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.updatePassword() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  3 - \u65b0\u5bc6\u7801\u4e2d\u662f\u5426\u5305\u542b\u975e\u6cd5\u5b57\u7b26","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[String,String]),p("design:returntype",void 0)],e.prototype,"updatePassword",null),d([E({title:"\u66f4\u65b0\u90ae\u7bb1\u5730\u5740\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.updateEmail() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u90ae\u7bb1\u5bc6\u7801\u767b\u5f55","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",void 0)],e.prototype,"updateEmail",null),d([E({title:"\u66f4\u65b0\u7528\u6237\u540d\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.updateUsername() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u901a\u4e86\u7528\u6237\u540d\u5bc6\u7801\u767b\u5f55","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",void 0)],e.prototype,"updateUsername",null),d([E({title:"\u5237\u65b0\u672c\u5730\u7528\u6237\u4fe1\u606f\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 User.refresh() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],e.prototype,"refresh",null),e}(),T=function(){function e(e){var t=e.envId,n=e.cache,r=e.request;t||m(b.INVALID_PARAMS,"envId is not defined"),this._cache=n,this.user=new A({cache:n,request:r})}return e.prototype.checkLocalState=function(){return h(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return _(this,(function(a){return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,i=this._cache.getStore(t),o=this._cache.getStore(n),s=this._cache.getStore(r),this.credential={refreshToken:i,accessToken:o,accessTokenExpire:s},this._loginType=this._cache.getStore(this._cache.keys.loginTypeKey),this.user.checkLocalInfo(),[2]}))}))},e.prototype.checkLocalStateAsync=function(){return h(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a;return _(this,(function(u){switch(u.label){case 0:return e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=e.accessTokenExpireKey,[4,this._cache.getStoreAsync(t)];case 1:return i=u.sent(),[4,this._cache.getStoreAsync(n)];case 2:return o=u.sent(),[4,this._cache.getStoreAsync(r)];case 3:return s=u.sent(),this.credential={refreshToken:i,accessToken:o,accessTokenExpire:s},a=this,[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 4:return a._loginType=u.sent(),[4,this.user.checkLocalInfoAsync()];case 5:return u.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"isAnonymousAuth",{get:function(){return this.loginType===a.LOGINTYPE.ANONYMOUS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomAuth",{get:function(){return this.loginType===a.LOGINTYPE.CUSTOM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWeixinAuth",{get:function(){return this.loginType===a.LOGINTYPE.WECHAT||this.loginType===a.LOGINTYPE.WECHAT_OPEN||this.loginType===a.LOGINTYPE.WECHAT_PUBLIC},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsernameAuth",{get:function(){return this.loginType===a.LOGINTYPE.USERNAME},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._loginType},enumerable:!1,configurable:!0}),e}();t.LoginState=T;var I=function(){function e(e){this._config=e,this._cache=e.cache,this._request=e.request,this._runtime=e.runtime||g.WEB,O.on(N.LOGIN_TYPE_CHANGED,this._onLoginTypeChanged.bind(this))}return Object.defineProperty(e.prototype,"currentUser",{get:function(){if("async"!==this._cache.mode){var e=this.hasLoginState();return e&&e.user||null}v(b.INVALID_OPERATION,"current platform's storage is asynchronous, please use getCurrenUser insteed")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loginType",{get:function(){return this._cache.getStore(this._cache.keys.loginTypeKey)},enumerable:!1,configurable:!0}),e.prototype.getCurrenUser=function(){return h(this,void 0,void 0,(function(){var e;return _(this,(function(t){switch(t.label){case 0:return[4,this.getLoginState()];case 1:return e=t.sent(),e?[4,e.user.checkLocalInfoAsync()]:[3,3];case 2:return t.sent(),[2,e.user||null];case 3:return[2,null]}}))}))},e.prototype.getLoginType=function(){return h(this,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return[4,this._cache.getStoreAsync(this._cache.keys.loginTypeKey)];case 1:return[2,e.sent()]}}))}))},e.prototype.getAccessToken=function(){return h(this,void 0,void 0,(function(){var e;return _(this,(function(t){switch(t.label){case 0:return e={},[4,this._request.getAccessToken()];case 1:return[2,(e.accessToken=t.sent().accessToken,e.env=this._config.env,e)]}}))}))},e.prototype.weixinAuthProvider=function(e){var t=e.appid,n=e.scope,r=e.state;return this._weixinAuthProvider||(this._weixinAuthProvider=new i.WeixinAuthProvider(f(f({},this._config),{cache:this._cache,request:this._request,runtime:this._runtime}),t,n,r)),this._weixinAuthProvider},e.prototype.anonymousAuthProvider=function(){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new o.AnonymousAuthProvider(f(f({},this._config),{cache:this._cache,request:this._request}))),this._anonymousAuthProvider},e.prototype.customAuthProvider=function(){return this._customAuthProvider||(this._customAuthProvider=new s.CustomAuthProvider(f(f({},this._config),{cache:this._cache,request:this._request}))),this._customAuthProvider},e.prototype.emailAuthProvider=function(){return this._emailAuthProvider||(this._emailAuthProvider=new c.EmailAuthProvider(f(f({},this._config),{cache:this._cache,request:this._request}))),this._emailAuthProvider},e.prototype.usernameAuthProvider=function(){return this._usernameAuthProvider||(this._usernameAuthProvider=new l.UsernameAuthProvider(f(f({},this._config),{cache:this._cache,request:this._request}))),this._usernameAuthProvider},e.prototype.signInWithUsernameAndPassword=function(e,t){return h(this,void 0,void 0,(function(){return _(this,(function(n){return[2,this.usernameAuthProvider().signIn(e,t)]}))}))},e.prototype.isUsernameRegistered=function(e){return h(this,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return"string"!==typeof e&&m(b.INVALID_PARAMS,"username must be a string"),[4,this._request.send("auth.isUsernameRegistered",{username:e})];case 1:return t=n.sent().data,[2,null===t||void 0===t?void 0:t.isRegistered]}}))}))},e.prototype.signInWithEmailAndPassword=function(e,t){return h(this,void 0,void 0,(function(){return _(this,(function(n){return[2,this.emailAuthProvider().signIn(e,t)]}))}))},e.prototype.signUpWithEmailAndPassword=function(e,t){return h(this,void 0,void 0,(function(){return _(this,(function(n){return[2,this.emailAuthProvider().signUp(e,t)]}))}))},e.prototype.sendPasswordResetEmail=function(e){return h(this,void 0,void 0,(function(){return _(this,(function(t){return[2,this.emailAuthProvider().resetPassword(e)]}))}))},e.prototype.signOut=function(){return h(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,u;return _(this,(function(c){switch(c.label){case 0:return[4,this.getLoginType()];case 1:if(e=c.sent(),e===a.LOGINTYPE.ANONYMOUS)throw new Error(JSON.stringify({code:b.INVALID_OPERATION,msg:"anonymous user doesn't support signOut action"}));return t=this._cache.keys,n=t.refreshTokenKey,r=t.accessTokenKey,i=t.accessTokenExpireKey,o="auth.logout",[4,this._cache.getStoreAsync(n)];case 2:return s=c.sent(),s?[4,this._request.send(o,{refresh_token:s})]:[2];case 3:return u=c.sent(),this._cache.removeStoreAsync(n),this._cache.removeStoreAsync(r),this._cache.removeStoreAsync(i),O.fire(N.LOGIN_STATE_CHANGED),O.fire(N.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:a.LOGINTYPE.NULL,persistence:this._config.persistence}),[2,u]}}))}))},e.prototype.onLoginStateChanged=function(e){return h(this,void 0,void 0,(function(){var t,n=this;return _(this,(function(r){switch(r.label){case 0:return O.on(N.LOGIN_STATE_CHANGED,(function(){return h(n,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))})),[4,this.getLoginState()];case 1:return t=r.sent(),e.call(this,t),[2]}}))}))},e.prototype.onLoginStateExpired=function(e){O.on(N.LOGIN_STATE_EXPIRED,e.bind(this))},e.prototype.onAccessTokenRefreshed=function(e){O.on(N.ACCESS_TOKEN_REFRESHD,e.bind(this))},e.prototype.onAnonymousConverted=function(e){O.on(N.ANONYMOUS_CONVERTED,e.bind(this))},e.prototype.onLoginTypeChanged=function(e){var t=this;O.on(N.LOGIN_TYPE_CHANGED,(function(){return h(t,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return[4,this.getLoginState()];case 1:return t=n.sent(),e.call(this,t),[2]}}))}))}))},e.prototype.hasLoginState=function(){if("async"!==this._cache.mode){var e=this._cache.keys.refreshTokenKey,t=this._cache.getStore(e);if(t){var n=new T({envId:this._config.env,cache:this._cache,request:this._request});return n.checkLocalState(),n}return null}v(b.INVALID_OPERATION,"current platform's storage is asynchronous, please use getLoginState insteed")},e.prototype.getLoginState=function(){return h(this,void 0,void 0,(function(){var e,t,n;return _(this,(function(r){switch(r.label){case 0:return e=this._cache.keys.refreshTokenKey,[4,this._cache.getStoreAsync(e)];case 1:return t=r.sent(),t?(n=new T({envId:this._config.env,cache:this._cache,request:this._request}),[4,n.checkLocalStateAsync()]):[3,3];case 2:return r.sent(),[2,n];case 3:return[2,null]}}))}))},e.prototype.shouldRefreshAccessToken=function(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)},e.prototype.getUserInfo=function(){return h(this,void 0,void 0,(function(){var e,t;return _(this,(function(n){switch(n.label){case 0:return e="auth.getUserInfo",[4,this._request.send(e,{})];case 1:return t=n.sent(),t.code?[2,t]:[2,f(f({},t.data),{requestId:t.seqId})]}}))}))},e.prototype.getAuthHeader=function(){var e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,r=this._cache.getStore(t),i=this._cache.getStore(n);return{"x-cloudbase-credentials":i+"/@@/"+r}},e.prototype.getAuthHeaderAsync=function(){return h(this,void 0,void 0,(function(){var e,t,n,r,i;return _(this,(function(o){switch(o.label){case 0:return[4,this._request.refreshAccessToken()];case 1:return o.sent(),e=this._cache.keys,t=e.refreshTokenKey,n=e.accessTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=o.sent(),[4,this._cache.getStoreAsync(n)];case 3:return i=o.sent(),[2,{"x-cloudbase-credentials":i+"/@@/"+r}]}}))}))},e.prototype._onLoginTypeChanged=function(e){return h(this,void 0,void 0,(function(){var t,n,r,i;return _(this,(function(o){switch(o.label){case 0:return t=e.data,n=t.loginType,r=t.persistence,i=t.env,i!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(r)];case 1:return o.sent(),[4,this._cache.setStoreAsync(this._cache.keys.loginTypeKey,n)];case 2:return o.sent(),[2]}}))}))},d([E({title:"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().getCurrenUser() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],e.prototype,"getCurrenUser",null),d([E({title:"\u83b7\u53d6\u7528\u6237\u662f\u5426\u88ab\u5360\u7528\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().isUsernameRegistered() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[String]),p("design:returntype",Promise)],e.prototype,"isUsernameRegistered",null),d([E({title:"\u7528\u6237\u767b\u51fa\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().signOut() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u7528\u6237\u662f\u5426\u4e3a\u533f\u540d\u767b\u5f55\uff08\u533f\u540d\u767b\u5f55\u4e0d\u652f\u6301signOut\uff09","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],e.prototype,"signOut",null),d([E({title:"\u83b7\u53d6\u672c\u5730\u767b\u5f55\u6001\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 auth().getLoginState() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],e.prototype,"getLoginState",null),d([E({title:"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u662f\u5426\u5df2\u767b\u5f55","  2 - \u8c03\u7528 auth().getUserInfo() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+w]}),p("design:type",Function),p("design:paramtypes",[]),p("design:returntype",Promise)],e.prototype,"getUserInfo",null),e}();t.Auth=I;var N={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"};t.EVENTS=N;var R={name:S,namespace:"auth",injectEvents:{bus:O,events:[N.LOGIN_TYPE_CHANGED,N.LOGIN_STATE_EXPIRED,N.LOGIN_STATE_CHANGED,N.ACCESS_TOKEN_REFRESHD,N.ANONYMOUS_CONVERTED]},entity:function(e){if(void 0===e&&(e={region:"",persistence:"session"}),this.authInstance)return v(b.INVALID_OPERATION,"every cloudbase instance should has only one auth object"),this.authInstance;var t=this.platform,n=t.adapter,r=t.runtime,i=e.persistence||n.primaryStorage;i&&i!==this.config.persistence&&this.updateConfig({persistence:i});var o=this.config,s=o.env,a=o.persistence,u=o.debug;return this.authInstance=new I({env:s,region:e.region,persistence:a,debug:u,cache:this.cache,request:this.request,runtime:r}),this.authInstance}};try{cloudbase.registerComponent(R)}catch(L){}function P(t){try{t.registerComponent(R)}catch(L){e("warn",L," at node_modules/@cloudbase/auth/dist/esm/index.js:1054")}}function C(e,t){var n=I.prototype;n[e]=function(n){var r="_"+e;return this[r]||(this[r]=new t(f(f({},n),this._config))),this[r]}}}).call(this,n("0de9")["default"])},b02f:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("text")])},o=[]},b49a:function(e,t,n){(function(t,r){e.exports=r(n("9c77"))})(0,(function(e){return e.enc.Utf8}))},b56d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0;var r={};t.Platform=r},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?y(e,t,n,r):"string"===typeof t?h(e,t,n):g(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,n,r){return f(t),t<=0?u(e,t):void 0!==n?"string"===typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}function p(e,t){if(f(t),e=u(e,t<0?0:0|v(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,n);e=u(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function _(e,t){var n=t.length<0?0:0|v(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function y(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=_(e,t),e}function g(e,t){if(c.isBuffer(t)){var n=0|v(t.length);return e=u(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):_(e,t);if("Buffer"===t.type&&o(t.data))return _(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),c.alloc(+e)}function b(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return L(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:O(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):O(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function O(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function A(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function T(e,t,n,r){return ee(z(t,e.length-n),e,n,r)}function I(e,t,n,r){return ee(Q(t),e,n,r)}function N(e,t,n,r){return I(e,t,n,r)}function R(e,t,n,r){return ee(Z(t),e,n,r)}function P(e,t,n,r){return ee(X(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function L(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:o=e[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(l=u));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return B(r)}t.Buffer=c,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return d(null,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?L(this,0,e):w.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(u[f]!==l[f]){o=u[f],s=l[f];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return I(this,e,t,n);case"latin1":case"binary":return N(this,e,t,n);case"base64":return R(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function B(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=D));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=J(e[o]);return i}function k(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Y(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function q(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(e,t,n,r,o){return o||q(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,o){return o||q(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||U(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return G(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return G(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=c.isBuffer(e)?e:z(new c(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function K(e){if(e=H(e).replace(V,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function J(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function X(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Z(e){return r.toByteArray(K(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b7fc:function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),i="";for(var o in n)""===i?!r&&(t+="?"):i+="&",i+=o+"="+encodeURIComponent(n[o]);return t+=i,/^http(s)?\:\/\//.test(t)?t:""+e+t}Object.defineProperty(t,"__esModule",{value:!0}),t.formatUrl=r},b954:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.registerDatabase=u;var r=n("a60a"),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o="database";function s(e){var t=this.platform,n=t.adapter,o=t.runtime;return r.Db.reqClass=this.request.constructor,r.Db.getAccessToken=this.authInstance?this.authInstance.getAccessToken.bind(this.authInstance):function(){return""},r.Db.runtime=o,this.wsClientClass&&(r.Db.wsClass=n.wsClass,r.Db.wsClientClass=this.wsClientClass),r.Db.ws||(r.Db.ws=null),new r.Db(i(i({},this.config),e))}var a={name:o,entity:{database:s}};try{cloudbase.registerComponent(a)}catch(c){}function u(t){try{t.registerComponent(a)}catch(c){e("warn",c," at node_modules/@cloudbase/js-sdk/database/dist/index.esm.js:45")}}}).call(this,n("0de9")["default"])},bbdd:function(e,t,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n("96cf"),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(s){r.regeneratorRuntime=void 0}},bc0d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ff18");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n("3976");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n("bf67");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var s=n("cf63");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var a=n("d75e");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var u=n("8036");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}))},beba:function(e,t,n){"use strict";n.r(t);var r=n("69fb"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},bf67:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Polygon=void 0;var r=n("5d4c"),i=n("2a13"),o=n("3976"),s=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function e(e){if(!(0,i.isArray)(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof o.LineString))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]");if(!o.LineString.isClosed(e))throw new Error("LineString "+e.points.map((function(e){return e.toReadableString()}))+" is not a closed cycle")})),this.lines=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("Polygon"!==e.type||!(0,i.isArray)(e.coordinates))return!1;try{for(var a=s(e.coordinates),u=a.next();!u.done;u=a.next()){var c=u.value;if(!this.isCloseLineString(c))return!1;try{for(var l=(r=void 0,s(c)),f=l.next();!f.done;f=l.next()){var d=f.value;if(!(0,i.isNumber)(d[0])||!(0,i.isNumber)(d[1]))return!1}}catch(p){r={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},e.isCloseLineString=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_GEO_MULTI_POLYGON},enumerable:!0,configurable:!0}),e}();t.Polygon=a},bf9f:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n("a34a")),i=s(n("3285")),o=s(n("9cd4"));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}var c=uni.requireNativePlugin("XM-XlsOutput"),l={components:{TestGroupList:i.default},data:function(){return{fitnessItemName:"",fitnessItemNameZh:"",fitnessItemCode:"",fitnessItemPrefer:"",groups:[{groupId:"",groupName:"",createTime:"",exportTime:""}],selectedIndex:0,exportToastMsg:""}},computed:{selectedGroupId:function(){return this.groups[this.selectedIndex].groupId},selectedGroupName:function(){return this.groups[this.selectedIndex].groupName},fileName:function(){return"".concat(this.selectedGroupName,"_").concat(this.fitnessItemNameZh)}},onUnload:function(){plus.sqlite.closeDatabase({name:"data",success:function(){e("log","\u6210\u529f\u5173\u95ed\u6570\u636e\u5e93"," at pages/testGroupSetting/index.vue:152")},fail:function(){e("log","\u5931\u8d25\u5173\u95ed\u6570\u636e\u5e93"," at pages/testGroupSetting/index.vue:155")}})},onLoad:function(e){var t=e.fitnessItemName;this.fitnessItemName=t,this.fitnessItemNameZh=o.default.get(t).nameZh,this.fitnessItemCode=o.default.get(t).code,this.fitnessItemPrefer=o.default.get(t).prefer,this.openDbFetchGroups()},onReady:function(){uni.setNavigationBarTitle({title:this.fitnessItemNameZh})},methods:{openDbFetchGroups:function(){var t=this;plus.io.requestFileSystem(plus.io.PRIVATE_DOC,(function(n){n.root.getDirectory("db",{create:!0},(function(n){var r="".concat(n.fullPath,"data.db"),i=plus.sqlite.isOpenDatabase({name:"data",path:r});i?t.fetchGroups():plus.sqlite.openDatabase({name:"data",path:r,success:function(){e("log","\u6210\u529f\u6253\u5f00\u6570\u636e\u5e93"," at pages/testGroupSetting/index.vue:191"),plus.sqlite.executeSql({name:"data",sql:['create table if not exists groups("groupId" INTEGER PRIMARY KEY AUTOINCREMENT, "groupName" CHAR(30), "fitnessItemCode" CHAR(10), "createTime" CHAR(30), "exportTime" CHAR(30))','create table if not exists scores("_id" INTEGER PRIMARY KEY AUTOINCREMENT, "groupId" INTEGER, "personId" CHAR(30), "score" CHAR(10), "round" CHAR(10), "testTime" CHAR(30))'],success:function(){e("log","\u6210\u529f\u521b\u5efa\u8868"," at pages/testGroupSetting/index.vue:200"),plus.sqlite.selectSql({name:"data",sql:"select groupId, groupName, createTime, exportTime from groups where fitnessItemCode = '".concat(t.fitnessItemCode,"'"),success:function(n){if(0===n.length){var r="\u4e34\u65f6\u6d4b\u8bd5",i=t.getNowTime(),o="";plus.sqlite.executeSql({name:"data",sql:"insert into groups('groupName', 'fitnessItemCode', 'createTime', 'exportTime') values(\"".concat(r,'", "').concat(t.fitnessItemCode,'", "').concat(i,'", "').concat(o,'")'),success:function(){e("log","\u6210\u529f\u521d\u59cb\u5316\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:215"),t.fetchGroups()},fail:function(){e("log","\u5931\u8d25\u521d\u59cb\u5316\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:218")}})}else t.groups=n,e("log","\u6210\u529f\u83b7\u53d6\u5df2\u6709\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:224")},fail:function(){e("log","\u5931\u8d25\u67e5\u8be2\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:227")}})},fail:function(){e("log","\u5931\u8d25\u521b\u5efa\u8868"," at pages/testGroupSetting/index.vue:230")}})},fail:function(){e("log","\u5931\u8d25\u6253\u5f00\u6570\u636e\u5e93"," at pages/testGroupSetting/index.vue:233")}})}),(function(){e("log","\u5931\u8d25\u65b0\u5efadb\u6587\u4ef6\u5939"," at pages/testGroupSetting/index.vue:240")}))}),(function(){e("log","\u5931\u8d25\u6253\u5f00\u6587\u4ef6\u7cfb\u7edf"," at pages/testGroupSetting/index.vue:241")}))},exportFinalScores:function(){var t=this;plus.sqlite.selectSql({name:"data",sql:"select personId, ".concat(this.fitnessItemPrefer,"(score) as finalScore, testTime from scores where groupId = ").concat(this.selectedGroupId," group by personId"),success:function(e){if(e.length>0){var n=e.map((function(e){var n=e.personId,r=e.finalScore,i=e.testTime,o={};return o["\u4e2a\u4eba\u7f16\u53f7"]=n,o["".concat(t.fitnessItemNameZh)]=r,o["\u6d4b\u8bd5\u65f6\u95f4"]=i,o})),r=t.dataWriteToFile(n);r?t.showExportToast("success"):t.showExportToast("fail","\u5bfc\u51fa\u5931\u8d25\uff01")}else t.showExportToast("fail","\u5bfc\u51fa\u5931\u8d25\uff1a\u8be5\u5c0f\u7ec4\u8fd8\u6ca1\u6709\u6210\u7ee9\uff01")},fail:function(){e("log","\u5931\u8d25\u83b7\u53d6\u5c0f\u7ec4\u6210\u7ee9"," at pages/testGroupSetting/index.vue:270")}})},dataWriteToFile:function(e){var t="-\u6c47\u6d0b\u4f53\u6d4b/".concat(this.fitnessItemNameZh,"/\u5bfc\u51fa"),n="".concat(this.fitnessItemNameZh),r=[{cellList:Object.keys(e[0]).map((function(e){return{text:e}}))}],i=e.map((function(e){return{cellList:Object.values(e).map((function(e){return{text:e}}))}})),o=r.concat(i),s={directoryName:t,fileName:this.fileName,sheetList:[{sheetName:n,rowList:o}]},a=c.outPutExcel(s);return a.success},showExportToast:function(e,t){"success"===e?(this.updateExportTime(),this.exportToastMsg="\u6210\u529f\u5bfc\u51fa\u5230\uff1a/-\u6c47\u6d0b\u4f53\u6d4b/".concat(this.fitnessItemNameZh,"/\u5bfc\u51fa/").concat(this.fileName,".xls"),this.$refs.exportSuccessPopup.open()):"fail"===e&&(this.exportToastMsg=t,this.$refs.exportFailPopup.open())},updateExportTime:function(){var t=this,n=this.getNowTime();plus.sqlite.executeSql({name:"data",sql:"update groups set exportTime = '".concat(n,"' where groupId = ").concat(this.selectedGroupId),success:function(){e("log","\u6210\u529f\u66f4\u65b0\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:397"),t.fetchGroups()},fail:function(){e("log","\u5931\u8d25\u66f4\u65b0\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:401")}})},fetchGroups:function(){var t=this;return new Promise((function(n,r){plus.sqlite.selectSql({name:"data",sql:"select groupId, groupName, createTime, exportTime from groups where fitnessItemCode = '".concat(t.fitnessItemCode,"'"),success:function(e){t.groups=e,n(t.groups.length)},fail:function(){e("log","\u5931\u8d25\u83b7\u53d6\u7ec4\u540d"," at pages/testGroupSetting/index.vue:415"),r(0)}})}))},selectGroup:function(e){var t=0,n=!0;while(n)this.groups[t].groupId===e.detail.value?n=!1:t++;this.selectedIndex=t},enterTest:function(){uni.navigateTo({url:"../".concat(this.fitnessItemName,"/index?groupName=").concat(this.selectedGroupName,"&groupId=").concat(this.selectedGroupId)})},openDeleteGroupPopup:function(){this.$refs.deleteGroupPopup.open()},openCreateGroupPopup:function(){this.$refs.createGroupPopup.open()},confirmDeleteGroup:function(t){var n=this;plus.sqlite.selectSql({name:"data",sql:"select count(*) as groupCount from groups where fitnessItemCode = '".concat(this.fitnessItemCode,"'"),success:function(t){t[0].groupCount>1&&plus.sqlite.executeSql({name:"data",sql:"delete from groups where groupId = ".concat(n.selectedGroupId),success:function(){e("log","\u6210\u529f\u5220\u9664\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:461"),n.fetchGroups(),n.selectedIndex=0},fail:function(){e("log","\u5931\u8d25\u5220\u9664\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:466")}})},fail:function(){e("log","\u5931\u8d25\u67e5\u8be2\u5c0f\u7ec4\u4e2a\u6570"," at pages/testGroupSetting/index.vue:470")}}),t()},confirmCreateGroup:function(t,n){var i=this,o=n.replace(/\s/g,""),s=o.length;if(s>0&&s<=16){var a=this.getNowTime(),c="";plus.sqlite.executeSql({name:"data",sql:"insert into groups('groupName', 'fitnessItemCode', 'createTime', 'exportTime') values(\"".concat(o,'", "').concat(this.fitnessItemCode,'", "').concat(a,'", "').concat(c,'")'),success:function(){var t=u(r.default.mark((function t(){var n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e("log","\u6210\u529f\u65b0\u5efa\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:486"),t.next=3,i.fetchGroups().then((function(e){return e})).catch((function(e){return e}));case 3:n=t.sent,n&&(i.selectedIndex=n-1);case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),fail:function(){e("log","\u5931\u8d25\u65b0\u5efa\u5c0f\u7ec4"," at pages/testGroupSetting/index.vue:493")}})}t()},getNowTime:function(){return new Date(Date.now()+288e5).toISOString().slice(2,-8)}}};t.default=l}).call(this,n("0de9")["default"])},bffa:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.registerStorage=b;var r=n("fce3"),i=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=r.constants.getSdkName,c=r.constants.ERRORS,l=r.constants.COMMUNITY_SITE_URL,f=r.utils.isArray,d=r.utils.isString,p=r.utils.isPalinObject,h=r.utils.execCallback,_=r.helpers.catchErrorsDecorator,y="storage",g=function(){function e(){}return e.prototype.uploadFile=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,l,f,p,_,g,v,m,b,w,E;return a(this,(function(a){switch(a.label){case 0:if(n=e.cloudPath,r=e.filePath,i=e.onUploadProgress,!d(n)||!r)throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".uploadFile] invalid params"}));return o="storage.getUploadMetadata",s=this.request,[4,s.send(o,{path:n})];case 1:return l=a.sent(),f=l.data,p=f.url,_=f.authorization,g=f.token,v=f.fileId,m=f.cosFileId,b=l.requestId,w={key:n,signature:_,"x-cos-meta-fileid":m,success_action_status:"201","x-cos-security-token":g},[4,s.upload({url:p,data:w,file:r,name:n,onUploadProgress:i})];case 2:return E=a.sent(),201===E.statusCode?[2,h(t,null,{fileID:v,requestId:b})]:[2,h(t,new Error("["+u()+"]["+c.OPERATION_FAIL+"]["+y+"]:"+E.data))]}}))}))},e.prototype.getUploadMetadata=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:if(n=e.cloudPath,!d(n))throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".getUploadMetadata] invalid cloudPath"}));r=this.request,i="storage.getUploadMetadata",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.send(i,{path:n})];case 2:return o=a.sent(),[2,h(t,null,o)];case 3:return s=a.sent(),[2,h(t,s)];case 4:return[2]}}))}))},e.prototype.deleteFile=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,u,l,p;return a(this,(function(a){switch(a.label){case 0:if(n=e.fileList,!n||!f(n)||0===n.length)throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".deleteFile] fileList must not be empty"}));for(r=0,i=n;r<i.length;r++)if(o=i[r],!o||!d(o))throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".deleteFile] fileID must be string"}));return s="storage.batchDeleteFile",u=this.request,[4,u.send(s,{fileid_list:n})];case 1:return l=a.sent(),l.code?[2,h(t,null,l)]:(p={fileList:l.data.delete_list,requestId:l.requestId},[2,h(t,null,p)])}}))}))},e.prototype.getTempFileURL=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,u,l,_;return a(this,(function(a){switch(a.label){case 0:if(n=e.fileList,!n||!f(n)||0===n.length)throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".getTempFileURL] fileList must not be empty"}));for(r=[],i=0,o=n;i<o.length;i++)if(s=o[i],p(s)){if(!s.hasOwnProperty("fileID")||!s.hasOwnProperty("maxAge"))throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".getTempFileURL] file info must include fileID and maxAge"}));r.push({fileid:s.fileID,max_age:s.maxAge})}else{if(!d(s))throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".getTempFileURL] invalid fileList"}));r.push({fileid:s})}return u="storage.batchGetDownloadUrl",l=this.request,[4,l.send(u,{file_list:r})];case 1:return _=a.sent(),_.code?[2,h(t,null,_)]:[2,h(t,null,{fileList:_.data.download_list,requestId:_.requestId})]}}))}))},e.prototype.downloadFile=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,o,s,u;return a(this,(function(a){switch(a.label){case 0:if(n=e.fileID,!d(n))throw new Error(JSON.stringify({code:c.INVALID_PARAMS,msg:"["+y+".getTempFileURL] fileID must be string"}));return[4,this.getTempFileURL.call(this,{fileList:[{fileID:n,maxAge:600}]})];case 1:return r=a.sent(),i=r.fileList[0],"SUCCESS"!==i.code?[2,h(t,i)]:(o=this.request,s=encodeURI(i.download_url),[4,o.download({url:s})]);case 2:return u=a.sent(),[2,h(t,null,u)]}}))}))},i([_({customInfo:{className:"Cloudbase",methodName:"uploadFile"},title:"\u4e0a\u4f20\u6587\u4ef6\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 uploadFile() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u57df\u540d\u662f\u5426\u5728\u5b89\u5168\u57df\u540d\u5217\u8868\u4e2d\uff1ahttps://console.cloud.tencent.com/tcb/env/safety","  3 - \u4e91\u5b58\u50a8\u5b89\u5168\u89c4\u5219\u662f\u5426\u9650\u5236\u4e86\u5f53\u524d\u767b\u5f55\u72b6\u6001\u8bbf\u95ee","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+l]}),o("design:type",Function),o("design:paramtypes",[Object,Function]),o("design:returntype",Promise)],e.prototype,"uploadFile",null),i([_({customInfo:{className:"Cloudbase",methodName:"getUploadMetadata"},title:"\u83b7\u53d6\u4e0a\u4f20\u5143\u4fe1\u606f\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 getUploadMetadata() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u57df\u540d\u662f\u5426\u5728\u5b89\u5168\u57df\u540d\u5217\u8868\u4e2d\uff1ahttps://console.cloud.tencent.com/tcb/env/safety","  3 - \u4e91\u5b58\u50a8\u5b89\u5168\u89c4\u5219\u662f\u5426\u9650\u5236\u4e86\u5f53\u524d\u767b\u5f55\u72b6\u6001\u8bbf\u95ee","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+l]}),o("design:type",Function),o("design:paramtypes",[Object,Function]),o("design:returntype",Promise)],e.prototype,"getUploadMetadata",null),i([_({customInfo:{className:"Cloudbase",methodName:"deleteFile"},title:"\u5220\u9664\u6587\u4ef6\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 deleteFile() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u57df\u540d\u662f\u5426\u5728\u5b89\u5168\u57df\u540d\u5217\u8868\u4e2d\uff1ahttps://console.cloud.tencent.com/tcb/env/safety","  3 - \u4e91\u5b58\u50a8\u5b89\u5168\u89c4\u5219\u662f\u5426\u9650\u5236\u4e86\u5f53\u524d\u767b\u5f55\u72b6\u6001\u8bbf\u95ee","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+l]}),o("design:type",Function),o("design:paramtypes",[Object,Function]),o("design:returntype",Promise)],e.prototype,"deleteFile",null),i([_({customInfo:{className:"Cloudbase",methodName:"getTempFileURL"},title:"\u83b7\u53d6\u6587\u4ef6\u4e0b\u8f7d\u94fe\u63a5",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 getTempFileURL() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u57df\u540d\u662f\u5426\u5728\u5b89\u5168\u57df\u540d\u5217\u8868\u4e2d\uff1ahttps://console.cloud.tencent.com/tcb/env/safety","  3 - \u4e91\u5b58\u50a8\u5b89\u5168\u89c4\u5219\u662f\u5426\u9650\u5236\u4e86\u5f53\u524d\u767b\u5f55\u72b6\u6001\u8bbf\u95ee","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+l]}),o("design:type",Function),o("design:paramtypes",[Object,Function]),o("design:returntype",Promise)],e.prototype,"getTempFileURL",null),i([_({customInfo:{className:"Cloudbase",methodName:"downloadFile"},title:"\u4e0b\u8f7d\u6587\u4ef6\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u8c03\u7528 downloadFile() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","  2 - \u5f53\u524d\u57df\u540d\u662f\u5426\u5728\u5b89\u5168\u57df\u540d\u5217\u8868\u4e2d\uff1ahttps://console.cloud.tencent.com/tcb/env/safety","  3 - \u4e91\u5b58\u50a8\u5b89\u5168\u89c4\u5219\u662f\u5426\u9650\u5236\u4e86\u5f53\u524d\u767b\u5f55\u72b6\u6001\u8bbf\u95ee","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+l]}),o("design:type",Function),o("design:paramtypes",[Object,Function]),o("design:returntype",Promise)],e.prototype,"downloadFile",null),e}(),v=new g,m={name:y,entity:{uploadFile:v.uploadFile,deleteFile:v.deleteFile,getTempFileURL:v.getTempFileURL,downloadFile:v.downloadFile,getUploadMetadata:v.getUploadMetadata}};try{cloudbase.registerComponent(m)}catch(w){}function b(t){try{t.registerComponent(m)}catch(w){e("warn",w," at node_modules/@cloudbase/storage/dist/esm/index.js:386")}}}).call(this,n("0de9")["default"])},c35b:function(e,t,n){(function(t,r,i){e.exports=r(n("9c77"),n("55e2"),n("676d"))})(0,(function(e){return e.HmacSHA256}))},c5ec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=void 0;var r={LOGIN_STATE_CHANGED:"loginStateChanged",LOGIN_STATE_EXPIRED:"loginStateExpire",LOGIN_TYPE_CHANGED:"loginTypeChanged",ANONYMOUS_CONVERTED:"anonymousConverted",ACCESS_TOKEN_REFRESHD:"refreshAccessToken"};t.EVENTS=r},c87c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerComponent=a,t.registerHook=c;var r=n("fce3"),i=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},o=r.constants.ERRORS,s={};function a(e,t){var n=t.name,r=t.namespace,a=t.entity,c=t.injectEvents,l=t.IIFE,f=void 0!==l&&l;if(s[n]||r&&e[r])throw new Error(JSON.stringify({code:o.INVALID_OPERATION,msg:"Duplicate component "+n}));if(f){if(!a||"function"!==typeof a)throw new Error(JSON.stringify({code:o.INVALID_PARAMS,msg:"IIFE component's entity must be a function"}));a.call(e)}if(s[n]=t,r?e.prototype[r]=a:u(e.prototype,a),c){var d=c.bus,p=c.events;if(!d||!p||0===p.length)return;var h=e.prototype.fire||function(){};e.prototype.events||(e.prototype.events={});var _=e.prototype.events||{};_[n]?e.prototype.events[n].events=i(e.prototype.events[n].events,p):e.prototype.events[n]={bus:d,events:p},e.prototype.fire=function(e,t){for(var n in h(e,t),this.events){var r=this.events[n],i=r.bus,o=r.events;if(o.includes(e)){i.fire(e,t);break}}}}}function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&(e[r]=u(e[r],t[r]));return e}function c(e,t){var n=t.entity,r=t.target;if(!e.prototype.hasOwnProperty(r))throw new Error(JSON.stringify({code:o.INVALID_OPERATION,msg:"target:"+r+" is not exist"}));var s=e.prototype[r];if("function"!==typeof s)throw new Error(JSON.stringify({code:o.INVALID_OPERATION,msg:"target:"+r+" is not a function which is the only type supports hook"}));e.prototype[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.call.apply(n,i([this],e)),s.call.apply(s,i([this],e))}}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c9af:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initCache=h,t.getCacheByEnvId=_,t.getLocalCache=y;var r=n("fce3"),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o="access_token",s="access_token_expire",a="refresh_token",u="anonymous_uuid",c="login_type",l="user_info",f=r.cache.CloudbaseCache,d={},p={};function h(e){var t=e.env,n=e.persistence,r=e.platformInfo,h=o+"_"+t,_=s+"_"+t,y=a+"_"+t,g=u+"_"+t,v=c+"_"+t,m=l+"_"+t,b={accessTokenKey:h,accessTokenExpireKey:_,refreshTokenKey:y,anonymousUuidKey:g,loginTypeKey:v,userInfoKey:m};d[t]?d[t].updatePersistence(n):d[t]=new f(i(i({},e),{keys:b,platformInfo:r,alwaysLocalKeys:["anonymousUuidKey"]})),p[t]=p[t]||new f(i(i({},e),{keys:b,platformInfo:r,persistence:"local"}))}function _(e){return d[e]}function y(e){return p[e]}},c9bd:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.isShow)?n("view",{ref:"ani",staticClass:e._$s(0,"sc","uni-transition"),class:e._$s(0,"c",[e.ani.in]),style:e._$s(0,"s","transform:"+e.transform+";"+e.stylesObject),attrs:{_i:0},on:{click:e.change}},[e._t("default",null,{_i:1})],2):e._e()},o=[]},cb9b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startTransaction=d,t.runTransaction=p,t.Transaction=void 0;var r=n("a60a"),i=n("98c1"),o=n("ef66"),s=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u="database.startTransaction",c="database.commitTransaction",l="database.abortTransaction",f=function(){function e(e){this._db=e,this._request=new r.Db.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}return e.prototype.init=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this._request.send(u)];case 1:if(e=t.sent(),e.code)throw e;return this.inited=!0,this._id=e.transactionId,[2]}}))}))},e.prototype.collection=function(e){if(!e)throw new Error("Collection name is required");return new i.CollectionReference(this,e)},e.prototype.getTransactionId=function(){return this._id},e.prototype.getRequestMethod=function(){return this._request},e.prototype.commit=function(){return s(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return e={transactionId:this._id},[4,this._request.send(c,e)];case 1:if(t=n.sent(),t.code)throw t;return this.commited=!0,[2,t]}}))}))},e.prototype.rollback=function(e){return s(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:return t={transactionId:this._id},[4,this._request.send(l,t)];case 1:if(n=r.sent(),n.code)throw n;return this.aborted=!0,this.abortReason=e,[2,n]}}))}))},e}();function d(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=new f(this),[4,e.init()];case 1:return t.sent(),[2,e]}}))}))}function p(e,t){return void 0===t&&(t=3),s(this,void 0,void 0,(function(){var n,r,i,u,c=this;return a(this,(function(l){switch(l.label){case 0:return l.trys.push([0,4,,10]),n=new f(this),[4,n.init()];case 1:return l.sent(),[4,e(n)];case 2:if(r=l.sent(),!0===n.aborted)throw n.abortReason;return[4,n.commit()];case 3:return l.sent(),[2,r];case 4:if(i=l.sent(),!1===n.inited)throw i;return u=function(e){return s(c,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:if(n.aborted||n.commited)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,n.rollback()];case 2:return t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:throw e;case 5:if(!0===n.aborted)throw n.abortReason;throw e}}))}))},t<=0?[4,u(i)]:[3,6];case 5:l.sent(),l.label=6;case 6:return i&&i.code===o.ERRORS.DATABASE_TRANSACTION_CONFLICT.code?[4,p.bind(this)(e,--t)]:[3,8];case 7:return[2,l.sent()];case 8:return[4,u(i)];case 9:return l.sent(),[3,10];case 10:return[2]}}))}))}t.Transaction=f},cc9e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;var r=n("58da"),i=n("bc0d"),o=n("76d1"),s=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s},a=function(){function e(){}return e.formatResDocumentData=function(t){return t.map((function(t){return e.formatField(t)}))},e.formatField=function(t){var n=Object.keys(t),o={};return Array.isArray(t)&&(o=[]),n.forEach((function(n){var a,u=t[n],c=e.whichType(u);switch(c){case r.FieldType.GeoPoint:a=new i.Point(u.coordinates[0],u.coordinates[1]);break;case r.FieldType.GeoLineString:a=new i.LineString(u.coordinates.map((function(e){return new i.Point(e[0],e[1])})));break;case r.FieldType.GeoPolygon:a=new i.Polygon(u.coordinates.map((function(e){return new i.LineString(e.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new i.Point(n,r)})))})));break;case r.FieldType.GeoMultiPoint:a=new i.MultiPoint(u.coordinates.map((function(e){return new i.Point(e[0],e[1])})));break;case r.FieldType.GeoMultiLineString:a=new i.MultiLineString(u.coordinates.map((function(e){return new i.LineString(e.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new i.Point(n,r)})))})));break;case r.FieldType.GeoMultiPolygon:a=new i.MultiPolygon(u.coordinates.map((function(e){return new i.Polygon(e.map((function(e){return new i.LineString(e.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new i.Point(n,r)})))})))})));break;case r.FieldType.Timestamp:a=new Date(1e3*u.$timestamp);break;case r.FieldType.Object:case r.FieldType.Array:a=e.formatField(u);break;case r.FieldType.ServerDate:a=new Date(u.$date);break;default:a=u}Array.isArray(o)?o.push(a):o[n]=a})),o},e.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===r.FieldType.Timestamp)return r.FieldType.BsonDate;if(t===r.FieldType.Object){if(e instanceof i.Point)return r.FieldType.GeoPoint;if(e instanceof Date)return r.FieldType.Timestamp;if(e instanceof o.ServerDate)return r.FieldType.ServerDate;e.$timestamp?t=r.FieldType.Timestamp:e.$date?t=r.FieldType.ServerDate:i.Point.validate(e)?t=r.FieldType.GeoPoint:i.LineString.validate(e)?t=r.FieldType.GeoLineString:i.Polygon.validate(e)?t=r.FieldType.GeoPolygon:i.MultiPoint.validate(e)?t=r.FieldType.GeoMultiPoint:i.MultiLineString.validate(e)?t=r.FieldType.GeoMultiLineString:i.MultiPolygon.validate(e)&&(t=r.FieldType.GeoMultiPolygon)}return t},e.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e}();t.Util=a},cd3f:function(e,t,n){(function(e,n){var r=200,i="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",h="[object Number]",_="[object Object]",y="[object Promise]",g="[object RegExp]",v="[object Set]",m="[object String]",b="[object Symbol]",w="[object WeakMap]",E="[object ArrayBuffer]",S="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",R="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",L="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,B=/\w*$/,M=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,j={};j[s]=j[a]=j[E]=j[S]=j[u]=j[c]=j[O]=j[A]=j[T]=j[I]=j[N]=j[p]=j[h]=j[_]=j[g]=j[v]=j[m]=j[b]=j[R]=j[P]=j[C]=j[L]=!0,j[l]=j[f]=j[w]=!1;var k="object"==typeof e&&e&&e.Object===Object&&e,U="object"==typeof self&&self&&self.Object===Object&&self,$=k||U||Function("return this")(),Y=t&&!t.nodeType&&t,F=Y&&"object"==typeof n&&n&&!n.nodeType&&n,q=F&&F.exports===Y;function G(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function V(e,t){var n=-1,r=e?e.length:0;while(++n<r)if(!1===t(e[n],n,e))break;return e}function K(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}function H(e,t,n,r){var i=-1,o=e?e.length:0;r&&o&&(n=e[++i]);while(++i<o)n=t(n,e[i],i,e);return n}function J(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function z(e,t){return null==e?void 0:e[t]}function Q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function X(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Z(e,t){return function(n){return e(t(n))}}function ee(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var te=Array.prototype,ne=Function.prototype,re=Object.prototype,ie=$["__core-js_shared__"],oe=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),se=ne.toString,ae=re.hasOwnProperty,ue=re.toString,ce=RegExp("^"+se.call(ae).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=q?$.Buffer:void 0,fe=$.Symbol,de=$.Uint8Array,pe=Z(Object.getPrototypeOf,Object),he=Object.create,_e=re.propertyIsEnumerable,ye=te.splice,ge=Object.getOwnPropertySymbols,ve=le?le.isBuffer:void 0,me=Z(Object.keys,Object),be=Tt($,"DataView"),we=Tt($,"Map"),Ee=Tt($,"Promise"),Se=Tt($,"Set"),Oe=Tt($,"WeakMap"),Ae=Tt(Object,"create"),Te=xt(be),Ie=xt(we),Ne=xt(Ee),Re=xt(Se),Pe=xt(Oe),Ce=fe?fe.prototype:void 0,Le=Ce?Ce.valueOf:void 0;function De(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Be(){this.__data__=Ae?Ae(null):{}}function Me(e){return this.has(e)&&delete this.__data__[e]}function xe(e){var t=this.__data__;if(Ae){var n=t[e];return n===i?void 0:n}return ae.call(t,e)?t[e]:void 0}function je(e){var t=this.__data__;return Ae?void 0!==t[e]:ae.call(t,e)}function ke(e,t){var n=this.__data__;return n[e]=Ae&&void 0===t?i:t,this}function Ue(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function $e(){this.__data__=[]}function Ye(e){var t=this.__data__,n=ot(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ye.call(t,n,1),!0}function Fe(e){var t=this.__data__,n=ot(t,e);return n<0?void 0:t[n][1]}function qe(e){return ot(this.__data__,e)>-1}function Ge(e,t){var n=this.__data__,r=ot(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function We(e){var t=-1,n=e?e.length:0;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ve(){this.__data__={hash:new De,map:new(we||Ue),string:new De}}function Ke(e){return At(this,e)["delete"](e)}function He(e){return At(this,e).get(e)}function Je(e){return At(this,e).has(e)}function ze(e,t){return At(this,e).set(e,t),this}function Qe(e){this.__data__=new Ue(e)}function Xe(){this.__data__=new Ue}function Ze(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function nt(e,t){var n=this.__data__;if(n instanceof Ue){var i=n.__data__;if(!we||i.length<r-1)return i.push([e,t]),this;n=this.__data__=new We(i)}return n.set(e,t),this}function rt(e,t){var n=$t(e)||Ut(e)?J(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!ae.call(e,o)||i&&("length"==o||Lt(o,r))||n.push(o);return n}function it(e,t,n){var r=e[t];ae.call(e,t)&&kt(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function ot(e,t){var n=e.length;while(n--)if(kt(e[n][0],t))return n;return-1}function st(e,t){return e&&Et(t,Ht(t),e)}function at(e,t,n,r,i,o,a){var u;if(r&&(u=o?r(e,i,o,a):r(e)),void 0!==u)return u;if(!Vt(e))return e;var c=$t(e);if(c){if(u=Rt(e),!t)return wt(e,u)}else{var l=Nt(e),p=l==f||l==d;if(qt(e))return pt(e,t);if(l==_||l==s||p&&!o){if(Q(e))return o?e:{};if(u=Pt(p?{}:e),!t)return St(e,st(u,e))}else{if(!j[l])return o?e:{};u=Ct(e,l,at,t)}}a||(a=new Qe);var h=a.get(e);if(h)return h;if(a.set(e,u),!c)var y=n?Ot(e):Ht(e);return V(y||e,(function(i,o){y&&(o=i,i=e[o]),it(u,o,at(i,t,n,r,o,e,a))})),u}function ut(e){return Vt(e)?he(e):{}}function ct(e,t,n){var r=t(e);return $t(e)?r:K(r,n(e))}function lt(e){return ue.call(e)}function ft(e){if(!Vt(e)||Bt(e))return!1;var t=Gt(e)||Q(e)?ce:M;return t.test(xt(e))}function dt(e){if(!Mt(e))return me(e);var t=[];for(var n in Object(e))ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function pt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ht(e){var t=new e.constructor(e.byteLength);return new de(t).set(new de(e)),t}function _t(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function yt(e,t,n){var r=t?n(X(e),!0):X(e);return H(r,G,new e.constructor)}function gt(e){var t=new e.constructor(e.source,B.exec(e));return t.lastIndex=e.lastIndex,t}function vt(e,t,n){var r=t?n(ee(e),!0):ee(e);return H(r,W,new e.constructor)}function mt(e){return Le?Object(Le.call(e)):{}}function bt(e,t){var n=t?ht(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function wt(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}function Et(e,t,n,r){n||(n={});var i=-1,o=t.length;while(++i<o){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;it(n,s,void 0===a?e[s]:a)}return n}function St(e,t){return Et(e,It(e),t)}function Ot(e){return ct(e,Ht,It)}function At(e,t){var n=e.__data__;return Dt(t)?n["string"==typeof t?"string":"hash"]:n.map}function Tt(e,t){var n=z(e,t);return ft(n)?n:void 0}De.prototype.clear=Be,De.prototype["delete"]=Me,De.prototype.get=xe,De.prototype.has=je,De.prototype.set=ke,Ue.prototype.clear=$e,Ue.prototype["delete"]=Ye,Ue.prototype.get=Fe,Ue.prototype.has=qe,Ue.prototype.set=Ge,We.prototype.clear=Ve,We.prototype["delete"]=Ke,We.prototype.get=He,We.prototype.has=Je,We.prototype.set=ze,Qe.prototype.clear=Xe,Qe.prototype["delete"]=Ze,Qe.prototype.get=et,Qe.prototype.has=tt,Qe.prototype.set=nt;var It=ge?Z(ge,Object):Jt,Nt=lt;function Rt(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Pt(e){return"function"!=typeof e.constructor||Mt(e)?{}:ut(pe(e))}function Ct(e,t,n,r){var i=e.constructor;switch(t){case E:return ht(e);case u:case c:return new i(+e);case S:return _t(e,r);case O:case A:case T:case I:case N:case R:case P:case C:case L:return bt(e,r);case p:return yt(e,r,n);case h:case m:return new i(e);case g:return gt(e);case v:return vt(e,r,n);case b:return mt(e)}}function Lt(e,t){return t=null==t?o:t,!!t&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Dt(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Bt(e){return!!oe&&oe in e}function Mt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||re;return e===n}function xt(e){if(null!=e){try{return se.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function jt(e){return at(e,!0,!0)}function kt(e,t){return e===t||e!==e&&t!==t}function Ut(e){return Ft(e)&&ae.call(e,"callee")&&(!_e.call(e,"callee")||ue.call(e)==s)}(be&&Nt(new be(new ArrayBuffer(1)))!=S||we&&Nt(new we)!=p||Ee&&Nt(Ee.resolve())!=y||Se&&Nt(new Se)!=v||Oe&&Nt(new Oe)!=w)&&(Nt=function(e){var t=ue.call(e),n=t==_?e.constructor:void 0,r=n?xt(n):void 0;if(r)switch(r){case Te:return S;case Ie:return p;case Ne:return y;case Re:return v;case Pe:return w}return t});var $t=Array.isArray;function Yt(e){return null!=e&&Wt(e.length)&&!Gt(e)}function Ft(e){return Kt(e)&&Yt(e)}var qt=ve||zt;function Gt(e){var t=Vt(e)?ue.call(e):"";return t==f||t==d}function Wt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Vt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Kt(e){return!!e&&"object"==typeof e}function Ht(e){return Yt(e)?rt(e):dt(e)}function Jt(){return[]}function zt(){return!1}n.exports=jt}).call(this,n("c8ba"),n("62e4")(e))},cf63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPoint=void 0;var r=n("5d4c"),i=n("ff18"),o=n("2a13"),s=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function e(e){if(!(0,o.isArray)(e))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e);if(0===e.length)throw new Error('"points" must contain 1 point at least');e.forEach((function(e){if(!(e instanceof i.Point))throw new TypeError('"points" must be of type Point[]. Received type '+typeof e+"[]")})),this.points=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))},t},e.prototype.toJSON=function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}},e.validate=function(e){var t,n;if("MultiPoint"!==e.type||!(0,o.isArray)(e.coordinates))return!1;try{for(var r=s(e.coordinates),i=r.next();!i.done;i=r.next()){var a=i.value;if(!(0,o.isNumber)(a[0])||!(0,o.isNumber)(a[1]))return!1}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_GEO_MULTI_POINT},enumerable:!0,configurable:!0}),e}();t.MultiPoint=a},cfaa:function(e,t,n){"use strict";n.r(t);var r=n("7f91"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},d001:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("a34a"));i(n("3c0c"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,u,"next",e)}function u(e){o(s,r,i,a,u,"throw",e)}a(void 0)}))}}var a={methods:{uploadFilesViaCloud:function(){uni.request({url:"http://hugyoung.club/uploadData",data:[{name:"chendan"}],method:"POST",success:function(t){e("log",t.data," at pages/uploadFilesViaCloud/index.vue:34")},fail:function(t){e("log",t," at pages/uploadFilesViaCloud/index.vue:37")}})},loginTCB:function(){return s(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e("log","tcb"," at pages/uploadFilesViaCloud/index.vue:42");case 1:case"end":return t.stop()}}),t)})))()}}};t.default=a}).call(this,n("0de9")["default"])},d58b:function(e,t,n){"use strict";n.r(t);var r=n("bf9f"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},d749:function(e,t,n){"use strict";(function(e,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WxMpWebSocket=t.wxMpStorage=t.WxRequest=void 0;var o=n("447a"),s=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},u=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function l(){if("undefined"===typeof e)return!1;if("undefined"===typeof r)return!1;if(!e.getSystemInfoSync)return!1;if(!e.getStorageSync)return!1;if(!e.setStorageSync)return!1;if(!e.connectSocket)return!1;if(!e.request)return!1;try{if(!e.getSystemInfoSync())return!1;if("qq"===e.getSystemInfoSync().AppPlatform)return!1}catch(t){return!1}return!0}function f(){return"undefined"===typeof App&&"undefined"===typeof getApp&&!e.onAppHide&&!e.offAppHide&&!e.onAppShow&&!e.offAppShow}var d=function(t){function n(e){void 0===e&&(e={});var n=t.call(this)||this,r=e.timeout,i=e.timeoutMsg,o=e.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=i||"\u8bf7\u6c42\u8d85\u65f6",n._restrictedMethods=o||["get","post","upload","download"],n}return s(n,t),n.prototype.post=function(t){var n=this;return new Promise((function(r,s){var a=t.url,u=t.data,c=t.headers,l=e.request({url:(0,o.formatUrl)("https:",a),data:u,timeout:n._timeout,method:"POST",header:c,success:function(e){r(e)},fail:function(e){s(e)},complete:function(e){if(e&&e.errMsg&&n._timeout&&-1!==n._restrictedMethods.indexOf("post")){var t=e.errMsg;if("request:fail timeout"===t){i("warn",n._timeoutMsg," at node_modules/cloudbase-adapter-wx_mp/dist/esm/index.js:136");try{l.abort()}catch(r){}}}}})}))},n.prototype.upload=function(t){var n=this,r=this;return new Promise((function(o){return u(n,void 0,void 0,(function(){var n,s,u,l,f,d;return c(this,(function(c){return n=t.url,s=t.file,u=t.data,l=t.headers,f=t.onUploadProgress,d=e.uploadFile({url:n,filePath:s,name:"file",formData:a({},u),header:l,timeout:this._timeout,success:function(e){var t={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&u.success_action_status&&(t.statusCode=parseInt(u.success_action_status,10)),o(t)},fail:function(e){o(e)},complete:function(e){if(e&&e.errMsg&&r._timeout&&-1!==r._restrictedMethods.indexOf("upload")){var t=e.errMsg;if("request:fail timeout"===t){i("warn",r._timeoutMsg," at node_modules/cloudbase-adapter-wx_mp/dist/esm/index.js:182");try{d.abort()}catch(n){}}}}}),f&&d.onProgressUpdate((function(e){f(e)})),[2]}))}))}))},n.prototype.download=function(t){var n=this,r=this;return new Promise((function(s,a){var u=t.url,c=t.headers,l=e.downloadFile({url:(0,o.formatUrl)("https:",u),header:c,timeout:n._timeout,success:function(e){200===e.statusCode&&e.tempFilePath?s({statusCode:200,tempFilePath:e.tempFilePath}):s(e)},fail:function(e){a(e)},complete:function(e){if(e&&e.errMsg&&r._timeout&&-1!==r._restrictedMethods.indexOf("download")){var t=e.errMsg;if("request:fail timeout"===t){i("warn",r._timeoutMsg," at node_modules/cloudbase-adapter-wx_mp/dist/esm/index.js:231");try{l.abort()}catch(n){}}}}})}))},n}(o.AbstractSDKRequest);t.WxRequest=d;var p={setItem:function(t,n){e.setStorageSync(t,n)},getItem:function(t){return e.getStorageSync(t)},removeItem:function(t){e.removeStorageSync(t)},clear:function(){e.clearStorageSync()}};t.wxMpStorage=p;var h=function(){function t(t,n){void 0===n&&(n={});var r=e.connectSocket(a({url:t},n)),i={set onopen(e){r.onOpen(e)},set onmessage(e){r.onMessage(e)},set onclose(e){r.onClose(e)},set onerror(e){r.onError(e)},send:function(e){return r.send({data:e})},close:function(e,t){return r.close({code:e,reason:t})},get readyState(){return r.readyState},CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};return i}return t}();function _(){var t={root:{},reqClass:d,wsClass:h,localStorage:p,primaryStorage:o.StorageType.local,getAppSign:function(){var t=e.getAccountInfoSync();return f()?t&&t.plugin?t.plugin.appId:"":t&&t.miniProgram?t.miniProgram.appId:""}};return t}t.WxMpWebSocket=h;var y={genAdapter:_,isMatch:l,runtime:"wx_mp"},g=y;t.default=g}).call(this,n("fe07")["default"],n("fe07")["Page"],n("0de9")["default"])},d75e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiLineString=void 0;var r=n("5d4c"),i=n("2a13"),o=n("3976"),s=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function e(e){if(!(0,i.isArray)(e))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e);if(0===e.length)throw new Error("Polygon must contain 1 linestring at least");e.forEach((function(e){if(!(e instanceof o.LineString))throw new TypeError('"lines" must be of type LineString[]. Received type '+typeof e+"[]")})),this.lines=e}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))},t},e.prototype.toJSON=function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}},e.validate=function(e){var t,n,r,o;if("MultiLineString"!==e.type||!(0,i.isArray)(e.coordinates))return!1;try{for(var a=s(e.coordinates),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var l=(r=void 0,s(c)),f=l.next();!f.done;f=l.next()){var d=f.value;if(!(0,i.isNumber)(d[0])||!(0,i.isNumber)(d[1]))return!1}}catch(p){r={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!0},Object.defineProperty(e.prototype,"_internalType",{get:function(){return r.SYMBOL_GEO_MULTI_LINE_STRING},enumerable:!0,configurable:!0}),e}();t.MultiLineString=a},d7b3:function(e,t,n){"use strict";n.r(t);var r=n("9e09"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},d8ff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReference=void 0;var r=n("e7fd"),i=n("ef66"),o=n("872f"),s=n("9727"),a=n("cc9e"),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},c=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f="database.getInTransaction",d="database.updateDocInTransaction",p="database.deleteDocInTransaction",h="database.insertDocInTransaction",_=function(){function e(e,t,n){this._coll=t,this.id=n,this._transaction=e,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}return e.prototype.create=function(e){return c(this,void 0,void 0,(function(){var t,n,o,a;return l(this,(function(c){switch(c.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:r.EJSON.stringify((0,s.serialize)(e),{relaxed:!1})},this.id&&(t["_id"]=this.id),[4,this._request.send(h,t)];case 1:if(n=c.sent(),n.code)throw n;if(o=r.EJSON.parse(n.inserted),a=r.EJSON.parse(n.ok),1==a&&1==o)return[2,u(u({},n),{ok:a,inserted:o})];throw new Error(i.ERRORS.INSERT_DOC_FAIL.message)}}))}))},e.prototype.get=function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(f,e)];case 1:if(t=n.sent(),t.code)throw t;return[2,{data:"null"!==t.data?a.Util.formatField(r.EJSON.parse(t.data)):r.EJSON.parse(t.data),requestId:t.requestId}]}}))}))},e.prototype.set=function(e){return c(this,void 0,void 0,(function(){var t,n;return l(this,(function(i){switch(i.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:r.EJSON.stringify((0,s.serialize)(e),{relaxed:!1}),upsert:!0},[4,this._request.send(d,t)];case 1:if(n=i.sent(),n.code)throw n;return[2,u(u({},n),{updated:r.EJSON.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null})]}}))}))},e.prototype.update=function(e){return c(this,void 0,void 0,(function(){var t,n;return l(this,(function(i){switch(i.label){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:r.EJSON.stringify(o.UpdateSerializer.encode(e),{relaxed:!1})},[4,this._request.send(d,t)];case 1:if(n=i.sent(),n.code)throw n;return[2,u(u({},n),{updated:r.EJSON.parse(n.updated)})]}}))}))},e.prototype.delete=function(){return c(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},[4,this._request.send(p,e)];case 1:if(t=n.sent(),t.code)throw t;return[2,u(u({},t),{deleted:r.EJSON.parse(t.deleted)})]}}))}))},e}();t.DocumentReference=_},db47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operatorToString=u,t.OperatorMap=void 0;var r=n("7e12"),i=n("86db"),o=n("950b"),s={};for(var a in t.OperatorMap=s,r.QUERY_COMMANDS_LITERAL)s[a]="$"+a;for(var a in i.LOGIC_COMMANDS_LITERAL)s[a]="$"+a;for(var a in o.UPDATE_COMMANDS_LITERAL)s[a]="$"+a;function u(e){return s[e]||"$"+e}s[r.QUERY_COMMANDS_LITERAL.NEQ]="$ne",s[o.UPDATE_COMMANDS_LITERAL.REMOVE]="$unset",s[o.UPDATE_COMMANDS_LITERAL.SHIFT]="$pop",s[o.UPDATE_COMMANDS_LITERAL.UNSHIFT]="$push"},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},df8f:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:e._$s(0,"sc","stl-win"),attrs:{_i:0}},[n("view",{staticClass:e._$s(1,"sc","stl-item"),attrs:{_i:1}},[n("view",{staticClass:e._$s(2,"sc","stl-ch"),attrs:{_i:2}},[e._$s(3,"i",!e.header)?n("text",[n("text",{attrs:{_i:4},domProps:{textContent:e._s(e._$s(4,"v-text"," "+e.testListItem.sensorNum+" "))}})]):n("text",{staticClass:e._$s(5,"sc","stl-header"),attrs:{_i:5}})]),n("view",{staticClass:e._$s(6,"sc","stl-status"),attrs:{_i:6}},[e._$s(7,"i",!e.header)?n("text",[e._v(e._$s(7,"t0-0",e._s(e.testListItem.printedState)))]):n("text",{staticClass:e._$s(8,"sc","stl-header"),attrs:{_i:8}})]),n("view",{staticClass:e._$s(9,"sc","stl-id"),attrs:{_i:9}},[e._$s(10,"i",!e.header)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.testListItem.personId,expression:"testListItem.personId"}],staticClass:e._$s(10,"sc","stl-id-input"),attrs:{disabled:e._$s(10,"a-disabled",2===e.systemState||!e.hasSaved),_i:10},domProps:{value:e._$s(10,"v-model",e.testListItem.personId)},on:{confirm:e.hideKeyboard,focus:function(t){return e.$emit("selected-row",e.testListItem.sensorNum,"focus")},blur:function(t){return e.$emit("selected-row",e.testListItem.sensorNum,"blur")},input:function(t){t.target.composing||e.$set(e.testListItem,"personId",t.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.scannerInput,expression:"scannerInput"}],class:e._$s(11,"c",["stl-header","stl-id-input",{"stl-score-input-edit":e.idHeadFocused}]),attrs:{disabled:e._$s(11,"a-disabled",2===e.systemState||!e.hasSaved),_i:11},domProps:{value:e._$s(11,"v-model",e.scannerInput)},on:{focus:e.scannerAutoInput,blur:e.clearScannerInterval,input:function(t){t.target.composing||(e.scannerInput=t.target.value)}}})]),n("view",{staticClass:e._$s(12,"sc","stl-name"),attrs:{_i:12}},[e._$s(13,"i",!e.header)?n("input",{staticClass:e._$s(13,"sc","stl-name-input"),attrs:{_i:13}}):n("text",{staticClass:e._$s(14,"sc","stl-header"),attrs:{_i:14}})]),n("view",{staticClass:e._$s(15,"sc","stl-score"),attrs:{_i:15}},[e._$s(16,"i",!e.header)?n("input",{directives:[{name:"model",rawName:"v-model",value:e.testListItem.examResult,expression:"testListItem.examResult"}],class:e._$s(16,"c",["stl-score-input",{"stl-score-input-edit":e.resultEditable}]),attrs:{disabled:e._$s(16,"a-disabled",!e.resultEditable),_i:16},domProps:{value:e._$s(16,"v-model",e.testListItem.examResult)},on:{input:function(t){t.target.composing||e.$set(e.testListItem,"examResult",t.target.value)}}}):n("view",{staticClass:e._$s(17,"sc","stl-score-header"),attrs:{_i:17}},[n("text",{staticClass:e._$s(18,"sc","stl-header"),attrs:{_i:18}}),n("button",{attrs:{disabled:e._$s(19,"a-disabled",2===e.systemState),_i:19},domProps:{textContent:e._s(e._$s(19,"v-text",e.editable?"\u9501\u5b9a":"\u7f16\u8f91"))},on:{click:e.switchEditable}})])])])])},o=[]},dfa5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var r=function(){function e(e,t){this._coll=t,this._transaction=e}return e}();t.Query=r},e1ce:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.setSdkVersion=u,t.getSdkVersion=c,t.setSdkName=l,t.getSdkName=f,t.setEndPoint=y,t.setRegionLevelEndpoint=g,t.getEndPoint=v,t.LOGINTYPE=t.DATA_VERSION=void 0;var r=n("fce3"),i=r.constants.setSdkName,o=r.constants.setProtocol,s="",a="@cloudbase/js-sdk";function u(e){s=e}function c(){return s}function l(e){a=e,i(e)}function f(){return a}var d="2020-01-10";t.DATA_VERSION=d;var p,h="undefined"!==typeof location&&"http:"===location.protocol?"http:":"https:",_="//tcb-api.tencentcloudapi.com/web";function y(e,t){_=e,t&&(h=t,o(t))}function g(e,t,n){var r=t?"//"+e+"."+t+".tcb-api.tencentcloudapi.com/web":"//"+e+".ap-shanghai.tcb-api.tencentcloudapi.com/web";y(r,n)}function v(){return{BASE_URL:_,PROTOCOL:h}}t.LOGINTYPE=p,function(e){e["ANONYMOUS"]="ANONYMOUS",e["WECHAT"]="WECHAT",e["CUSTOM"]="CUSTOM",e["NULL"]="NULL"}(p||(t.LOGINTYPE=p={}))}).call(this,n("4362"))},e37d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousAuthProvider=void 0;var r=n("3019"),i=n("fce3"),o=n("f5a4"),s=n("ad40"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d=i.constants.ERRORS,p=i.constants.COMMUNITY_SITE_URL,h=i.utils.throwError,_=i.utils.isString,y=i.events.addEventListener,g=i.helpers.catchErrorsDecorator,v=function(e){function t(t){var n=e.call(this,t)||this;return n._onConverted=n._onConverted.bind(n),y(s.EVENTS.ANONYMOUS_CONVERTED,n._onConverted),n}return a(t,e),t.prototype.signIn=function(){return l(this,void 0,void 0,(function(){var e,t,n,r,i,a,u;return f(this,(function(c){switch(c.label){case 0:return[4,this._cache.updatePersistenceAsync("local")];case 1:return c.sent(),e=this._cache.keys,t=e.anonymousUuidKey,n=e.refreshTokenKey,[4,this._cache.getStoreAsync(t)];case 2:return r=c.sent(),[4,this._cache.getStoreAsync(n)];case 3:return i=c.sent(),[4,this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:i})];case 4:return a=c.sent(),a.uuid&&a.refresh_token?[4,this._setAnonymousUUID(a.uuid)]:[3,10];case 5:return c.sent(),[4,this.setRefreshToken(a.refresh_token)];case 6:return c.sent(),[4,this._request.refreshAccessToken()];case 7:return c.sent(),s.eventBus.fire(s.EVENTS.LOGIN_TYPE_CHANGED,{env:this._config.env,loginType:o.LOGINTYPE.ANONYMOUS,persistence:"local"}),s.eventBus.fire(s.EVENTS.LOGIN_STATE_CHANGED),u=new s.LoginState({envId:this._config.env,cache:this._cache,request:this._request}),[4,u.checkLocalStateAsync()];case 8:return c.sent(),[4,u.user.refresh()];case 9:return c.sent(),[2,u];case 10:throw new Error(JSON.stringify({code:d.OPERATION_FAIL,msg:JSON.stringify(a)||"anonymous signIn failed"}))}}))}))},t.prototype.linkAndRetrieveDataWithTicket=function(e){return l(this,void 0,void 0,(function(){var t,n,r,i,a,u,c;return f(this,(function(l){switch(l.label){case 0:return _(e)||h(d.INVALID_PARAMS,"ticket must be a string"),t=this._cache.keys,n=t.anonymousUuidKey,r=t.refreshTokenKey,[4,this._cache.getStoreAsync(n)];case 1:return i=l.sent(),[4,this._cache.getStoreAsync(r)];case 2:return a=l.sent(),[4,this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:i,refresh_token:a,ticket:e})];case 3:return u=l.sent(),u.refresh_token?[4,this._clearAnonymousUUID()]:[3,8];case 4:return l.sent(),[4,this.setRefreshToken(u.refresh_token)];case 5:return l.sent(),[4,this._request.refreshAccessToken()];case 6:return l.sent(),s.eventBus.fire(s.EVENTS.ANONYMOUS_CONVERTED,{env:this._config.env}),s.eventBus.fire(s.EVENTS.LOGIN_TYPE_CHANGED,{loginType:o.LOGINTYPE.CUSTOM,persistence:"local"}),c=new s.LoginState({envId:this._config.env,cache:this._cache,request:this._request}),[4,c.checkLocalStateAsync()];case 7:return l.sent(),[2,c];case 8:h(d.OPERATION_FAIL,JSON.stringify(u)||"linkAndRetrieveDataWithTicket failed"),l.label=9;case 9:return[2]}}))}))},t.prototype._setAnonymousUUID=function(e){return l(this,void 0,void 0,(function(){var t,n,r;return f(this,(function(i){switch(i.label){case 0:return t=this._cache.keys,n=t.anonymousUuidKey,r=t.loginTypeKey,[4,this._cache.removeStoreAsync(n)];case 1:return i.sent(),[4,this._cache.setStoreAsync(n,e)];case 2:return i.sent(),[4,this._cache.setStoreAsync(r,o.LOGINTYPE.ANONYMOUS)];case 3:return i.sent(),[2]}}))}))},t.prototype._clearAnonymousUUID=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,this._cache.removeStoreAsync(this._cache.keys.anonymousUuidKey)];case 1:return e.sent(),[2]}}))}))},t.prototype._onConverted=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return t=e.data.env,t!==this._config.env?[2]:[4,this._cache.updatePersistenceAsync(this._config.persistence)];case 1:return n.sent(),[2]}}))}))},u([g({title:"\u533f\u540d\u767b\u5f55\u5931\u8d25",messages:["\u8bf7\u786e\u8ba4\u4ee5\u4e0b\u5404\u9879\uff1a","  1 - \u5f53\u524d\u73af\u5883\u662f\u5426\u5f00\u542f\u4e86\u533f\u540d\u767b\u5f55","  2 - \u8c03\u7528 auth().anonymouseProvider().signIn() \u7684\u8bed\u6cd5\u6216\u53c2\u6570\u662f\u5426\u6b63\u786e","\u5982\u679c\u95ee\u9898\u4f9d\u7136\u5b58\u5728\uff0c\u5efa\u8bae\u5230\u5b98\u65b9\u95ee\u7b54\u793e\u533a\u63d0\u95ee\u6216\u5bfb\u627e\u5e2e\u52a9\uff1a"+p]}),c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",Promise)],t.prototype,"signIn",null),t}(r.AuthProvider);t.AnonymousAuthProvider=v},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e7fd:function(e,t,n){"use strict";(function(e,n,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setInternalBufferSize=t.serializeWithBufferAndIndex=t.serialize=t.deserializeStream=t.deserialize=t.calculateObjectSize=t.Timestamp=t.ObjectId=t.ObjectID=t.MinKey=t.MaxKey=t.Map=t.LongWithoutOverridesClass=t.Long=t.Int32=t.EJSON=t.Double=t.Decimal128=t.DBRef=t.Code=t.Binary=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSONSymbol=t.BSONRegExp=t.default=void 0;var o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}for(var u=v,c=b,l=S,f=[],d=[],p="undefined"!==typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,y=h.length;_<y;++_)f[_]=h[_],d[h.charCodeAt(_)]=_;function g(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function v(e){var t=g(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function m(e,t,n){return 3*(t+n)/4-n}function b(e){var t,n,r=g(e),i=r[0],o=r[1],s=new p(m(e,i,o)),a=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=d[e.charCodeAt(n)]<<18|d[e.charCodeAt(n+1)]<<12|d[e.charCodeAt(n+2)]<<6|d[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=d[e.charCodeAt(n)]<<2|d[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===o&&(t=d[e.charCodeAt(n)]<<10|d[e.charCodeAt(n+1)]<<4|d[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s}function w(e){return f[e>>18&63]+f[e>>12&63]+f[e>>6&63]+f[63&e]}function E(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(w(r));return i.join("")}function S(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(E(e,s,s+o>a?a:s+o));return 1===r?(t=e[n-1],i.push(f[t>>2]+f[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(f[t>>10]+f[t>>4&63]+f[t<<2&63]+"=")),i.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63;var O={byteLength:u,toByteArray:c,fromByteArray:l},A=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},T=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=h,s/=256,c-=8);e[n+p-h]|=128*_},I={read:A,write:T},N=a((function(e,t){var r="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50;var i=2147483647;function o(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return d(e,t);if(ArrayBuffer.isView(e))return p(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers["typeof"](e));if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var i=_(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers["typeof"](e))}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}function f(e){return c(e),s(e<0?0:0|y(e))}function d(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|v(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function p(e){for(var t=e.length<0?0:0|y(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function _(e){if(a.isBuffer(e)){var t=0|y(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!==typeof e.length||X(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}function y(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),a.alloc(+e)}function v(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers["typeof"](e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return L(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,X(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(X(a))return s;e[n+s]=a}return s}function A(e,t,n,r){return z(V(t,e.length-n),e,n,r)}function T(e,t,n,r){return z(K(t),e,n,r)}function N(e,t,n,r){return T(e,t,n,r)}function R(e,t,n,r){return z(J(t),e,n,r)}function P(e,t,n,r){return z(H(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?O.fromByteArray(e):O.fromByteArray(e.slice(t,n))}function L(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:o=e[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(l=u));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return B(r)}t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),a.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||n("error","This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."," at node_modules/bson/dist/bson.browser.esm.js:255"),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return l(e,t,n)},a.allocUnsafe=function(e){return f(e)},a.allocUnsafeSlow=function(e){return f(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(Q(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(Q(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?L(this,0,e):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(Q(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers["typeof"](e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,u=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return N(this,e,t,n);case"base64":return R(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function B(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=D));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Z[e[o]];return i}function k(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Y(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return t=+t,n>>>=0,i||Y(e,t,n,4),I.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return t=+t,n>>>=0,i||Y(e,t,n,8),I.write(e,t,n,r,52,8),n+8}a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);var r=this[e],i=1,o=0;while(++o<t&&(i*=256))r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||U(e,t,this.length);var r=t,i=1,o=this[e+--r];while(r>0&&(i*=256))o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),I.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),I.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),I.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),I.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var o=1,s=0;this[t]=255&e;while(++s<n&&(o*=256))this[t+s]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;$(this,e,t,n,i,0)}var o=n-1,s=1;this[t+o]=255&e;while(--o>=0&&(s*=256))this[t+o]=e/s&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;this[t]=255&e;while(++o<n&&(s*=256))e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);$(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;this[t+o]=255&e;while(--o>=0&&(s*=256))e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||$(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},a.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var G=/[^+/0-9A-Za-z-_]/g;function W(e){if(e=e.split("=")[0],e=e.trim().replace(G,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,r,i,o=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function J(e){return O.toByteArray(W(e))}function z(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!==e}var Z=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()})),R=(N.Buffer,N.SlowBuffer,N.INSPECT_MAX_BYTES,N.kMaxLength,function(e,t){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},R(e,t)});function P(e,t){function n(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},C.apply(this,arguments)};function L(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function D(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"===typeof Reflect?"undefined":babelHelpers["typeof"](Reflect))&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function B(e,t){return function(n,r){t(n,r,e)}}function M(e,t){if("object"===("undefined"===typeof Reflect?"undefined":babelHelpers["typeof"](Reflect))&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function x(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function j(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function k(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function U(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function $(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function F(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Y(arguments[t]));return e}function q(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function G(e){return this instanceof G?(this.v=e,this):new G(e)}function W(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{u(i[e](t))}catch(n){f(o[0][3],n)}}function u(e){e.value instanceof G?Promise.resolve(e.value.v).then(c,l):f(o[0][2],e)}function c(e){a("next",e)}function l(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function V(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:G(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function K(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof $?$(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){t=e[n](t),i(r,o,t.done,t.value)}))}}function i(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function H(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function z(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function X(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var Z,ee=Object.freeze({__proto__:null,__extends:P,get __assign(){return C},__rest:L,__decorate:D,__param:B,__metadata:M,__awaiter:x,__generator:j,__createBinding:k,__exportStar:U,__values:$,__read:Y,__spread:F,__spreadArrays:q,__await:G,__asyncGenerator:W,__asyncDelegator:V,__asyncValues:K,__makeTemplateObject:H,__importStar:J,__importDefault:z,__classPrivateFieldGet:Q,__classPrivateFieldSet:X}),te={};Z="function"===typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var ne=Z,re=/%[sdj%]/g;function ie(e){if(!Oe(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(ce(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(e).replace(re,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])we(s)||!Ne(s)?o+=" "+s:o+=" "+ce(s);return o}function oe(t,r){if(Te(e.process))return function(){return oe(t,r).apply(this,arguments)};var i=!1;function o(){return i||(n("error",r," at node_modules/bson/dist/bson.browser.esm.js:2582"),i=!0),t.apply(this,arguments)}return o}var se,ae={};function ue(e){if(Te(se)&&(se=""),e=e.toUpperCase(),!ae[e])if(new RegExp("\\b"+e+"\\b","i").test(se)){var t=0;ae[e]=function(){var r=ie.apply(null,arguments);n("error","%s %d: %s",e,t,r," at node_modules/bson/dist/bson.browser.esm.js:2605")}}else ae[e]=function(){};return ae[e]}function ce(e,t){var n={seen:[],stylize:fe};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),be(t)?n.showHidden=t:t&&Ue(n,t),Te(n.showHidden)&&(n.showHidden=!1),Te(n.depth)&&(n.depth=2),Te(n.colors)&&(n.colors=!1),Te(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=le),pe(n,e,n.depth)}function le(e,t){var n=ce.styles[t];return n?"\x1b["+ce.colors[n][0]+"m"+e+"\x1b["+ce.colors[n][1]+"m":e}function fe(e,t){return e}function de(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function pe(e,t,n){if(e.customInspect&&t&&Ce(t.inspect)&&t.inspect!==ce&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return Oe(r)||(r=pe(e,r,n)),r}var i=he(e,t);if(i)return i;var o=Object.keys(t),s=de(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),Pe(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return _e(t);if(0===o.length){if(Ce(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Ie(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Re(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Pe(t))return _e(t)}var u,c="",l=!1,f=["{","}"];if(me(t)&&(l=!0,f=["[","]"]),Ce(t)){var d=t.name?": "+t.name:"";c=" [Function"+d+"]"}return Ie(t)&&(c=" "+RegExp.prototype.toString.call(t)),Re(t)&&(c=" "+Date.prototype.toUTCString.call(t)),Pe(t)&&(c=" "+_e(t)),0!==o.length||l&&0!=t.length?n<0?Ie(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=l?ye(e,t,n,s,o):o.map((function(r){return ge(e,t,n,s,r,l)})),e.seen.pop(),ve(u,c,f)):f[0]+c+f[1]}function he(e,t){if(Te(t))return e.stylize("undefined","undefined");if(Oe(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return Se(t)?e.stylize(""+t,"number"):be(t)?e.stylize(""+t,"boolean"):we(t)?e.stylize("null","null"):void 0}function _e(e){return"["+Error.prototype.toString.call(e)+"]"}function ye(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)$e(t,String(s))?o.push(ge(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(ge(e,t,n,r,i,!0))})),o}function ge(e,t,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),$e(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=we(n)?pe(e,u.value,null):pe(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n"))):a=e.stylize("[Circular]","special")),Te(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function ve(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function me(e){return Array.isArray(e)}function be(e){return"boolean"===typeof e}function we(e){return null===e}function Ee(e){return null==e}function Se(e){return"number"===typeof e}function Oe(e){return"string"===typeof e}function Ae(e){return"symbol"===babelHelpers["typeof"](e)}function Te(e){return void 0===e}function Ie(e){return Ne(e)&&"[object RegExp]"===Be(e)}function Ne(e){return"object"===babelHelpers["typeof"](e)&&null!==e}function Re(e){return Ne(e)&&"[object Date]"===Be(e)}function Pe(e){return Ne(e)&&("[object Error]"===Be(e)||e instanceof Error)}function Ce(e){return"function"===typeof e}function Le(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===babelHelpers["typeof"](e)||"undefined"===typeof e}function De(e){return r.isBuffer(e)}function Be(e){return Object.prototype.toString.call(e)}function Me(e){return e<10?"0"+e.toString(10):e.toString(10)}ce.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ce.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function je(){var e=new Date,t=[Me(e.getHours()),Me(e.getMinutes()),Me(e.getSeconds())].join(":");return[e.getDate(),xe[e.getMonth()],t].join(" ")}function ke(){n("log","%s - %s",je(),ie.apply(null,arguments)," at node_modules/bson/dist/bson.browser.esm.js:2996")}function Ue(e,t){if(!t||!Ne(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ye={inherits:ne,_extend:Ue,log:ke,isBuffer:De,isPrimitive:Le,isFunction:Ce,isError:Pe,isDate:Re,isObject:Ne,isRegExp:Ie,isUndefined:Te,isSymbol:Ae,isString:Oe,isNumber:Se,isNullOrUndefined:Ee,isNull:we,isBoolean:be,isArray:me,inspect:ce,deprecate:oe,format:ie,debuglog:ue},Fe=a((function(e,t){function r(e){return e.toString().replace("function(","function (")}function s(e){for(var t=N.Buffer.alloc(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}if(Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.isBuffer=t.haveBuffer=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=r,t.randomBytes=s,"undefined"!==typeof window&&i&&i.getRandomValues)t.randomBytes=function(e){return i.getRandomValues(N.Buffer.alloc(e))};else{try{t.randomBytes=te.randomBytes}catch(_){}null==t.randomBytes&&(t.randomBytes=s)}function a(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function u(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)}function c(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)}function l(){return"undefined"!==typeof o&&"undefined"!==typeof o.Buffer}function f(e){var t;return"object"===typeof e&&"Buffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}function d(e){return p(e)&&"[object Date]"===Object.prototype.toString.call(e)}function p(e){return"object"===typeof e&&null!==e}function h(e,t){if("undefined"===typeof window&&"undefined"===typeof self)return Ye.deprecate(e,t);var r=!1;function i(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r||(n("warn",t," at node_modules/bson/dist/bson.browser.esm.js:3125"),r=!0),e.apply.apply(e,ee.__spreadArrays([this],i))}return i}t.isUint8Array=a,t.isBigInt64Array=u,t.isBigUInt64Array=c,t.haveBuffer=l,t.isBuffer=f,t.isDate=d,t.isObjectLike=p,t.deprecate=h}));s(Fe);Fe.deprecate,Fe.isObjectLike,Fe.isDate,Fe.isBuffer,Fe.haveBuffer,Fe.isBigUInt64Array,Fe.isBigInt64Array,Fe.isUint8Array,Fe.randomBytes,Fe.normalizedFunctionString;var qe=a((function(e,t){function n(e){if(Fe.isBuffer(e))return e;if(ArrayBuffer.isView(e))return N.Buffer.from(e.buffer);if(e instanceof ArrayBuffer)return N.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=n}));s(qe);qe.ensureBuffer;var Ge=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseUUID=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function r(e){if("string"!==typeof e)throw new TypeError("Invalid type for UUID, expected string but got "+typeof e);if(!n.test(e))throw new TypeError("Invalid format for UUID: "+e);var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}t.parseUUID=r}));s(Ge);Ge.parseUUID;var We=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);if(null!=t&&"string"!==typeof t&&!ArrayBuffer.isView(t)&&!(t instanceof ArrayBuffer)&&!Array.isArray(t))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!==n&&void 0!==n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=N.Buffer.alloc(e.BUFFER_SIZE),this.position=0):("string"===typeof t?this.buffer=N.Buffer.from(t,"binary"):Array.isArray(t)?this.buffer=N.Buffer.from(t):this.buffer=qe.ensureBuffer(t),this.position=this.buffer.byteLength)}return e.prototype.put=function(t){if("string"===typeof t&&1!==t.length)throw new TypeError("only accepts single character String");if("number"!==typeof t&&1!==t.length)throw new TypeError("only accepts single character Uint8Array or Array");var n;if(n="string"===typeof t?t.charCodeAt(0):"number"===typeof t?t:t[0],n<0||n>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=N.Buffer.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}},e.prototype.write=function(e,t){if(t="number"===typeof t?t:this.position,this.buffer.length<t+e.length){var n=N.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(qe.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"===typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)},e.prototype.read=function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)},e.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},e.prototype.length=function(){return this.position},e.prototype.toJSON=function(){return this.buffer.toString("base64")},e.prototype.toString=function(e){return this.buffer.toString(e)},e.prototype.toExtendedJSON=function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}},e.fromExtendedJSON=function(t,n){var r,i;if(n=n||{},"$binary"in t?n.legacy&&"string"===typeof t.$binary&&"$type"in t?(i=t.$type?parseInt(t.$type,16):0,r=N.Buffer.from(t.$binary,"base64")):"string"!==typeof t.$binary&&(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=N.Buffer.from(t.$binary.base64,"base64")):"$uuid"in t&&(i=4,r=N.Buffer.from(Ge.parseUUID(t.$uuid))),!r)throw new TypeError("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new e(r,i)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'+e.toString("hex")+'", "hex"), '+this.sub_type+")"},e.BSON_BINARY_SUBTYPE_DEFAULT=0,e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,e}();t.Binary=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Binary"})}));s(We);We.Binary;var Ve=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;var n=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);this.code=t,this.scope=n}return e.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},e.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},e.fromExtendedJSON=function(t){return new e(t.$code,t.$scope)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toJSON();return'new Code("'+e.code+'"'+(e.scope?", "+JSON.stringify(e.scope):"")+")"},e}();t.Code=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Code"})}));s(Ve);Ve.Code;var Ke=a((function(e,t){function n(e){return Fe.isObjectLike(e)&&null!=e["$id"]&&null!=e["$ref"]}Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=n;var r=function(){function e(t,n,r,i){if(!(this instanceof e))return new e(t,n,r,i);var o=t.split(".");2===o.length&&(r=o.shift(),t=o.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=i||{}}return Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e},e.prototype.toExtendedJSON=function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields)),t},e.fromExtendedJSON=function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=void 0===this.oid||void 0===this.oid.toString?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+e+'")'+(this.db?', "'+this.db+'"':"")+")"},e}();t.DBRef=r,Object.defineProperty(r.prototype,"_bsontype",{value:"DBRef"})}));s(Ke);Ke.DBRef,Ke.isDBRefLike;var He=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;var n=void 0;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(f){}var r=65536,i=1<<24,o=r*r,s=o*o,a=s/2,u={},c={},l=function(){function e(t,n,r){if(void 0===t&&(t=0),void 0===n&&(n=0),!(this instanceof e))return new e(t,n,r);this.low=0|t,this.high=0|n,this.unsigned=!!r,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return e.fromBits=function(t,n,r){return new e(t,n,r)},e.fromInt=function(t,n){var r,i,o;return n?(t>>>=0,(o=0<=t&&t<256)&&(i=c[t],i)?i:(r=e.fromBits(t,(0|t)<0?-1:0,!0),o&&(c[t]=r),r)):(t|=0,(o=-128<=t&&t<128)&&(i=u[t],i)?i:(r=e.fromBits(t,t<0?-1:0,!1),o&&(u[t]=r),r))},e.fromNumber=function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=s)return e.MAX_UNSIGNED_VALUE}else{if(t<=-a)return e.MIN_VALUE;if(t+1>=a)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%o|0,t/o|0,n)},e.fromBigInt=function(t,n){return e.fromString(t.toString(),n)},e.fromString=function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"===typeof n?(r=n,n=!1):n=!!n,r=r||10,r<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return e.fromString(t.substring(1),n,r).neg();for(var o=e.fromNumber(Math.pow(r,8)),s=e.ZERO,a=0;a<t.length;a+=8){var u=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+u),r);if(u<8){var l=e.fromNumber(Math.pow(r,u));s=s.mul(l).add(e.fromNumber(c))}else s=s.mul(o),s=s.add(e.fromNumber(c))}return s.unsigned=n,s},e.fromBytes=function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)},e.fromBytesLE=function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},e.fromBytesBE=function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)},e.isLong=function(e){return Fe.isObjectLike(e)&&!0===e["__isLong__"]},e.fromValue=function(t,n){return"number"===typeof t?e.fromNumber(t,n):"string"===typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"===typeof n?n:t.unsigned)},e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,o=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,c=65535&t.low,l=0,f=0,d=0,p=0;return p+=o+c,d+=p>>>16,p&=65535,d+=i+u,f+=d>>>16,d&=65535,f+=r+a,l+=f>>>16,f&=65535,l+=n+s,l&=65535,e.fromBits(d<<16|p,l<<16|f,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},e.prototype.comp=function(e){return this.compare(e)},e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var r=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var i,o,s;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;s=e.UZERO}else{if(this.eq(e.MIN_VALUE)){if(t.eq(e.ONE)||t.eq(e.NEG_ONE))return e.MIN_VALUE;if(t.eq(e.MIN_VALUE))return e.ONE;var a=this.shr(1);return i=a.div(t).shl(1),i.eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(o=this.sub(t.mul(i)),s=i.add(o.div(t)),s)}if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=e.ZERO}o=this;while(o.gte(t)){i=Math.max(1,Math.floor(o.toNumber()/t.toNumber()));var u=Math.ceil(Math.log(i)/Math.LN2),c=u<=48?1:Math.pow(2,u-48),l=e.fromNumber(i),f=l.mul(t);while(f.isNegative()||f.gt(o))i-=c,l=e.fromNumber(i,this.unsigned),f=l.mul(t);l.isZero()&&(l=e.ONE),s=s.add(l),o=o.sub(f)}return s},e.prototype.div=function(e){return this.divide(e)},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&(this.high===t.high&&this.low===t.low)},e.prototype.eq=function(e){return this.equals(e)},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0;t--)if(0!==(n&1<<t))break;return 0!==this.high?t+33:t+1},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.gt=function(e){return this.greaterThan(e)},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.gte=function(e){return this.greaterThanOrEqual(e)},e.prototype.ge=function(e){return this.greaterThanOrEqual(e)},e.prototype.isEven=function(){return 0===(1&this.low)},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isOdd=function(){return 1===(1&this.low)},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lt=function(e){return this.lessThan(e)},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.lte=function(e){return this.lessThanOrEqual(e)},e.prototype.modulo=function(t){if(e.isLong(t)||(t=e.fromValue(t)),n){var r=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},e.prototype.mod=function(e){return this.modulo(e)},e.prototype.rem=function(e){return this.modulo(e)},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),n){var r=n.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,o=65535&this.high,s=this.low>>>16,a=65535&this.low,u=t.high>>>16,c=65535&t.high,l=t.low>>>16,f=65535&t.low,d=0,p=0,h=0,_=0;return _+=a*f,h+=_>>>16,_&=65535,h+=s*f,p+=h>>>16,h&=65535,h+=a*l,p+=h>>>16,h&=65535,p+=o*f,d+=p>>>16,p&=65535,p+=s*l,d+=p>>>16,p&=65535,p+=a*c,d+=p>>>16,p&=65535,d+=i*f+o*l+s*c+a*u,d&=65535,e.fromBits(h<<16|_,d<<16|p,this.unsigned)},e.prototype.mul=function(e){return this.multiply(e)},e.prototype.negate=function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=function(){return this.negate()},e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.neq=function(e){return this.notEquals(e)},e.prototype.ne=function(e){return this.notEquals(e)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return e.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=function(e){return this.shiftLeft(e)},e.prototype.shiftRight=function(t){return e.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=function(e){return this.shiftRight(e)},e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),t&=63,0===t)return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)},e.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},e.prototype.shru=function(e){return this.shiftRightUnsigned(e)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())},e.prototype.sub=function(e){return this.subtract(e)},e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*o+(this.low>>>0):this.high*o+(this.low>>>0)},e.prototype.toBigInt=function(){return BigInt(this.toString())},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.prototype.toSigned=function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this},e.prototype.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}var o=e.fromNumber(Math.pow(t,6),this.unsigned),s=this,a="";while(1){var u=s.div(o),c=s.sub(u.mul(o)).toInt()>>>0,l=c.toString(t);if(s=u,s.isZero())return l+a;while(l.length<6)l="0"+l;a=""+l+a}},e.prototype.toUnsigned=function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.eqz=function(){return this.isZero()},e.prototype.le=function(e){return this.lessThanOrEqual(e)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new Long("'+this.toString()+'")'},e.TWO_PWR_24=e.fromInt(i),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e}();t.Long=l,Object.defineProperty(l.prototype,"__isLong__",{value:!0}),Object.defineProperty(l.prototype,"_bsontype",{value:"Long"})}));s(He);He.Long;var Je=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;var n=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,r=/^(\+|-)?(Infinity|inf)$/i,i=/^(\+|-)?NaN$/i,o=6111,s=-6176,a=6176,u=34,c=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),l=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),f=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),d=/^([-+])?(\d+)?$/,p=31,h=16383,_=30,y=31;function g(e){return!isNaN(parseInt(e,10))}function v(e){var t=He.Long.fromNumber(1e9),n=He.Long.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new He.Long(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function m(e,t){if(!e&&!t)return{high:He.Long.fromNumber(0),low:He.Long.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new He.Long(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new He.Long(t.getLowBits(),0),s=n.multiply(i),a=n.multiply(o),u=r.multiply(i),c=r.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new He.Long(a.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),s=s.add(a.shiftRightUnsigned(32)),c=a.shiftLeft(32).add(new He.Long(c.getLowBits(),0)),{high:s,low:c}}function b(e,t){var n=e.high>>>0,r=t.high>>>0;if(n<r)return!0;if(n===r){var i=e.low>>>0,o=t.low>>>0;if(i<o)return!0}return!1}function w(e,t){throw new TypeError('"'+e+'" is not a valid Decimal128 string - '+t)}var E=function(){function e(t){if(!(this instanceof e))return new e(t);this.bytes=t}return e.fromString=function(t){var p=!1,h=!1,_=!1,y=0,v=0,E=0,S=0,O=0,A=[0],T=0,I=0,R=0,P=0,C=0,L=0,D=new He.Long(0,0),B=new He.Long(0,0),M=0,x=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var j=t.match(n),k=t.match(r),U=t.match(i);if(!j&&!k&&!U||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(j){var $=j[2],Y=j[4],F=j[5],q=j[6];Y&&void 0===q&&w(t,"missing exponent power"),Y&&void 0===$&&w(t,"missing exponent base"),void 0===Y&&(F||q)&&w(t,"missing e before exponent")}if("+"!==t[x]&&"-"!==t[x]||(p="-"===t[x++]),!g(t[x])&&"."!==t[x]){if("i"===t[x]||"I"===t[x])return new e(N.Buffer.from(p?l:f));if("N"===t[x])return new e(N.Buffer.from(c))}while(g(t[x])||"."===t[x])"."!==t[x]?(T<34&&("0"!==t[x]||_)&&(_||(O=v),_=!0,A[I++]=parseInt(t[x],10),T+=1),_&&(E+=1),h&&(S+=1),v+=1,x+=1):(h&&w(t,"contains multiple periods"),h=!0,x+=1);if(h&&!v)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[x]||"E"===t[x]){var G=t.substr(++x).match(d);if(!G||!G[2])return new e(N.Buffer.from(c));C=parseInt(G[0],10),x+=G[0].length}if(t[x])return new e(N.Buffer.from(c));if(R=0,T){if(P=T-1,y=E,1!==y)while("0"===t[O+y-1])y-=1}else R=0,P=0,A[0]=0,E=1,T=1,y=0;C<=S&&S-C>16384?C=s:C-=S;while(C>o){if(P+=1,P-R>u){var W=A.join("");if(W.match(/^0+$/)){C=o;break}w(t,"overflow")}C-=1}while(C<s||T<E){if(0===P&&y<T){C=s,y=0;break}if(T<E?E-=1:P-=1,C<o)C+=1;else{W=A.join("");if(W.match(/^0+$/)){C=o;break}w(t,"overflow")}}if(P-R+1<y){var V=v;h&&(O+=1,V+=1),p&&(O+=1,V+=1);var K=parseInt(t[O+P+1],10),H=0;if(K>=5&&(H=1,5===K))for(H=A[P]%2===1?1:0,L=O+P+2;L<V;L++)if(parseInt(t[L],10)){H=1;break}if(H)for(var J=P;J>=0;J--)if(++A[J]>9&&(A[J]=0,0===J)){if(!(C<o))return new e(N.Buffer.from(p?l:f));C+=1,A[J]=1}}if(D=He.Long.fromNumber(0),B=He.Long.fromNumber(0),0===y)D=He.Long.fromNumber(0),B=He.Long.fromNumber(0);else if(P-R<17){J=R;for(B=He.Long.fromNumber(A[J++]),D=new He.Long(0,0);J<=P;J++)B=B.multiply(He.Long.fromNumber(10)),B=B.add(He.Long.fromNumber(A[J]))}else{J=R;for(D=He.Long.fromNumber(A[J++]);J<=P-17;J++)D=D.multiply(He.Long.fromNumber(10)),D=D.add(He.Long.fromNumber(A[J]));for(B=He.Long.fromNumber(A[J++]);J<=P;J++)B=B.multiply(He.Long.fromNumber(10)),B=B.add(He.Long.fromNumber(A[J]))}var z=m(D,He.Long.fromString("100000000000000000"));z.low=z.low.add(B),b(z.low,B)&&(z.high=z.high.add(He.Long.fromNumber(1))),M=C+a;var Q={low:He.Long.fromNumber(0),high:He.Long.fromNumber(0)};z.high.shiftRightUnsigned(49).and(He.Long.fromNumber(1)).equals(He.Long.fromNumber(1))?(Q.high=Q.high.or(He.Long.fromNumber(3).shiftLeft(61)),Q.high=Q.high.or(He.Long.fromNumber(M).and(He.Long.fromNumber(16383).shiftLeft(47))),Q.high=Q.high.or(z.high.and(He.Long.fromNumber(0x7fffffffffff)))):(Q.high=Q.high.or(He.Long.fromNumber(16383&M).shiftLeft(49)),Q.high=Q.high.or(z.high.and(He.Long.fromNumber(562949953421311)))),Q.low=z.low,p&&(Q.high=Q.high.or(He.Long.fromString("9223372036854775808")));var X=N.Buffer.alloc(16);return x=0,X[x++]=255&Q.low.low,X[x++]=Q.low.low>>8&255,X[x++]=Q.low.low>>16&255,X[x++]=Q.low.low>>24&255,X[x++]=255&Q.low.high,X[x++]=Q.low.high>>8&255,X[x++]=Q.low.high>>16&255,X[x++]=Q.low.high>>24&255,X[x++]=255&Q.high.low,X[x++]=Q.high.low>>8&255,X[x++]=Q.high.low>>16&255,X[x++]=Q.high.low>>24&255,X[x++]=255&Q.high.high,X[x++]=Q.high.high>>8&255,X[x++]=Q.high.high>>16&255,X[x++]=Q.high.high>>24&255,new e(X)},e.prototype.toString=function(){for(var e,t=0,n=new Array(36),r=0;r<n.length;r++)n[r]=0;var i,o,s,u=0,c=!1,l={parts:[0,0,0,0]},f=[];u=0;var d=this.bytes,g=d[u++]|d[u++]<<8|d[u++]<<16|d[u++]<<24,m=d[u++]|d[u++]<<8|d[u++]<<16|d[u++]<<24,b=d[u++]|d[u++]<<8|d[u++]<<16|d[u++]<<24,w=d[u++]|d[u++]<<8|d[u++]<<16|d[u++]<<24;u=0;var E={low:new He.Long(g,m),high:new He.Long(b,w)};E.high.lessThan(He.Long.ZERO)&&f.push("-");var S=w>>26&p;if(S>>3===3){if(S===_)return f.join("")+"Infinity";if(S===y)return"NaN";e=w>>15&h,i=8+(w>>14&1)}else i=w>>14&7,e=w>>17&h;var O=e-a;if(l.parts[0]=(16383&w)+((15&i)<<14),l.parts[1]=b,l.parts[2]=m,l.parts[3]=g,0===l.parts[0]&&0===l.parts[1]&&0===l.parts[2]&&0===l.parts[3])c=!0;else for(s=3;s>=0;s--){var A=0,T=v(l);if(l=T.quotient,A=T.rem.low,A)for(o=8;o>=0;o--)n[9*s+o]=A%10,A=Math.floor(A/10)}if(c)t=1,n[u]=0;else{t=36;while(!n[u])t-=1,u+=1}var I=t-1+O;if(I>=34||I<=-7||O>0){if(t>34)return f.push("0"),O>0?f.push("E+"+O):O<0&&f.push("E"+O),f.join("");f.push(""+n[u++]),t-=1,t&&f.push(".");for(r=0;r<t;r++)f.push(""+n[u++]);f.push("E"),I>0?f.push("+"+I):f.push(""+I)}else if(O>=0)for(r=0;r<t;r++)f.push(""+n[u++]);else{var N=t+O;if(N>0)for(r=0;r<N;r++)f.push(""+n[u++]);else f.push("0");f.push(".");while(N++<0)f.push("0");for(r=0;r<t-Math.max(N-1,0);r++)f.push(""+n[u++])}return f.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'Decimal128.fromString("'+this.toString()+'")'},e}();t.Decimal128=E,Object.defineProperty(E.prototype,"_bsontype",{value:"Decimal128"})}));s(Je);Je.Decimal128;var ze=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-"+this.value.toFixed(1)}:(Number.isInteger(this.value)?(t=this.value.toFixed(1),t.length>=13&&(t=this.value.toExponential(13).toUpperCase())):t=this.value.toString(),{$numberDouble:t});var t},e.fromExtendedJSON=function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double("+e.$numberDouble+")"},e}();t.Double=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Double"})}));s(ze);ze.Double;var Qe=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return e.prototype.valueOf=function(){return this.value},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},e.fromExtendedJSON=function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},e}();t.Int32=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Int32"})}));s(Qe);Qe.Int32;var Xe=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$maxKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MaxKey()"},e}();t.MaxKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MaxKey"})}));s(Xe);Xe.MaxKey;var Ze=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;var n=function(){function e(){if(!(this instanceof e))return new e}return e.prototype.toExtendedJSON=function(){return{$minKey:1}},e.fromExtendedJSON=function(){return new e},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new MinKey()"},e}();t.MinKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MinKey"})}));s(Ze);Ze.MinKey;var et=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;for(var n=Fe.randomBytes(5),r=new RegExp("^[0-9a-fA-F]{24}$"),i=[],o=0;o<256;o++)i[o]=(o<=15?"0":"")+o.toString(16);var s=[],a=0;while(a<10)s[48+a]=a++;while(a<16)s[55+a]=s[87+a]=a++;var u=Symbol("id"),c=function(){function e(t){if(!(this instanceof e))return new e(t);if(t instanceof e&&(this[u]=t.id,this.__id=t.__id),"object"===typeof t&&t&&"id"in t&&("toHexString"in t&&"function"===typeof t.toHexString?this[u]=N.Buffer.from(t.toHexString(),"hex"):this[u]="string"===typeof t.id?N.Buffer.from(t.id):t.id),null!=t&&"number"!==typeof t||(this[u]=e.generate("number"===typeof t?t:void 0),e.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(t)&&12===t.byteLength&&(this[u]=qe.ensureBuffer(t)),"string"===typeof t)if(12===t.length){var n=N.Buffer.from(t);12===n.byteLength&&(this[u]=n)}else{if(24!==t.length||!r.test(t))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[u]=N.Buffer.from(t,"hex")}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(e.prototype,"id",{get:function(){return this[u]},set:function(t){this[u]=t,e.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t},e.getInc=function(){return e.index=(e.index+1)%16777215},e.generate=function(t){"number"!==typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),i=N.Buffer.alloc(12);return i.writeUInt32BE(t,0),i[4]=n[0],i[5]=n[1],i[6]=n[2],i[7]=n[3],i[8]=n[4],i[11]=255&r,i[10]=r>>8&255,i[9]=r>>16&255,i},e.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(t){return void 0!==t&&null!==t&&(t instanceof e?this.toString()===t.toString():"string"===typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof N.Buffer?t===this.id.toString("binary"):"string"===typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"===typeof t&&e.isValid(t)&&12===t.length?N.Buffer.from(t).equals(this.id):"object"===typeof t&&"toHexString"in t&&"function"===typeof t.toHexString&&t.toHexString()===this.toHexString())},e.prototype.getTimestamp=function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e},e.createPk=function(){return new e},e.createFromTime=function(t){var n=N.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)},e.createFromHexString=function(t){if("undefined"===typeof t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(N.Buffer.from(t,"hex"))},e.isValid=function(t){return null!=t&&("number"===typeof t||("string"===typeof t?12===t.length||24===t.length&&r.test(t):t instanceof e||(t instanceof N.Buffer&&12===t.length||"object"===typeof t&&"toHexString"in t&&"function"===typeof t.toHexString&&("string"===typeof t.id?12===t.id.length:24===t.toHexString().length&&r.test(t.id.toString("hex"))))))},e.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},e.fromExtendedJSON=function(t){return new e(t.$oid)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},e.index=~~(16777215*Math.random()),e}();t.ObjectId=c,Object.defineProperty(c.prototype,"generate",{value:Fe.deprecate((function(e){return c.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(c.prototype,"getInc",{value:Fe.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"get_inc",{value:Fe.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c,"get_inc",{value:Fe.deprecate((function(){return c.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(c.prototype,"_bsontype",{value:"ObjectID"})}));s(et);et.ObjectId;var tt=a((function(e,t){function n(e){return e.split("").sort().join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;var r=function(){function e(t,r){if(!(this instanceof e))return new e(t,r);this.pattern=t,this.options=null!==r&&void 0!==r?r:"",n(this.options);for(var i=0;i<this.options.length;i++)if("i"!==this.options[i]&&"m"!==this.options[i]&&"x"!==this.options[i]&&"l"!==this.options[i]&&"s"!==this.options[i]&&"u"!==this.options[i])throw new Error("The regular expression option ["+this.options[i]+"] is not supported")}return e.parseOptions=function(e){return e?e.split("").sort().join(""):""},e.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},e.fromExtendedJSON=function(t){if("$regex"in t){if("string"===typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},e}();t.BSONRegExp=r,Object.defineProperty(r.prototype,"_bsontype",{value:"BSONRegExp"})}));s(tt);tt.BSONRegExp;var nt=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;var n=function(){function e(t){if(!(this instanceof e))return new e(t);this.value=t}return e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return this.value},e.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},e.prototype.toJSON=function(){return this.value},e.prototype.toExtendedJSON=function(){return{$symbol:this.value}},e.fromExtendedJSON=function(t){return new e(t.$symbol)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e}();t.BSONSymbol=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Symbol"})}));s(nt);nt.BSONSymbol;var rt=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=He.Long;var n=function(e){function t(n,r){var i=this;return i instanceof t?(i=He.Long.isLong(n)?e.call(this,n.low,n.high,!0)||this:e.call(this,n,r,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new t(n,r)}return ee.__extends(t,e),t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(He.Long.fromInt(e,!0))},t.fromNumber=function(e){return new t(He.Long.fromNumber(e,!0))},t.fromBits=function(e,n){return new t(e,n)},t.fromString=function(e,n){return new t(He.Long.fromString(e,!0,n))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp.i,e.$timestamp.t)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp("+this.getLowBits().toString()+", "+this.getHighBits().toString()+")"},t.MAX_VALUE=He.Long.MAX_UNSIGNED_VALUE,t}(t.LongWithoutOverridesClass);t.Timestamp=n}));s(rt);rt.Timestamp,rt.LongWithoutOverridesClass;var it=a((function(e,t){function n(e){return Fe.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"===typeof e._bsontype}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=n;var r=2147483647,i=-2147483648,o=0x8000000000000000,s=-0x8000000000000000,a={$oid:et.ObjectId,$binary:We.Binary,$uuid:We.Binary,$symbol:nt.BSONSymbol,$numberInt:Qe.Int32,$numberDecimal:Je.Decimal128,$numberDouble:ze.Double,$numberLong:He.Long,$minKey:Ze.MinKey,$maxKey:Xe.MaxKey,$regex:tt.BSONRegExp,$regularExpression:tt.BSONRegExp,$timestamp:rt.Timestamp};function u(e,t){if(void 0===t&&(t={}),"number"===typeof e){if(t.relaxed||t.legacy)return e;if(Math.floor(e)===e){if(e>=i&&e<=r)return new Qe.Int32(e);if(e>=s&&e<=o)return He.Long.fromNumber(e)}return new ze.Double(e)}if(null==e||"object"!==typeof e)return e;if(e.$undefined)return null;for(var n=Object.keys(e).filter((function(t){return t.startsWith("$")&&null!=e[t]})),c=0;c<n.length;c++){var l=a[n[c]];if(l)return l.fromExtendedJSON(e,t)}if(null!=e.$date){var f=e.$date,d=new Date;return t.legacy?"number"===typeof f?d.setTime(f):"string"===typeof f&&d.setTime(Date.parse(f)):"string"===typeof f?d.setTime(Date.parse(f)):He.Long.isLong(f)?d.setTime(f.toNumber()):"number"===typeof f&&t.relaxed&&d.setTime(f),d}if(null!=e.$code){var p=Object.assign({},e);return e.$scope&&(p.$scope=u(e.$scope)),Ve.Code.fromExtendedJSON(e)}if(null!=e.$ref||null!=e.$dbPointer){var h=e.$ref?e:e.$dbPointer;if(h instanceof Ke.DBRef)return h;var _=Object.keys(h).filter((function(e){return e.startsWith("$")})),y=!0;if(_.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(y=!1)})),y)return Ke.DBRef.fromExtendedJSON(h)}return e}function c(e,t){return e.map((function(e){return f(e,t)}))}function l(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function f(e,t){if(Array.isArray(e))return c(e,t);if(void 0===e)return null;if(e instanceof Date){var n=e.getTime(),a=n>-1&&n<2534023188e5;return t.legacy?t.relaxed&&a?{$date:e.getTime()}:{$date:l(e)}:t.relaxed&&a?{$date:l(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"===typeof e&&!t.relaxed){if(Math.floor(e)===e){var u=e>=i&&e<=r,f=e>=s&&e<=o;if(u)return{$numberInt:e.toString()};if(f)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var d=e.flags;if(void 0===d){var h=e.toString().match(/[gimuy]*$/);h&&(d=h[0])}var _=new tt.BSONRegExp(e.source,d);return _.toExtendedJSON(t)}return null!=e&&"object"===typeof e?p(e,t):e}var d={Binary:function(e){return new We.Binary(e.value(),e.sub_type)},Code:function(e){return new Ve.Code(e.code,e.scope)},DBRef:function(e){return new Ke.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new Je.Decimal128(e.bytes)},Double:function(e){return new ze.Double(e.value)},Int32:function(e){return new Qe.Int32(e.value)},Long:function(e){return He.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new Xe.MaxKey},MinKey:function(){return new Ze.MinKey},ObjectID:function(e){return new et.ObjectId(e)},ObjectId:function(e){return new et.ObjectId(e)},BSONRegExp:function(e){return new tt.BSONRegExp(e.pattern,e.options)},Symbol:function(e){return new nt.BSONSymbol(e.value)},Timestamp:function(e){return rt.Timestamp.fromBits(e.low,e.high)}};function p(e,t){if(null==e||"object"!==typeof e)throw new Error("not an object instance");var r=e._bsontype;if("undefined"===typeof r){var i={};for(var o in e)i[o]=f(e[o],t);return i}if(n(e)){var s=e;if("function"!==typeof s.toExtendedJSON){var a=d[e._bsontype];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);s=a(s)}return"Code"===r&&s.scope?s=new Ve.Code(s.code,f(s.scope,t)):"DBRef"===r&&s.oid&&(s=new Ke.DBRef(s.collection,f(s.oid,t),s.db,s.fields)),s.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+typeof r)}(function(e){function t(e,t){var n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"===typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"===typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(function(e,t){return u(t,n)}))}function n(e,t,n,r){null!=n&&"object"===typeof n&&(r=n,n=0),null==t||"object"!==typeof t||Array.isArray(t)||(r=t,t=void 0,n=0),r=Object.assign({},{relaxed:!0,legacy:!1},r);var i=f(e,r);return JSON.stringify(i,t,n)}function r(e,t){return t=t||{},JSON.parse(n(e,t))}function i(e,n){return n=n||{},t(JSON.stringify(e),n)}e.parse=t,e.stringify=n,e.serialize=r,e.deserialize=i})(t.EJSON||(t.EJSON={}))}));s(it);it.EJSON,it.isBSONType;var ot=a((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=n;var r=function(e){return e&&e.Math==Math&&e};function i(){return r("object"===typeof globalThis&&globalThis)||r("object"===typeof window&&window)||r("object"===typeof self&&self)||r("object"===typeof o&&o)||Function("return this")()}var s=i();Object.prototype.hasOwnProperty.call(s,"Map")?t.Map=n=s.Map:t.Map=n=function(){function e(e){void 0===e&&(e=[]),this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}}return e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},e.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},e.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},e.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},e.prototype.has=function(e){return null!=this._values[e]},e.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},e.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},e.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),e}()}));s(ot);ot.Map;var st=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128}));s(st);st.BSON_BINARY_SUBTYPE_USER_DEFINED,st.BSON_BINARY_SUBTYPE_MD5,st.BSON_BINARY_SUBTYPE_UUID_NEW,st.BSON_BINARY_SUBTYPE_UUID,st.BSON_BINARY_SUBTYPE_BYTE_ARRAY,st.BSON_BINARY_SUBTYPE_FUNCTION,st.BSON_BINARY_SUBTYPE_DEFAULT,st.BSON_DATA_MAX_KEY,st.BSON_DATA_MIN_KEY,st.BSON_DATA_DECIMAL128,st.BSON_DATA_LONG,st.BSON_DATA_TIMESTAMP,st.BSON_DATA_INT,st.BSON_DATA_CODE_W_SCOPE,st.BSON_DATA_SYMBOL,st.BSON_DATA_CODE,st.BSON_DATA_DBPOINTER,st.BSON_DATA_REGEXP,st.BSON_DATA_NULL,st.BSON_DATA_DATE,st.BSON_DATA_BOOLEAN,st.BSON_DATA_OID,st.BSON_DATA_UNDEFINED,st.BSON_DATA_BINARY,st.BSON_DATA_ARRAY,st.BSON_DATA_OBJECT,st.BSON_DATA_STRING,st.BSON_DATA_NUMBER,st.JS_INT_MIN,st.JS_INT_MAX,st.BSON_INT64_MIN,st.BSON_INT64_MAX,st.BSON_INT32_MIN,st.BSON_INT32_MAX;var at=a((function(e,t){function n(e,t,n){var i=5;if(Array.isArray(e))for(var o=0;o<e.length;o++)i+=r(o.toString(),e[o],t,!0,n);else for(var s in e.toBSON&&(e=e.toBSON()),e)i+=r(s,e[s],t,!1,n);return i}function r(e,t,r,i,o){switch(void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),t&&t.toBSON&&(t=t.toBSON()),typeof t){case"string":return 1+N.Buffer.byteLength(e,"utf8")+1+4+N.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=st.JS_INT_MIN&&t<=st.JS_INT_MAX&&t>=st.BSON_INT32_MIN&&t<=st.BSON_INT32_MAX?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return i||!o?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t["_bsontype"]||"MaxKey"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t["_bsontype"]||"ObjectID"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||Fe.isDate(t))return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t["_bsontype"]||"Double"===t["_bsontype"]||"Timestamp"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t["_bsontype"])return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+N.Buffer.byteLength(t.code.toString(),"utf8")+1+n(t.scope,r,o):(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+N.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t["_bsontype"])return t.sub_type===We.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t["_bsontype"])return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+N.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t["_bsontype"]){var s=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(s["$db"]=t.db),(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+n(s,r,o)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+N.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t["_bsontype"]?(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+N.Buffer.byteLength(t.pattern,"utf8")+1+N.Buffer.byteLength(t.options,"utf8")+1:(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+n(t,r,o)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+N.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+N.Buffer.byteLength(Fe.normalizedFunctionString(t),"utf8")+1+n(t.scope,r,o);if(r)return(null!=e?N.Buffer.byteLength(e,"utf8")+1:0)+1+4+N.Buffer.byteLength(Fe.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=n}));s(at);at.calculateObjectSize;var ut=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0;var n=128,r=192,i=224,o=240,s=248,a=192,u=224,c=240,l=128;function f(e,t,f){for(var d=0,p=t;p<f;p+=1){var h=e[p];if(d){if((h&r)!==l)return!1;d-=1}else if(h&n)if((h&i)===a)d=1;else if((h&o)===u)d=2;else{if((h&s)!==c)return!1;d=3}}return!d}t.validateUtf8=f}));s(ut);ut.validateUtf8;var ct=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var n=He.Long.fromNumber(st.JS_INT_MAX),r=He.Long.fromNumber(st.JS_INT_MIN),i={};function o(e,t,n){t=null==t?{}:t;var r=t&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is "+i);if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error("buffer length "+e.length+" must be >= bson size "+i);if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error("buffer length "+e.length+" must === bson size "+i);if(i+r>e.byteLength)throw new Error("(bson size "+i+" + options.index "+r+" must be <= buffer length "+e.byteLength+")");if(0!==e[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return s(e,r,t,n)}function s(e,t,o,u){void 0===u&&(u=!1);var c=null!=o["evalFunctions"]&&o["evalFunctions"],l=null!=o["cacheFunctions"]&&o["cacheFunctions"],f=null==o["fieldsAsRaw"]?null:o["fieldsAsRaw"],d=null!=o["raw"]&&o["raw"],p="boolean"===typeof o["bsonRegExp"]&&o["bsonRegExp"],h=null!=o["promoteBuffers"]&&o["promoteBuffers"],_=null==o["promoteLongs"]||o["promoteLongs"],y=null==o["promoteValues"]||o["promoteValues"],g=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var v=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(v<5||v>e.length)throw new Error("corrupt bson message");var m=u?[]:{},b=0,w=!1;while(!w){var E=e[t++];if(0===E)break;var S=t;while(0!==e[S]&&S<e.length)S++;if(S>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");var O=u?b++:e.toString("utf8",t,S);if(t=S+1,E===st.BSON_DATA_STRING){var A=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(A<=0||A>e.length-t||0!==e[t+A-1])throw new Error("bad string length in bson");if(!ut.validateUtf8(e,t,t+A-1))throw new Error("Invalid UTF-8 string in BSON document");var T=e.toString("utf8",t,t+A-1);m[O]=T,t+=A}else if(E===st.BSON_DATA_OID){var I=N.Buffer.alloc(12);e.copy(I,0,t,t+12),m[O]=new et.ObjectId(I),t+=12}else if(E===st.BSON_DATA_INT&&!1===y)m[O]=new Qe.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(E===st.BSON_DATA_INT)m[O]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(E===st.BSON_DATA_NUMBER&&!1===y)m[O]=new ze.Double(e.readDoubleLE(t)),t+=8;else if(E===st.BSON_DATA_NUMBER)m[O]=e.readDoubleLE(t),t+=8;else if(E===st.BSON_DATA_DATE){var R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;m[O]=new Date(new He.Long(R,P).toNumber())}else if(E===st.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");m[O]=1===e[t++]}else if(E===st.BSON_DATA_OBJECT){var C=t,L=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(L<=0||L>e.length-t)throw new Error("bad embedded document length in bson");m[O]=d?e.slice(t,t+L):s(e,C,o,!1),t+=L}else if(E===st.BSON_DATA_ARRAY){C=t,L=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;var D=o,B=t+L;if(f&&f[O]){for(var M in D={},o)D[M]=o[M];D["raw"]=!0}if(m[O]=s(e,C,D,!0),t+=L,0!==e[t-1])throw new Error("invalid array terminator byte");if(t!==B)throw new Error("corrupted array bson")}else if(E===st.BSON_DATA_UNDEFINED)m[O]=void 0;else if(E===st.BSON_DATA_NULL)m[O]=null;else if(E===st.BSON_DATA_LONG){R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var x=new He.Long(R,P);m[O]=_&&!0===y&&x.lessThanOrEqual(n)&&x.greaterThanOrEqual(r)?x.toNumber():x}else if(E===st.BSON_DATA_DECIMAL128){var j=N.Buffer.alloc(16);e.copy(j,0,t,t+16),t+=16;var k=new Je.Decimal128(j);"toObject"in k&&"function"===typeof k.toObject?m[O]=k.toObject():m[O]=k}else if(E===st.BSON_DATA_BINARY){var U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,$=U,Y=e[t++];if(U<0)throw new Error("Negative binary type element size found");if(U>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e["slice"]){if(Y===We.Binary.SUBTYPE_BYTE_ARRAY){if(U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,U<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>$-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(U<$-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}m[O]=h&&y?e.slice(t,t+U):new We.Binary(e.slice(t,t+U),Y)}else{var F=N.Buffer.alloc(U);if(Y===We.Binary.SUBTYPE_BYTE_ARRAY){if(U=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,U<0)throw new Error("Negative binary type element size found for subtype 0x02");if(U>$-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(U<$-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(S=0;S<U;S++)F[S]=e[t+S];m[O]=h&&y?F:new We.Binary(F,Y)}t+=U}else if(E===st.BSON_DATA_REGEXP&&!1===p){S=t;while(0!==e[S]&&S<e.length)S++;if(S>=e.length)throw new Error("Bad BSON Document: illegal CString");var q=e.toString("utf8",t,S);t=S+1,S=t;while(0!==e[S]&&S<e.length)S++;if(S>=e.length)throw new Error("Bad BSON Document: illegal CString");var G=e.toString("utf8",t,S);t=S+1;var W=new Array(G.length);for(S=0;S<G.length;S++)switch(G[S]){case"m":W[S]="m";break;case"s":W[S]="g";break;case"i":W[S]="i";break}m[O]=new RegExp(q,W.join(""))}else if(E===st.BSON_DATA_REGEXP&&!0===p){S=t;while(0!==e[S]&&S<e.length)S++;if(S>=e.length)throw new Error("Bad BSON Document: illegal CString");q=e.toString("utf8",t,S);t=S+1,S=t;while(0!==e[S]&&S<e.length)S++;if(S>=e.length)throw new Error("Bad BSON Document: illegal CString");G=e.toString("utf8",t,S);t=S+1,m[O]=new tt.BSONRegExp(q,G)}else if(E===st.BSON_DATA_SYMBOL){A=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(A<=0||A>e.length-t||0!==e[t+A-1])throw new Error("bad string length in bson");var V=e.toString("utf8",t,t+A-1);m[O]=y?V:new nt.BSONSymbol(V),t+=A}else if(E===st.BSON_DATA_TIMESTAMP){R=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;m[O]=new rt.Timestamp(R,P)}else if(E===st.BSON_DATA_MIN_KEY)m[O]=new Ze.MinKey;else if(E===st.BSON_DATA_MAX_KEY)m[O]=new Xe.MaxKey;else if(E===st.BSON_DATA_CODE){A=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(A<=0||A>e.length-t||0!==e[t+A-1])throw new Error("bad string length in bson");var K=e.toString("utf8",t,t+A-1);m[O]=c?l?a(K,i,m):a(K):new Ve.Code(K),t+=A}else if(E===st.BSON_DATA_CODE_W_SCOPE){var H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(H<13)throw new Error("code_w_scope total size shorter minimum expected length");A=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(A<=0||A>e.length-t||0!==e[t+A-1])throw new Error("bad string length in bson");K=e.toString("utf8",t,t+A-1);t+=A;C=t,L=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;var J=s(e,C,o,!1);if(t+=L,H<8+L+A)throw new Error("code_w_scope total size is too short, truncating scope");if(H>8+L+A)throw new Error("code_w_scope total size is too long, clips outer document");c?(m[O]=l?a(K,i,m):a(K),m[O].scope=J):m[O]=new Ve.Code(K,J)}else{if(E!==st.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+E.toString(16)+' for fieldname "'+O+'"');A=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(A<=0||A>e.length-t||0!==e[t+A-1])throw new Error("bad string length in bson");if(!ut.validateUtf8(e,t,t+A-1))throw new Error("Invalid UTF-8 string in BSON document");var z=e.toString("utf8",t,t+A-1);t+=A;var Q=N.Buffer.alloc(12);e.copy(Q,0,t,t+12);I=new et.ObjectId(Q);t+=12,m[O]=new Ke.DBRef(z,I)}}if(v!==t-g){if(u)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var X=Object.keys(m).filter((function(e){return e.startsWith("$")})),Z=!0;if(X.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(Z=!1)})),!Z)return m;if(Ke.isDBRefLike(m)){var ee=Object.assign({},m);return delete ee.$ref,delete ee.$id,delete ee.$db,new Ke.DBRef(m.$ref,m.$id,m.$db,ee)}return m}function a(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}t.deserialize=o}));s(ct);ct.deserialize;var lt=a((function(e,t){function n(e,t,n,r,i){var o,s,a="big"===n,u=8*i-r-1,c=(1<<u)-1,l=c>>1,f=-7,d=a?0:i-1,p=a?1:-1,h=e[t+d];for(d+=p,o=h&(1<<-f)-1,h>>=-f,f+=u;f>0;o=256*o+e[t+d],d+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+e[t+d],d+=p,f-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=l}return(h?-1:1)*s*Math.pow(2,o-r)}function r(e,t,n,r,i,o){var s,a,u,c="big"===r,l=8*o-i-1,f=(1<<l)-1,d=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=c?o-1:0,_=c?-1:1,y=t<0||0===t&&1/t<0?1:0;t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+d>=1?p/u:p*Math.pow(2,1-d),t*u>=2&&(s++,u/=2),s+d>=f?(a=0,s=f):s+d>=1?(a=(t*u-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0)),isNaN(t)&&(a=0);while(i>=8)e[n+h]=255&a,h+=_,a/=256,i-=8;s=s<<i|a,isNaN(t)&&(s+=8),l+=i;while(l>0)e[n+h]=255&s,h+=_,s/=256,l-=8;e[n+h-_]|=128*y}Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=n,t.writeIEEE754=r}));s(lt);lt.writeIEEE754,lt.readIEEE754;var ft=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;var n=/\x00/,r=new Set(["$db","$ref","$id","$clusterTime"]);function i(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function o(e,t,n,r,i){e[r++]=st.BSON_DATA_STRING;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r=r+o+1,e[r-1]=0;var s=e.write(n,r+4,void 0,"utf8");return e[r+3]=s+1>>24&255,e[r+2]=s+1>>16&255,e[r+1]=s+1>>8&255,e[r]=s+1&255,r=r+4+s,e[r++]=0,r}function s(e,t,n,r,i){if(Number.isInteger(n)&&n>=st.BSON_INT32_MIN&&n<=st.BSON_INT32_MAX){e[r++]=st.BSON_DATA_INT;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255}else{e[r++]=st.BSON_DATA_NUMBER;o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0,lt.writeIEEE754(e,n,r,"little",52,8),r+=8}return r}function a(e,t,n,r,i){e[r++]=st.BSON_DATA_NULL;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,r}function u(e,t,n,r,i){e[r++]=st.BSON_DATA_BOOLEAN;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,e[r++]=n?1:0,r}function c(e,t,n,r,i){e[r++]=st.BSON_DATA_DATE;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;var s=He.Long.fromNumber(n.getTime()),a=s.getLowBits(),u=s.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&u,e[r++]=u>>8&255,e[r++]=u>>16&255,e[r++]=u>>24&255,r}function l(e,t,r,i,o){e[i++]=st.BSON_DATA_REGEXP;var s=o?e.write(t,i,void 0,"ascii"):e.write(t,i,void 0,"utf8");if(i+=s,e[i++]=0,r.source&&null!=r.source.match(n))throw Error("value "+r.source+" must not contain null bytes");return i+=e.write(r.source,i,void 0,"utf8"),e[i++]=0,r.ignoreCase&&(e[i++]=105),r.global&&(e[i++]=115),r.multiline&&(e[i++]=109),e[i++]=0,i}function f(e,t,r,i,o){e[i++]=st.BSON_DATA_REGEXP;var s=o?e.write(t,i,void 0,"ascii"):e.write(t,i,void 0,"utf8");if(i+=s,e[i++]=0,null!=r.pattern.match(n))throw Error("pattern "+r.pattern+" must not contain null bytes");return i+=e.write(r.pattern,i,void 0,"utf8"),e[i++]=0,i+=e.write(r.options.split("").sort().join(""),i,void 0,"utf8"),e[i++]=0,i}function d(e,t,n,r,i){null===n?e[r++]=st.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=st.BSON_DATA_MIN_KEY:e[r++]=st.BSON_DATA_MAX_KEY;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,r}function p(e,t,n,r,i){e[r++]=st.BSON_DATA_OID;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");if(r+=o,e[r++]=0,"string"===typeof n.id)e.write(n.id,r,void 0,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function h(e,t,n,r,i){e[r++]=st.BSON_DATA_BINARY;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;var s=n.length;return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=st.BSON_BINARY_SUBTYPE_DEFAULT,e.set(qe.ensureBuffer(n),r),r+=s,r}function _(e,t,n,r,i,o,s,a,u,c){void 0===i&&(i=!1),void 0===o&&(o=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),void 0===c&&(c=[]);for(var l=0;l<c.length;l++)if(c[l]===n)throw new Error("cyclic dependency detected");c.push(n),e[r++]=Array.isArray(n)?st.BSON_DATA_ARRAY:st.BSON_DATA_OBJECT;var f=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=f,e[r++]=0;var d=A(e,n,i,r,o+1,s,a,c);return c.pop(),d}function y(e,t,n,r,i){e[r++]=st.BSON_DATA_DECIMAL128;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function g(e,t,n,r,i){e[r++]="Long"===n._bsontype?st.BSON_DATA_LONG:st.BSON_DATA_TIMESTAMP;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;var s=n.getLowBits(),a=n.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function v(e,t,n,r,i){n=n.valueOf(),e[r++]=st.BSON_DATA_INT;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function m(e,t,n,r,i){e[r++]=st.BSON_DATA_NUMBER;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");return r+=o,e[r++]=0,lt.writeIEEE754(e,n.value,r,"little",52,8),r+=8,r}function b(e,t,n,r,i,o,s){e[r++]=st.BSON_DATA_CODE;var a=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=a,e[r++]=0;var u=Fe.normalizedFunctionString(n),c=e.write(u,r+4,void 0,"utf8")+1;return e[r]=255&c,e[r+1]=c>>8&255,e[r+2]=c>>16&255,e[r+3]=c>>24&255,r=r+4+c-1,e[r++]=0,r}function w(e,t,n,r,i,o,s,a,u){if(void 0===i&&(i=!1),void 0===o&&(o=0),void 0===s&&(s=!1),void 0===a&&(a=!0),void 0===u&&(u=!1),n.scope&&"object"===typeof n.scope){e[r++]=st.BSON_DATA_CODE_W_SCOPE;var c=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=c,e[r++]=0;var l=r,f="string"===typeof n.code?n.code:n.code.toString();r+=4;var d=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&d,e[r+1]=d>>8&255,e[r+2]=d>>16&255,e[r+3]=d>>24&255,e[r+4+d-1]=0,r=r+d+4;var p=A(e,n.scope,i,r,o+1,s,a);r=p-1;var h=p-l;e[l++]=255&h,e[l++]=h>>8&255,e[l++]=h>>16&255,e[l++]=h>>24&255,e[r++]=0}else{e[r++]=st.BSON_DATA_CODE;c=u?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=c,e[r++]=0;f=n.code.toString();var _=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&_,e[r+1]=_>>8&255,e[r+2]=_>>16&255,e[r+3]=_>>24&255,r=r+4+_-1,e[r++]=0}return r}function E(e,t,n,r,i){e[r++]=st.BSON_DATA_BINARY;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;var s=n.value(!0),a=n.position;return n.sub_type===We.Binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===We.Binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),e.set(s,r),r+=n.position,r}function S(e,t,n,r,i){e[r++]=st.BSON_DATA_SYMBOL;var o=i?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=o,e[r++]=0;var s=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=255&s,e[r+1]=s>>8&255,e[r+2]=s>>16&255,e[r+3]=s>>24&255,r=r+4+s-1,e[r++]=0,r}function O(e,t,n,r,i,o,s){e[r++]=st.BSON_DATA_OBJECT;var a=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=a,e[r++]=0;var u=r,c={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(c.$db=n.db),c=Object.assign(c,n.fields);var l=A(e,c,!1,r,i+1,o),f=l-u;return e[u++]=255&f,e[u++]=f>>8&255,e[u++]=f>>16&255,e[u++]=f>>24&255,l}function A(e,t,A,T,I,N,R,P){void 0===A&&(A=!1),void 0===T&&(T=0),void 0===I&&(I=0),void 0===N&&(N=!1),void 0===R&&(R=!0),void 0===P&&(P=[]),T=T||0,P=P||[],P.push(t);var C=T+4;if(Array.isArray(t))for(var L=0;L<t.length;L++){var D=""+L,B=t[L];if(B&&B.toBSON){if("function"!==typeof B.toBSON)throw new TypeError("toBSON is not a function");B=B.toBSON()}if("string"===typeof B)C=o(e,D,B,C,!0);else if("number"===typeof B)C=s(e,D,B,C,!0);else{if("bigint"===typeof B)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===typeof B)C=u(e,D,B,C,!0);else if(B instanceof Date||Fe.isDate(B))C=c(e,D,B,C,!0);else if(void 0===B)C=a(e,D,B,C,!0);else if(null===B)C=a(e,D,B,C,!0);else if("ObjectId"===B["_bsontype"]||"ObjectID"===B["_bsontype"])C=p(e,D,B,C,!0);else if(Fe.isBuffer(B)||Fe.isUint8Array(B))C=h(e,D,B,C,!0);else if(B instanceof RegExp||i(B))C=l(e,D,B,C,!0);else if("object"===typeof B&&null==B["_bsontype"])C=_(e,D,B,C,A,I,N,R,!0,P);else if("object"===typeof B&&it.isBSONType(B)&&"Decimal128"===B._bsontype)C=y(e,D,B,C,!0);else if("Long"===B["_bsontype"]||"Timestamp"===B["_bsontype"])C=g(e,D,B,C,!0);else if("Double"===B["_bsontype"])C=m(e,D,B,C,!0);else if("function"===typeof B&&N)C=b(e,D,B,C,A,I,!0);else if("Code"===B["_bsontype"])C=w(e,D,B,C,A,I,N,R,!0);else if("Binary"===B["_bsontype"])C=E(e,D,B,C,!0);else if("Symbol"===B["_bsontype"])C=S(e,D,B,C,!0);else if("DBRef"===B["_bsontype"])C=O(e,D,B,C,I,N,!0);else if("BSONRegExp"===B["_bsontype"])C=f(e,D,B,C,!0);else if("Int32"===B["_bsontype"])C=v(e,D,B,C,!0);else if("MinKey"===B["_bsontype"]||"MaxKey"===B["_bsontype"])C=d(e,D,B,C,!0);else if("undefined"!==typeof B["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+B["_bsontype"])}}else if(t instanceof ot.Map){var M=t.entries(),x=!1;while(!x){var j=M.next();if(x=!!j.done,!x){D=j.value[0],B=j.value[1];var k=typeof B;if("string"===typeof D&&!r.has(D)){if(null!=D.match(n))throw Error("key "+D+" must not contain null bytes");if(A){if("$"===D[0])throw Error("key "+D+" must not start with '$'");if(~D.indexOf("."))throw Error("key "+D+" must not contain '.'")}}if("string"===k)C=o(e,D,B,C);else if("number"===k)C=s(e,D,B,C);else{if("bigint"===k||Fe.isBigInt64Array(B)||Fe.isBigUInt64Array(B))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===k)C=u(e,D,B,C);else if(B instanceof Date||Fe.isDate(B))C=c(e,D,B,C);else if(null===B||void 0===B&&!1===R)C=a(e,D,B,C);else if("ObjectId"===B["_bsontype"]||"ObjectID"===B["_bsontype"])C=p(e,D,B,C);else if(Fe.isBuffer(B)||Fe.isUint8Array(B))C=h(e,D,B,C);else if(B instanceof RegExp||i(B))C=l(e,D,B,C);else if("object"===k&&null==B["_bsontype"])C=_(e,D,B,C,A,I,N,R,!1,P);else if("object"===k&&"Decimal128"===B["_bsontype"])C=y(e,D,B,C);else if("Long"===B["_bsontype"]||"Timestamp"===B["_bsontype"])C=g(e,D,B,C);else if("Double"===B["_bsontype"])C=m(e,D,B,C);else if("Code"===B["_bsontype"])C=w(e,D,B,C,A,I,N,R);else if("function"===typeof B&&N)C=b(e,D,B,C,A,I,N);else if("Binary"===B["_bsontype"])C=E(e,D,B,C);else if("Symbol"===B["_bsontype"])C=S(e,D,B,C);else if("DBRef"===B["_bsontype"])C=O(e,D,B,C,I,N);else if("BSONRegExp"===B["_bsontype"])C=f(e,D,B,C);else if("Int32"===B["_bsontype"])C=v(e,D,B,C);else if("MinKey"===B["_bsontype"]||"MaxKey"===B["_bsontype"])C=d(e,D,B,C);else if("undefined"!==typeof B["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+B["_bsontype"])}}}}else{if(t.toBSON){if("function"!==typeof t.toBSON)throw new TypeError("toBSON is not a function");if(t=t.toBSON(),null!=t&&"object"!==typeof t)throw new TypeError("toBSON function did not return an object")}for(var D in t){B=t[D];if(B&&B.toBSON){if("function"!==typeof B.toBSON)throw new TypeError("toBSON is not a function");B=B.toBSON()}k=typeof B;if("string"===typeof D&&!r.has(D)){if(null!=D.match(n))throw Error("key "+D+" must not contain null bytes");if(A){if("$"===D[0])throw Error("key "+D+" must not start with '$'");if(~D.indexOf("."))throw Error("key "+D+" must not contain '.'")}}if("string"===k)C=o(e,D,B,C);else if("number"===k)C=s(e,D,B,C);else{if("bigint"===k)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===k)C=u(e,D,B,C);else if(B instanceof Date||Fe.isDate(B))C=c(e,D,B,C);else if(void 0===B)!1===R&&(C=a(e,D,B,C));else if(null===B)C=a(e,D,B,C);else if("ObjectId"===B["_bsontype"]||"ObjectID"===B["_bsontype"])C=p(e,D,B,C);else if(Fe.isBuffer(B)||Fe.isUint8Array(B))C=h(e,D,B,C);else if(B instanceof RegExp||i(B))C=l(e,D,B,C);else if("object"===k&&null==B["_bsontype"])C=_(e,D,B,C,A,I,N,R,!1,P);else if("object"===k&&"Decimal128"===B["_bsontype"])C=y(e,D,B,C);else if("Long"===B["_bsontype"]||"Timestamp"===B["_bsontype"])C=g(e,D,B,C);else if("Double"===B["_bsontype"])C=m(e,D,B,C);else if("Code"===B["_bsontype"])C=w(e,D,B,C,A,I,N,R);else if("function"===typeof B&&N)C=b(e,D,B,C,A,I,N);else if("Binary"===B["_bsontype"])C=E(e,D,B,C);else if("Symbol"===B["_bsontype"])C=S(e,D,B,C);else if("DBRef"===B["_bsontype"])C=O(e,D,B,C,I,N);else if("BSONRegExp"===B["_bsontype"])C=f(e,D,B,C);else if("Int32"===B["_bsontype"])C=v(e,D,B,C);else if("MinKey"===B["_bsontype"]||"MaxKey"===B["_bsontype"])C=d(e,D,B,C);else if("undefined"!==typeof B["_bsontype"])throw new TypeError("Unrecognized or invalid _bsontype: "+B["_bsontype"])}}}P.pop(),e[C++]=0;var U=C-T;return e[T++]=255&U,e[T++]=U>>8&255,e[T++]=U>>16&255,e[T++]=U>>24&255,C}t.serializeInto=A}));s(ft);ft.serializeInto;var dt=a((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return We.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return Ve.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return Ke.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return Je.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return ze.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return Qe.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return He.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return ot.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return Xe.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return Ze.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return et.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return et.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return tt.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return nt.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return rt.Timestamp}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return st.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return st.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return st.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return st.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return st.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return st.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return st.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return st.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return st.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return st.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return st.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return st.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return st.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return st.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return st.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return st.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return st.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return st.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return st.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return st.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return st.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return st.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return st.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return st.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return st.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return st.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return st.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return st.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return st.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return st.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return st.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return st.BSON_INT64_MIN}});var n=it;Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return n.EJSON}});var r=rt;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return r.LongWithoutOverridesClass}});var i=17825792,o=N.Buffer.alloc(i);function s(e){o.length<e&&(o=N.Buffer.alloc(e))}function a(e,t){void 0===t&&(t={});var n="boolean"===typeof t.checkKeys&&t.checkKeys,r="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,s="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined,a="number"===typeof t.minInternalBufferSize?t.minInternalBufferSize:i;o.length<a&&(o=N.Buffer.alloc(a));var u=ft.serializeInto(o,e,n,0,0,r,s,[]),c=N.Buffer.alloc(u);return o.copy(c,0,0,c.length),c}function u(e,t,n){void 0===n&&(n={});var r="boolean"===typeof n.checkKeys&&n.checkKeys,i="boolean"===typeof n.serializeFunctions&&n.serializeFunctions,s="boolean"!==typeof n.ignoreUndefined||n.ignoreUndefined,a="number"===typeof n.index?n.index:0,u=ft.serializeInto(o,e,r,0,0,i,s);return o.copy(t,a,0,u),a+u-1}function c(e,t){return void 0===t&&(t={}),ct.deserialize(qe.ensureBuffer(e),t)}function l(e,t){void 0===t&&(t={}),t=t||{};var n="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,r="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined;return at.calculateObjectSize(e,n,r)}function f(e,t,n,r,i,o){for(var s=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},o),a=qe.ensureBuffer(e),u=t,c=0;c<n;c++){var l=a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24;s.index=u,r[i+c]=ct.deserialize(a,s),u+=l}return u}t.setInternalBufferSize=s,t.serialize=a,t.serializeWithBufferAndIndex=u,t.deserialize=c,t.calculateObjectSize=l,t.deserializeStream=f;var d={Binary:We.Binary,Code:Ve.Code,DBRef:Ke.DBRef,Decimal128:Je.Decimal128,Double:ze.Double,Int32:Qe.Int32,Long:He.Long,Map:ot.Map,MaxKey:Xe.MaxKey,MinKey:Ze.MinKey,ObjectId:et.ObjectId,ObjectID:et.ObjectId,BSONRegExp:tt.BSONRegExp,BSONSymbol:nt.BSONSymbol,Timestamp:rt.Timestamp,EJSON:it.EJSON,setInternalBufferSize:s,serialize:a,serializeWithBufferAndIndex:u,deserialize:c,calculateObjectSize:l,deserializeStream:f};t.default=d})),pt=s(dt),ht=dt.deserializeStream;t.deserializeStream=ht;var _t=dt.calculateObjectSize;t.calculateObjectSize=_t;var yt=dt.deserialize;t.deserialize=yt;var gt=dt.serializeWithBufferAndIndex;t.serializeWithBufferAndIndex=gt;var vt=dt.serialize;t.serialize=vt;var mt=dt.setInternalBufferSize;t.setInternalBufferSize=mt;var bt=dt.ObjectID;t.ObjectID=bt;var wt=dt.Decimal128;t.Decimal128=wt;var Et=dt.BSONRegExp;t.BSONRegExp=Et;var St=dt.MaxKey;t.MaxKey=St;var Ot=dt.MinKey;t.MinKey=Ot;var At=dt.Int32;t.Int32=At;var Tt=dt.Double;t.Double=Tt;var It=dt.Timestamp;t.Timestamp=It;var Nt=dt.Long;t.Long=Nt;var Rt=dt.ObjectId;t.ObjectId=Rt;var Pt=dt.Binary;t.Binary=Pt;var Ct=dt.DBRef;t.DBRef=Ct;var Lt=dt.BSONSymbol;t.BSONSymbol=Lt;var Dt=dt.Map;t.Map=Dt;var Bt=dt.Code;t.Code=Bt;var Mt=dt.LongWithoutOverridesClass;t.LongWithoutOverridesClass=Mt;var xt=dt.EJSON;t.EJSON=xt;var jt=dt.BSON_INT64_MIN;t.BSON_INT64_MIN=jt;var kt=dt.BSON_INT64_MAX;t.BSON_INT64_MAX=kt;var Ut=dt.BSON_INT32_MIN;t.BSON_INT32_MIN=Ut;var $t=dt.BSON_INT32_MAX;t.BSON_INT32_MAX=$t;var Yt=dt.BSON_DATA_UNDEFINED;t.BSON_DATA_UNDEFINED=Yt;var Ft=dt.BSON_DATA_TIMESTAMP;t.BSON_DATA_TIMESTAMP=Ft;var qt=dt.BSON_DATA_SYMBOL;t.BSON_DATA_SYMBOL=qt;var Gt=dt.BSON_DATA_STRING;t.BSON_DATA_STRING=Gt;var Wt=dt.BSON_DATA_REGEXP;t.BSON_DATA_REGEXP=Wt;var Vt=dt.BSON_DATA_OID;t.BSON_DATA_OID=Vt;var Kt=dt.BSON_DATA_OBJECT;t.BSON_DATA_OBJECT=Kt;var Ht=dt.BSON_DATA_NUMBER;t.BSON_DATA_NUMBER=Ht;var Jt=dt.BSON_DATA_NULL;t.BSON_DATA_NULL=Jt;var zt=dt.BSON_DATA_MIN_KEY;t.BSON_DATA_MIN_KEY=zt;var Qt=dt.BSON_DATA_MAX_KEY;t.BSON_DATA_MAX_KEY=Qt;var Xt=dt.BSON_DATA_LONG;t.BSON_DATA_LONG=Xt;var Zt=dt.BSON_DATA_INT;t.BSON_DATA_INT=Zt;var en=dt.BSON_DATA_DECIMAL128;t.BSON_DATA_DECIMAL128=en;var tn=dt.BSON_DATA_DBPOINTER;t.BSON_DATA_DBPOINTER=tn;var nn=dt.BSON_DATA_DATE;t.BSON_DATA_DATE=nn;var rn=dt.BSON_DATA_CODE_W_SCOPE;t.BSON_DATA_CODE_W_SCOPE=rn;var on=dt.BSON_DATA_CODE;t.BSON_DATA_CODE=on;var sn=dt.BSON_DATA_BOOLEAN;t.BSON_DATA_BOOLEAN=sn;var an=dt.BSON_DATA_BINARY;t.BSON_DATA_BINARY=an;var un=dt.BSON_DATA_ARRAY;t.BSON_DATA_ARRAY=un;var cn=dt.BSON_BINARY_SUBTYPE_UUID_NEW;t.BSON_BINARY_SUBTYPE_UUID_NEW=cn;var ln=dt.BSON_BINARY_SUBTYPE_UUID;t.BSON_BINARY_SUBTYPE_UUID=ln;var fn=dt.BSON_BINARY_SUBTYPE_USER_DEFINED;t.BSON_BINARY_SUBTYPE_USER_DEFINED=fn;var dn=dt.BSON_BINARY_SUBTYPE_MD5;t.BSON_BINARY_SUBTYPE_MD5=dn;var pn=dt.BSON_BINARY_SUBTYPE_FUNCTION;t.BSON_BINARY_SUBTYPE_FUNCTION=pn;var hn=dt.BSON_BINARY_SUBTYPE_DEFAULT;t.BSON_BINARY_SUBTYPE_DEFAULT=hn;var _n=dt.BSON_BINARY_SUBTYPE_BYTE_ARRAY;t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=_n;var yn=pt;t.default=yn}).call(this,n("c8ba"),n("0de9")["default"],n("b639").Buffer,n("fee2")["default"])},e8bb:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var r=n("2ebd"),i=n("58da"),o=n("a60a"),s=n("a974"),a=n("cc9e"),u=n("6ba2"),c=n("872f"),l=n("6539"),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},d=function(){function t(e,t,n,r,i){var s=this;this.watch=function(e){var t=(0,l.getWsInstance)(s._db);return t.watch(f(f({},e),{envId:s._db.config.env,collectionName:s._coll,query:JSON.stringify(s._fieldFilters||{}),limit:s._queryOptions.limit,orderBy:s._fieldOrders?s._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):void 0}))},this._db=e,this._coll=t,this._fieldFilters=n,this._fieldOrders=r||[],this._queryOptions=i||{},this._request=new o.Db.reqClass(this._db.config)}return t.prototype.get=function(e){e=e||(0,r.createPromiseCallback)();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:i.QueryType.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=a.Util.formatResDocumentData(t.data.list),r={data:n,requestId:t.requestId};t.TotalCount&&(r.total=t.TotalCount),t.Limit&&(r.limit=t.Limit),t.Offset&&(r.offset=t.Offset),e(0,r)}})).catch((function(t){e(t)})),e.promise},t.prototype.count=function(e){e=e||(0,r.createPromiseCallback)();var t={collectionName:this._coll,queryType:i.QueryType.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})})).catch((function(t){e(t)})),e.promise},t.prototype.where=function(e){if("Object"!==Object.prototype.toString.call(e).slice(8,-1))throw Error(i.ErrorCode.QueryParamTypeError);var n=Object.keys(e),r=n.some((function(t){return void 0!==e[t]}));if(n.length&&!r)throw Error(i.ErrorCode.QueryParamValueError);return new t(this._db,this._coll,u.QuerySerializer.encode(e),this._fieldOrders,this._queryOptions)},t.prototype.orderBy=function(e,n){s.Validate.isFieldPath(e),s.Validate.isFieldOrder(n);var r={field:e,direction:n},i=this._fieldOrders.concat(r);return new t(this._db,this._coll,this._fieldFilters,i,this._queryOptions)},t.prototype.limit=function(e){s.Validate.isInteger("limit",e);var n=f({},this._queryOptions);return n.limit=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},t.prototype.skip=function(e){s.Validate.isInteger("offset",e);var n=f({},this._queryOptions);return n.offset=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)},t.prototype.update=function(e,t){if(t=t||(0,r.createPromiseCallback)(),!e||"object"!==typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"\u53c2\u6570\u5fc5\u9700\u662f\u975e\u7a7a\u5bf9\u8c61"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"\u4e0d\u80fd\u66f4\u65b0_id\u7684\u503c"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:i.QueryType.WHERE,multi:!0,merge:!0,upsert:!1,data:c.UpdateSerializer.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})})).catch((function(e){t(e)})),t.promise},t.prototype.field=function(e){for(var n in e)e[n]?"object"!==typeof e[n]&&(e[n]=1):e[n]=0;var r=f({},this._queryOptions);return r.projection=e,new t(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)},t.prototype.remove=function(t){t=t||(0,r.createPromiseCallback)(),Object.keys(this._queryOptions).length>0&&e("warn","`offset`, `limit` and `projection` are not supported in remove() operation"," at node_modules/@cloudbase/database/dist/esm/query.js:218"),this._fieldOrders.length>0&&e("warn","`orderBy` is not supported in remove() operation"," at node_modules/@cloudbase/database/dist/esm/query.js:221");var n={collectionName:this._coll,query:u.QuerySerializer.encode(this._fieldFilters),queryType:i.QueryType.WHERE,multi:!0};return this._request.send("database.deleteDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,deleted:e.data.deleted})})).catch((function(e){t(e)})),t.promise},t}();t.Query=d}).call(this,n("0de9")["default"])},ea32:function(e,t,n){"use strict";(function(e){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.printGroupLog=t.throwError=t.printInfo=t.printError=t.printWarn=t.execCallback=t.createPromiseCallback=t.removeParam=t.getHash=t.getQuery=t.toQueryString=t.createSign=t.formatUrl=t.genSeqId=t.isFormData=t.isInstanceOf=t.isNull=t.isPalinObject=t.isUndefined=t.isString=t.isArray=void 0;var i=r(n("c35b")),o=r(n("ee81")),s=r(n("b49a")),a=n("3aff");function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(e){return"string"===typeof e}function l(e){return"undefined"===typeof e}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function d(e){return"[object Null]"===Object.prototype.toString.call(e)}function p(e,t){return e instanceof t}function h(e){return"[object FormData]"===Object.prototype.toString.call(e)}function _(){return Math.random().toString(16).slice(2)}function y(e,t,n){void 0===n&&(n={});var r=/\?/.test(t),i="";for(var o in n)""===i?!r&&(t+="?"):i+="&",i+=o+"="+encodeURIComponent(n[o]);return t+=i,/^http(s)?\:\/\//.test(t)?t:""+e+t}function g(e){var t=o.default.stringify(e);return t=t.replace(/=+$/,""),t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t}function v(e,t){var n={alg:"HS256",typ:"JWT"},r=g(s.default.parse(JSON.stringify(n))),o=g(s.default.parse(JSON.stringify(e))),a=r+"."+o,u=g(i.default(a,t));return a+"."+u}function m(e){void 0===e&&(e={});var t=[];for(var n in e)t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function b(e,t){if("undefined"===typeof window)return!1;var n=t||window.location.search,r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=n.substr(n.indexOf("?")+1).match(r);return null!=i?i[2]:""}function w(e,t){var n,r=t.split("?")[0],i=[],o=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==o){i=o.split("&");for(var s=i.length-1;s>=0;s-=1)n=i[s].split("=")[0],n===e&&i.splice(s,1);r=r+"?"+i.join("&")}return r}function E(){var e;if(!Promise){e=function(){},e.promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e}function S(e,t,n){if(void 0===n&&(n=null),e&&"function"===typeof e)return e(t,n);if(t)throw t;return n}function O(t,n){e("warn","["+a.getSdkName()+"]["+t+"]:"+n," at node_modules/@cloudbase/utilities/dist/libs/util.js:165")}function A(t,n){e("error",{code:t,msg:"["+a.getSdkName()+"]["+t+"]:"+n}," at node_modules/@cloudbase/utilities/dist/libs/util.js:169")}function T(t,n){e("log","["+a.getSdkName()+"]["+t+"]:"+n," at node_modules/@cloudbase/utilities/dist/libs/util.js:176")}function I(e,t){throw new Error(JSON.stringify({code:e,msg:"["+a.getSdkName()+"]["+e+"]:"+t}))}function N(t){var n=t.title,r=t.subtitle,i=void 0===r?"":r,o=t.content,s=void 0===o?[]:o,a=t.printTrace,u=void 0!==a&&a,c=t.collapsed,l=void 0!==c&&c;l?console.groupCollapsed(n,i):console.group(n,i);for(var f=0,d=s;f<d.length;f++){var p=d[f],h=p.type,_=p.body;switch(h){case"info":e("log",_," at node_modules/@cloudbase/utilities/dist/libs/util.js:199");break;case"warn":e("warn",_," at node_modules/@cloudbase/utilities/dist/libs/util.js:202");break;case"error":e("error",_," at node_modules/@cloudbase/utilities/dist/libs/util.js:205");break}}u&&console.trace("stack trace:"),console.groupEnd()}t.isArray=u,t.isString=c,t.isUndefined=l,t.isPalinObject=f,t.isNull=d,t.isInstanceOf=p,t.isFormData=h,t.genSeqId=_,t.formatUrl=y,t.createSign=v,t.toQueryString=m,t.getQuery=b,t.getHash=function(e){if("undefined"===typeof window)return"";var t=window.location.hash.match(new RegExp("[#?&/]"+e+"=([^&#]*)"));return t?t[1]:""},t.removeParam=w,t.createPromiseCallback=E,t.execCallback=S,t.printWarn=O,t.printError=A,t.printInfo=T,t.throwError=I,t.printGroupLog=N,t.sleep=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n("0de9")["default"])},eb19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("5f9e"));function i(e){return e&&e.__esModule?e:{default:e}}var o={top:"top",bottom:"bottom",center:"center",message:"top",dialog:"center",share:"bottom",calibrate:"center",setting:"center"},s={data:function(){return{config:o}},mixins:[r.default]};t.default=s},eb68:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:["header","testListItem","resultEditable","systemState","hasSaved"],data:function(){return{editable:this.resultEditable,idHeadFocused:!1,scannerInput:"",scannerInterval:null,SCAN_GAP:300}},beforeDestroy:function(){this.clearScannerInterval()},methods:{switchEditable:function(){this.editable=!this.editable,this.$emit("update-resultEditable",this.editable)},hideKeyboard:function(){uni.hideKeyboard()},scannerAutoInput:function(){var t=this;if(this.$emit("scanner-start"),!this.scannerInterval){var n=0,r=0;this.scannerInterval=setInterval((function(){var i=t.scannerInput.length;e("log","start scanner",i," at components/SprintTestList.vue:131"),i>0&&(i===n?r++:(n=i,r=1)),r>1&&(t.$emit("scanner-input",t.scannerInput),t.scannerInput="",n=0,r=0)}),this.SCAN_GAP)}this.hideKeyboard()},clearScannerInterval:function(){var t=this;setTimeout((function(){t.scannerInput=""}),this.SCAN_GAP),this.scannerInterval&&(clearInterval(this.scannerInterval),this.scannerInterval=null,e("log","end scanner"," at components/SprintTestList.vue:167"))}}};t.default=n}).call(this,n("0de9")["default"])},edb3:function(e,t,n){"undefined"===typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))}),uni.restoreGlobal&&uni.restoreGlobal(weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),__definePage("pages/index/index",(function(){return Vue.extend(n("7259").default)})),__definePage("pages/uploadFiles/index",(function(){return Vue.extend(n("6c20").default)})),__definePage("pages/testGroupSetting/index",(function(){return Vue.extend(n("3316").default)})),__definePage("pages/oldSprint/index",(function(){return Vue.extend(n("9c51").default)})),__definePage("pages/sprint50/index",(function(){return Vue.extend(n("611a").default)})),__definePage("pages/football/index",(function(){return Vue.extend(n("7418").default)})),__definePage("pages/bluetooth/index",(function(){return Vue.extend(n("4c98").default)})),__definePage("pages/uploadFilesViaCloud/index",(function(){return Vue.extend(n("19dc").default)}))},ee16:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractStorage=t.AbstractSDKRequest=t.StorageType=void 0,t.StorageType=r,function(e){e["local"]="local",e["none"]="none",e["session"]="session"}(r||(t.StorageType=r={}));var i=function(){function e(){}return e}();t.AbstractSDKRequest=i;var o=function(){function e(){}return e}();t.AbstractStorage=o},ee81:function(e,t,n){(function(t,r){e.exports=r(n("9c77"))})(0,(function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=t[o>>>2]>>>24-o%4*8&255,a=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,c=s<<16|a<<8|u,l=0;l<4&&o+.75*l<n;l++)i.push(r.charAt(c>>>6*(3-l)&63));var f=r.charAt(64);if(f)while(i.length%4)i.push(f);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return o(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(e,t,n){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,u=n[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return r.create(i,o)}}(),e.enc.Base64}))},ef66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0;var r={CREATE_WATCH_NET_ERROR:{code:"CREATE_WATCH_NET_ERROR",message:"create watch network error"},CREATE_WACTH_EXCEED_ERROR:{code:"CREATE_WACTH_EXCEED_ERROR",message:"maximum connections exceed"},CREATE_WATCH_SERVER_ERROR:{code:"CREATE_WATCH_SERVER_ERROR",message:"create watch server error"},CONN_ERROR:{code:"CONN_ERROR",message:"connection error"},INVALID_PARAM:{code:"INVALID_PARAM",message:"Invalid request param"},INSERT_DOC_FAIL:{code:"INSERT_DOC_FAIL",message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"}};t.ERRORS=r},f0c5:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a,u,c){var l,f="function"===typeof e?e.options:e;if(u){f.components||(f.components={});var d=Object.prototype.hasOwnProperty;for(var p in u)d.call(u,p)&&!d.call(f.components,p)&&(f.components[p]=u[p])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(f.mixins||(f.mixins=[])).push(c)),t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),o&&(f._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},f._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(f.functional){f._injectStyles=l;var h=f.render;f.render=function(e,t){return l.call(t),h(e,t)}}else{var _=f.beforeCreate;f.beforeCreate=_?[].concat(_,l):[l]}return{exports:e,options:f}}n.d(t,"a",(function(){return r}))},f37e:function(e,t,n){"use strict";n.r(t);var r=n("5463"),i=n("cfaa");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s,a=n("f0c5"),u=Object(a["a"])(i["default"],r["b"],r["c"],!1,null,"c573e7de",null,!1,r["a"],s);t["default"]=u.exports},f5a3:function(e,t,n){"use strict";n.r(t);var r=n("d001"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},f5a4:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LOGINTYPE=void 0,t.LOGINTYPE=r,function(e){e["ANONYMOUS"]="ANONYMOUS",e["WECHAT"]="WECHAT",e["WECHAT_PUBLIC"]="WECHAT-PUBLIC",e["WECHAT_OPEN"]="WECHAT-OPEN",e["CUSTOM"]="CUSTOM",e["EMAIL"]="EMAIL",e["USERNAME"]="USERNAME",e["NULL"]="NULL"}(r||(t.LOGINTYPE=r={}))},f918:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("button",{attrs:{_i:1},on:{click:e.uploadFilesViaCloud}}),n("button",{attrs:{_i:2},on:{click:e.loginTCB}})])},o=[]},f948:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={uniTransition:n("9aee").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._$s(0,"i",e.showPopup)?n("view",{staticClass:e._$s(0,"sc","uni-popup"),class:e._$s(0,"c",[e.popupstyle]),attrs:{_i:0},on:{touchmove:function(t){return t.stopPropagation(),t.preventDefault(),e.clear(t)}}},[e._$s(1,"i",e.maskShow)?n("uni-transition",{attrs:{"mode-class":["fade"],styles:e.maskClass,duration:e.duration,show:e.showTrans,_i:1},on:{click:e.onTap}}):e._e(),n("uni-transition",{attrs:{"mode-class":e.ani,styles:e.transClass,duration:e.duration,show:e.showTrans,_i:2},on:{click:e.onTap}},[n("view",{staticClass:e._$s(3,"sc","uni-popup__wrapper-box"),attrs:{_i:3},on:{click:function(t){return t.stopPropagation(),e.clear(t)}}},[e._t("default",null,{_i:4})],2)])],1):e._e()},o=[]},fae7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("a60a"),i=n("e7fd"),o=n("6ba2"),s=function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=function(){function e(e,t){this._stages=[],e&&t&&(this._db=e,this._request=new r.Db.reqClass(this._db.config),this._collectionName=t)}return e.prototype.end=function(){return s(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:if(!this._collectionName||!this._db)throw new Error("Aggregation pipeline cannot send request");return[4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages})];case 1:return e=t.sent(),e&&e.data&&e.data.list?[2,{requestId:e.requestId,data:JSON.parse(e.data.list).map(i.EJSON.parse)}]:[2,e]}}))}))},e.prototype.unwrap=function(){return this._stages},e.prototype.done=function(){return this._stages.map((function(e){var t,n=e.stageKey,r=e.stageValue;return t={},t[n]=JSON.parse(r),t}))},e.prototype._pipe=function(e,t){return this._stages.push({stageKey:"$"+e,stageValue:JSON.stringify(t)}),this},e.prototype.addFields=function(e){return this._pipe("addFields",e)},e.prototype.bucket=function(e){return this._pipe("bucket",e)},e.prototype.bucketAuto=function(e){return this._pipe("bucketAuto",e)},e.prototype.count=function(e){return this._pipe("count",e)},e.prototype.geoNear=function(e){return this._pipe("geoNear",e)},e.prototype.group=function(e){return this._pipe("group",e)},e.prototype.limit=function(e){return this._pipe("limit",e)},e.prototype.match=function(e){return this._pipe("match",o.QuerySerializer.encode(e))},e.prototype.project=function(e){return this._pipe("project",e)},e.prototype.lookup=function(e){return this._pipe("lookup",e)},e.prototype.replaceRoot=function(e){return this._pipe("replaceRoot",e)},e.prototype.sample=function(e){return this._pipe("sample",e)},e.prototype.skip=function(e){return this._pipe("skip",e)},e.prototype.sort=function(e){return this._pipe("sort",e)},e.prototype.sortByCount=function(e){return this._pipe("sortByCount",e)},e.prototype.unwind=function(e){return this._pipe("unwind",e)},e}(),c=u;t.default=c},fb29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORS=void 0,t.ERRORS={INVALID_PARAMS:"INVALID_PARAMS",INVALID_SYNTAX:"INVALID_SYNTAX",INVALID_OPERATION:"INVALID_OPERATION",OPERATION_FAIL:"OPERATION_FAIL",NETWORK_ERROR:"NETWORK_ERROR",UNKOWN_ERROR:"UNKOWN_ERROR"}},fb4c:function(e,t,n){"use strict";n.r(t);var r=n("98c3"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},fc76:function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRequest=t.genAdapter=void 0;var a=n("447a"),u=n("ea32"),c=n("39ba"),l=function(t){function n(e){var n=t.call(this)||this,r=e.timeout,i=e.timeoutMsg,o=e.restrictedMethods;return n._timeout=r||0,n._timeoutMsg=i||"\u8bf7\u6c42\u8d85\u65f6",n._restrictedMethods=o||["get","post","upload","download"],n}return r(n,t),n.prototype.get=function(e){return this._request(i(i({},e),{method:"get"}),this._restrictedMethods.includes("get"))},n.prototype.post=function(e){return this._request(i(i({},e),{method:"post"}),this._restrictedMethods.includes("post"))},n.prototype.put=function(e){return this._request(i(i({},e),{method:"put"}))},n.prototype.upload=function(e){var t=e.data,n=e.file,r=e.name,o=new FormData;for(var s in t)o.append(s,t[s]);return o.append("key",r),o.append("file",n),this._request(i(i({},e),{data:o,method:"post"}),this._restrictedMethods.includes("upload"))},n.prototype.download=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.get(i(i({},e),{headers:{},responseType:"blob"}))];case 1:return t=s.sent().data,n=window.URL.createObjectURL(new Blob([t])),r=decodeURIComponent(new URL(e.url).pathname.split("/").pop()||""),o=document.createElement("a"),o.href=n,o.setAttribute("download",r),o.style.display="none",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),document.body.removeChild(o),[3,3];case 2:return s.sent(),[3,3];case 3:return[2,new Promise((function(t){t({statusCode:200,tempFilePath:e.url})}))]}}))}))},n.prototype._request=function(t,n){var r=this;void 0===n&&(n=!1);var i=String(t.method).toLowerCase()||"get";return new Promise((function(o){var s,a,l=t.url,f=t.headers,d=void 0===f?{}:f,p=t.data,h=t.responseType,_=t.withCredentials,y=t.body,g=t.onUploadProgress,v=u.formatUrl(c.getProtocol(),l,"get"===i?p:{}),m=new XMLHttpRequest;for(var b in m.open(i,v),h&&(m.responseType=h),d)m.setRequestHeader(b,d[b]);g&&m.upload.addEventListener("progress",g),m.onreadystatechange=function(){var e={};if(4===m.readyState){var t=m.getAllResponseHeaders(),n=t.trim().split(/[\r\n]+/),r={};n.forEach((function(e){var t=e.split(": "),n=t.shift().toLowerCase(),i=t.join(": ");r[n]=i})),e.header=r,e.statusCode=m.status;try{e.data="blob"===h?m.response:JSON.parse(m.responseText)}catch(i){e.data="blob"===h?m.response:m.responseText}clearTimeout(s),o(e)}},n&&r._timeout&&(s=setTimeout((function(){e("warn",r._timeoutMsg," at node_modules/@cloudbase/utilities/dist/adapters/platforms/web.js:173"),m.abort()}),r._timeout)),a=u.isFormData(p)?p:"application/x-www-form-urlencoded"===d["content-type"]?u.toQueryString(p):y||(p?JSON.stringify(p):void 0),_&&(m.withCredentials=!0),m.send(a)}))},n}(a.AbstractSDKRequest);function f(){var e={root:window,reqClass:l,wsClass:WebSocket,localStorage:localStorage,sessionStorage:sessionStorage};return e}t.WebRequest=l,t.genAdapter=f}).call(this,n("0de9")["default"])},fce3:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=t.utils=t.events=t.cache=t.adapters=t.constants=void 0;var s=o(n("3aff"));t.constants=s;var a=o(n("0251"));t.adapters=a;var u=o(n("58c7"));t.cache=u;var c=o(n("6ef6"));t.events=c;var l=o(n("ea32"));t.utils=l;var f=o(n("3688"));t.helpers=f},fcfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReference=void 0;var r=n("2ebd"),i=n("a60a"),o=n("cc9e"),s=n("872f"),a=n("9727"),u=n("950b"),c=n("58da"),l=n("6539"),f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},d=function(){function e(e,t,n,r){var o=this;void 0===r&&(r={}),this.watch=function(e){var t=(0,l.getWsInstance)(o._db);return t.watch(f(f({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=e,this._coll=t,this.id=n,this.request=new i.Db.reqClass(this._db.config),this.projection=r}return e.prototype.create=function(e,t){t=t||(0,r.createPromiseCallback)();var n={collectionName:this._coll,data:(0,a.serialize)(e)};return this.id&&(n["_id"]=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.set=function(e,t){if(t=t||(0,r.createPromiseCallback)(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId\u4e0d\u80fd\u4e3a\u7a7a"});if(!e||"object"!==typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"\u53c2\u6570\u5fc5\u9700\u662f\u975e\u7a7a\u5bf9\u8c61"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"\u4e0d\u80fd\u66f4\u65b0_id\u7684\u503c"});var n=!1,i=function e(t){if("object"===typeof t)for(var r in t)t[r]instanceof u.UpdateCommand?n=!0:"object"===typeof t[r]&&e(t[r])};if(i(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var o=!1,s={collectionName:this._coll,queryType:c.QueryType.DOC,data:(0,a.serialize)(e),multi:!1,merge:o,upsert:!0};return this.id&&(s["query"]={_id:this.id}),this.request.send("database.updateDocument",s).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.update=function(e,t){if(t=t||(0,r.createPromiseCallback)(),!e||"object"!==typeof e)return Promise.resolve({code:"INVALID_PARAM",message:"\u53c2\u6570\u5fc5\u9700\u662f\u975e\u7a7a\u5bf9\u8c61"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"\u4e0d\u80fd\u66f4\u65b0_id\u7684\u503c"});var n={_id:this.id},i=!0,o={collectionName:this._coll,data:s.UpdateSerializer.encode(e),query:n,queryType:c.QueryType.DOC,multi:!1,merge:i,upsert:!1};return this.request.send("database.updateDocument",o).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise},e.prototype.remove=function(e){e=e||(0,r.createPromiseCallback)();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:c.QueryType.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise},e.prototype.get=function(e){e=e||(0,r.createPromiseCallback)();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:c.QueryType.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=o.Util.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}})).catch((function(t){e(t)})),e.promise},e.prototype.field=function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)},e}();t.DocumentReference=d},fd8f:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={name:"uniTransition",props:{show:{type:Boolean,default:!1},modeClass:{type:Array,default:function(){return[]}},duration:{type:Number,default:300},styles:{type:Object,default:function(){return{}}}},data:function(){return{isShow:!1,transform:"",ani:{in:"",active:""}}},watch:{show:{handler:function(e){e?this.open():this.close()},immediate:!0}},computed:{stylesObject:function(){var e=i(i({},this.styles),{},{"transition-duration":this.duration/1e3+"s"}),t="";for(var n in e){var r=this.toLine(n);t+=r+":"+e[n]+";"}return t}},created:function(){},methods:{change:function(){this.$emit("click",{detail:this.isShow})},open:function(){var e=this;for(var t in clearTimeout(this.timer),this.isShow=!0,this.transform="",this.ani.in="",this.getTranfrom(!1))"opacity"===t?this.ani.in="fade-in":this.transform+="".concat(this.getTranfrom(!1)[t]," ");this.$nextTick((function(){setTimeout((function(){e._animation(!0)}),50)}))},close:function(e){clearTimeout(this.timer),this._animation(!1)},_animation:function(e){var t=this,n=this.getTranfrom(e);for(var r in this.transform="",n)"opacity"===r?this.ani.in="fade-".concat(e?"out":"in"):this.transform+="".concat(n[r]," ");this.timer=setTimeout((function(){e||(t.isShow=!1),t.$emit("change",{detail:t.isShow})}),this.duration)},getTranfrom:function(e){var t={transform:""};return this.modeClass.forEach((function(n){switch(n){case"fade":t.opacity=e?1:0;break;case"slide-top":t.transform+="translateY(".concat(e?"0":"-100%",") ");break;case"slide-right":t.transform+="translateX(".concat(e?"0":"100%",") ");break;case"slide-bottom":t.transform+="translateY(".concat(e?"0":"100%",") ");break;case"slide-left":t.transform+="translateX(".concat(e?"0":"-100%",") ");break;case"zoom-in":t.transform+="scale(".concat(e?1:.8,") ");break;case"zoom-out":t.transform+="scale(".concat(e?1:1.2,") ");break}})),t},_modeClassArr:function(e){var t=this.modeClass;if("string"!==typeof t){var n="";return t.forEach((function(t){n+=t+"-"+e+","})),n.substr(0,n.length-1)}return t+"-"+e},toLine:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}};t.default=s},fe07:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Behavior=Re,t.Component=Ne,t.Page=Te,t.nextTick=t.default=void 0;var r,i=o(n("8bbf"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return d(e)||f(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}function d(e){if(Array.isArray(e))return e}function p(e,t){e&&(t.mpOptions.data=e)}function h(t){t.components=e.__wxVueOptions.components}var _=Object.prototype.toString,y=Object.prototype.hasOwnProperty;function g(e){return"function"===typeof e}function v(e){return"[object Object]"===_.call(e)}function m(e,t){return y.call(e,t)}function b(){}function w(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var E=/-(\w)/g,S=w((function(e){return e.replace(E,(function(e,t){return t?t.toUpperCase():""}))})),O="__data__",A={created:"onServiceCreated",attached:"onServiceAttached",ready:"mounted",moved:"moved",detached:"destroyed"},T=Object.keys(A),I={show:"onPageShow",hide:"onPageHide",resize:"onPageResize"},N=Object.keys(I),R=["onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap"];function P(e,t){var n=Object.create(null);Object.keys(e).forEach((function(t){var r=e[t];g(r)&&-1===R.indexOf(t)&&(n[t]=r)})),t.methods=n}function C(e,t){Object.keys(e).forEach((function(n){-1!==R.indexOf(n)&&(t[n]=e[n])}))}function L(e){var t={mixins:[],mpOptions:{}};return h(t),p(e.data,t),P(e,t),C(e,t),t}function D(e,t){e&&(t.mpOptions.properties=e)}function B(e,t){e&&(t.mpOptions.options=e)}function M(e,t){e&&(e.$emit&&(console.warn('Method "$emit" conflicts with an existing Vue instance method'),delete e.$emit),t.methods=e)}function x(e,t){T.forEach((function(n){m(e,n)&&(t[A[n]]||(t[A[n]]=[])).push(e[n])}))}var j={"wx://form-field":{},"wx://component-export":{}};function k(e){var t=e.behaviors,n=e.definitionFilter,r=[];if(Array.isArray(t)&&t.forEach((function(t){t="string"===typeof t?j[t]:t,t.definitionFilter&&(r.push(t.definitionFilter),t.definitionFilter.call(null,e,[]))})),g(n))return function(e){n(e,r)}}function U(e,t){k(e)}function $(e){var t=e.data,n=e.methods,r=e.behaviors,i=e.properties,o={watch:{},mpOptions:{mpObservers:[]}};return p(t,o),M(n,o),F(r,o),D(i,o),x(e,o),U(e),o}var Y={"wx://form-field":{beforeCreate:function(){var e=this.$options.mpOptions;e.properties||(e.properties=Object.create(null));var t=e.properties;m(t,"name")||(t.name={type:String}),m(t,"value")||(t.value={type:String})}}};function F(e,t){e&&e.forEach((function(e){"string"===typeof e?Y[e]&&t.mixins.push(Y[e]):t.mixins.push($(e))}))}function q(e){return e.split(".")}function G(e){return e.split(",").map((function(e){return q(e)}))}function W(e,t){if(e){var n=t.mpOptions.mpObservers;Object.keys(e).forEach((function(t){n.push({paths:G(t),observer:e[t]})}))}}function V(e,t){0===t.indexOf("/")&&(e="");var n=e.split("/"),r=t.split("/");n.pop();while(r.length){var i=r.shift();""!==i&&"."!==i&&(".."!==i?n.push(i):n.pop())}return n.join("/")}function K(t,n){t&&(Object.keys(t).forEach((function(n){var r=t[n];r.name=n,r.target=r.target?String(r.target):V(e.__wxRoute,n)})),n.mpOptions.relations=t)}function H(e,t){e&&(Array.isArray(e)||(e=[e]),t.mpOptions.externalClasses=e,t.mpOptions.properties||(t.mpOptions.properties=Object.create(null)),e.forEach((function(e){t.mpOptions.properties[S(e)]={type:String,value:""}})))}function J(e,t){e&&x(e,t)}function z(e,t){e&&N.forEach((function(n){var r=e[n];g(r)&&(t[I[n]]=r)}))}function Q(e){var t=e.data,n=e.options,r=e.methods,i=e.behaviors,o=e.lifetimes,s=e.observers,a=e.relations,u=e.properties,c=e.pageLifetimes,l=e.externalClasses,f={mixins:[],props:{},watch:{},mpOptions:{mpObservers:[]}};return h(f),p(t,f),B(n,f),M(r,f),F(i,f),J(o,f),W(s,f),K(a,f),D(u,f),z(c,f),H(l,f),x(e,f),U(e),f}function X(e,t,n,r){if(t){var i="_$".concat(e,"Handlers");(r[i]||(r[i]=[])).push((function(){t.call(r,n)}))}}function Z(e,t,n){var r="linked",i=e.name,o=n._$relationNodes||(n._$relationNodes=Object.create(null));(o[i]||(o[i]=[])).push(t),X(r,e[r],t,n)}function ee(e,t,n){var r="unlinked";X(r,e[r],t,n)}function te(e,t,n){var r=e&&e.$options.mpOptions&&e.$options.mpOptions.relations;if(!r)return[];var i=Object.keys(r).find((function(e){var i=r[e];return i.target===t&&i.type===n}));return i?[r[i],e]:[]}function ne(e,t,n){var r=n(e,e.$options.mpOptions.path),i=a(r,2),o=i[0],s=i[1];o&&(Z(o,e,s),Z(t,s,e),ee(o,e,s),ee(t,s,e))}function re(e,t){var n=e.type;"parent"===n?ne(t,e,(function(e,t){return te(e.$parent,t,"child")})):"ancestor"===n&&ne(t,e,(function(e,t){var n=e.$parent;while(n){var r=te(n,t,"descendant");if(r.length)return r;n=n.$parent}return[]}))}function ie(e){var t=e.$options.mpOptions||{},n=t.relations;n&&Object.keys(n).forEach((function(t){re(n[t],e)}))}function oe(e,t){var n=e["_$".concat(t,"Handlers")];n&&n.forEach((function(e){return e()}))}var se={enumerable:!0,configurable:!0,get:b,set:b};function ae(e,t,n){se.get=function(){return this[t][n]},se.set=function(e){this[t][n]=e},Object.defineProperty(e,n,se)}function ue(e,t,n){var r=e.replace(/\[(\d+?)\]/g,".$1").split(".");return r.reduce((function(e,n,i){if(i!==r.length-1)return"undefined"===typeof e[n]&&(e[n]={}),e[n];e[n]=t}),n),1===r.length}function ce(e,t){var n=this;v(e)&&(Object.keys(e).forEach((function(t){ue(t,e[t],n.data)&&!m(n,t)&&ae(n,O,t)})),this.$forceUpdate(),g(t)&&this.$nextTick(t))}var le=Object.prototype.toString,fe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=le.call(n);if("[object Array]"===r)return t=n.slice(0),t;if("[object Object]"===r){for(var i in n)t[i]=e(t[i],n[i]);return t}if("[object Date]"===r)return new Date(n.getTime());if("[object RegExp]"===r){var o=String(n),s=o.lastIndexOf("/");return new RegExp(o.slice(1,s),o.slice(s+1))}return n},de=function(e){return fe("[object Array]"===le.call(e)?[]:{},e)},pe=(r={},s(r,String,""),s(r,Number,0),s(r,Boolean,!1),s(r,Object,null),s(r,Array,[]),s(r,null,null),r);function he(e){return pe[e]}function _e(e){return v(e)?m(e,"value")?e.value:he(e.type):he(e)}function ye(e){return v(e)?e.type:e}function ge(e,t,n,r){var i=n[e];if(void 0!==i){var o=t[e],s=ye(o);i=ve(i,s);var a=o&&o.observer;return a&&setTimeout((function(){me(a,r,i)}),4),i}return _e(t[e])}function ve(e,t){return t===Boolean?!!e:t===String?String(e):e}function me(e,t,n,r){try{"function"===typeof e?e.call(t,n,r):"string"===typeof e&&"function"===typeof t[e]&&t[e](n,r)}catch(i){console.error("execute observer ".concat(e," callback fail! err: ").concat(i))}}function be(e,t){var n=e.$options.mpOptions.properties;if(n){var r=de(e.$options.propsData)||{},i=function(i){var o=!!v(n[i])&&n[i].observer,s=ge(i,n,r,e);Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){var n=s;t===s||t!==t&&s!==s||(s=Array.isArray(t)?t.slice(0):t,o&&me(o,e,t,n),e.$forceUpdate())}})};for(var o in n)i(o)}}function we(e){var t=e.$options.mpOptions&&e.$options.mpOptions.properties,n=e.$options.propsData;n&&t&&Object.keys(t).forEach((function(r){m(n,r)&&(e[r]=ve(n[r],ye(t[r])))}))}function Ee(e){var t=JSON.parse(JSON.stringify(e.$options.mpOptions.data||{}));e[O]=t;var n={get:function(){return e[O]},set:function(t){e[O]=t}};Object.defineProperties(e,{data:n,properties:n}),e.setData=ce,be(e,t),Object.keys(t).forEach((function(t){ae(e,O,t)}))}function Se(e){var t=e.$emit;e.triggerEvent=function(n,r,i){var o={dataset:e.$el.dataset},s={target:o,currentTarget:o,detail:r,preventDefault:b,stopPropagation:b};t.call(e,n,s)},e.$emit=function(){e.triggerEvent.apply(e,arguments)},e.getRelationNodes=function(t){return(e._$relationNodes&&e._$relationNodes[t]||[]).filter((function(e){return!e._isDestroyed}))},e._$updateProperties=we}function Oe(e){var t=e.$options.watch;t&&Object.keys(t).forEach((function(n){var r=t[n];if(r.mounted){var i=e[n],o=r.handler;"string"===typeof o&&(o=e[o]),o&&o.call(e,i,i)}}))}var Ae={beforeCreate:function(){this._renderProxy=this,this._$self=this,this._$noop=b},created:function(){Ee(this),Se(this),ie(this)},mounted:function(){Oe(this)},destroyed:function(){oe(this,"unlinked")}};function Te(t){var n=L(t);n.mixins.unshift(Ae),n.mpOptions.path=e.__wxRoute,e.__wxComponents[e.__wxRoute]=n}function Ie(e){e.onServiceAttached||(e.onServiceAttached=[]),e.onServiceAttached.push((function(){oe(this,"linked")}))}function Ne(t){var n=Q(t);n.mixins.unshift(Ae),n.mpOptions.path=e.__wxRoute,Ie(n),e.__wxComponents[e.__wxRoute]=n}function Re(e){return e}e.__wxRoute="",e.__wxComponents=Object.create(null),e.__wxVueOptions=Object.create(null);var Pe=i.default.nextTick;t.nextTick=Pe;var Ce=uni.__$wx__,Le=Ce;t.default=Le}).call(this,n("c8ba"))},fee2:function(e,t,n){"use strict";n.r(t);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,62,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function i(e,t){for(var n,i=e.length,o="="===e[i-2]?2:"="===e[i-1]?1:0,s=0,a=i-o&4294967292,u=0;u<a;u+=4)n=r[e.charCodeAt(u)]<<18|r[e.charCodeAt(u+1)]<<12|r[e.charCodeAt(u+2)]<<6|r[e.charCodeAt(u+3)],t[s++]=n>>16&255,t[s++]=n>>8&255,t[s++]=255&n;1===o&&(n=r[e.charCodeAt(u)]<<10|r[e.charCodeAt(u+1)]<<4|r[e.charCodeAt(u+2)]>>2,t[s++]=n>>8&255,t[s++]=255&n),2===o&&(n=r[e.charCodeAt(u)]<<2|r[e.charCodeAt(u+1)]>>4,t[s++]=255&n)}t["default"]={getRandomValues(e){if(!(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8ClampedArray))throw new Error("Expected an integer array");if(e.byteLength>65536)throw new Error("Can only request a maximum of 65536 bytes");var t=uni.requireNativePlugin("DCloud-Crypto");return i(t.getRandomValues(e.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e}}},ff18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var r=n("a974"),i=n("5d4c"),o=n("2a13"),s=function(){function e(e,t){r.Validate.isGeopoint("longitude",e),r.Validate.isGeopoint("latitude",t),this.longitude=e,this.latitude=t}return e.prototype.parse=function(e){var t;return t={},t[e]={type:"Point",coordinates:[this.longitude,this.latitude]},t},e.prototype.toJSON=function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}},e.prototype.toReadableString=function(){return"["+this.longitude+","+this.latitude+"]"},e.validate=function(e){return"Point"===e.type&&(0,o.isArray)(e.coordinates)&&r.Validate.isGeopoint("longitude",e.coordinates[0])&&r.Validate.isGeopoint("latitude",e.coordinates[1])},Object.defineProperty(e.prototype,"_internalType",{get:function(){return i.SYMBOL_GEO_POINT},enumerable:!0,configurable:!0}),e}();t.Point=s}},[["4e71","app-config"]]]);